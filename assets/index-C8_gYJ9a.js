(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))r(y);new MutationObserver(y=>{for(const A of y)if(A.type==="childList")for(const U of A.addedNodes)U.tagName==="LINK"&&U.rel==="modulepreload"&&r(U)}).observe(document,{childList:!0,subtree:!0});function p(y){const A={};return y.integrity&&(A.integrity=y.integrity),y.referrerPolicy&&(A.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?A.credentials="include":y.crossOrigin==="anonymous"?A.credentials="omit":A.credentials="same-origin",A}function r(y){if(y.ep)return;y.ep=!0;const A=p(y);fetch(y.href,A)}})();function v0(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var fo={exports:{}},Vi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function Eh(){if(l0)return Vi;l0=1;var u=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function p(r,y,A){var U=null;if(A!==void 0&&(U=""+A),y.key!==void 0&&(U=""+y.key),"key"in y){A={};for(var R in y)R!=="key"&&(A[R]=y[R])}else A=y;return y=A.ref,{$$typeof:u,type:r,key:U,ref:y!==void 0?y:null,props:A}}return Vi.Fragment=f,Vi.jsx=p,Vi.jsxs=p,Vi}var a0;function Ah(){return a0||(a0=1,fo.exports=Eh()),fo.exports}var s=Ah(),mo={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function zh(){if(n0)return Ve;n0=1;var u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),U=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),O=Symbol.iterator;function X(v){return v===null||typeof v!="object"?null:(v=O&&v[O]||v["@@iterator"],typeof v=="function"?v:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,we={};function ue(v,L,ce){this.props=v,this.context=L,this.refs=we,this.updater=ce||W}ue.prototype.isReactComponent={},ue.prototype.setState=function(v,L){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,L,"setState")},ue.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function se(){}se.prototype=ue.prototype;function P(v,L,ce){this.props=v,this.context=L,this.refs=we,this.updater=ce||W}var me=P.prototype=new se;me.constructor=P,re(me,ue.prototype),me.isPureReactComponent=!0;var Qe=Array.isArray;function G(){}var ie={H:null,A:null,T:null,S:null},Me=Object.prototype.hasOwnProperty;function Ye(v,L,ce){var ye=ce.ref;return{$$typeof:u,type:v,key:L,ref:ye!==void 0?ye:null,props:ce}}function $(v,L){return Ye(v.type,L,v.props)}function Te(v){return typeof v=="object"&&v!==null&&v.$$typeof===u}function qe(v){var L={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(ce){return L[ce]})}var Ie=/\/+/g;function ut(v,L){return typeof v=="object"&&v!==null&&v.key!=null?qe(""+v.key):L.toString(36)}function Ae(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(G,G):(v.status="pending",v.then(function(L){v.status==="pending"&&(v.status="fulfilled",v.value=L)},function(L){v.status==="pending"&&(v.status="rejected",v.reason=L)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function E(v,L,ce,ye,Le){var Be=typeof v;(Be==="undefined"||Be==="boolean")&&(v=null);var Xe=!1;if(v===null)Xe=!0;else switch(Be){case"bigint":case"string":case"number":Xe=!0;break;case"object":switch(v.$$typeof){case u:case f:Xe=!0;break;case b:return Xe=v._init,E(Xe(v._payload),L,ce,ye,Le)}}if(Xe)return Le=Le(v),Xe=ye===""?"."+ut(v,0):ye,Qe(Le)?(ce="",Xe!=null&&(ce=Xe.replace(Ie,"$&/")+"/"),E(Le,L,ce,"",function(zl){return zl})):Le!=null&&(Te(Le)&&(Le=$(Le,ce+(Le.key==null||v&&v.key===Le.key?"":(""+Le.key).replace(Ie,"$&/")+"/")+Xe)),L.push(Le)),1;Xe=0;var vt=ye===""?".":ye+":";if(Qe(v))for(var yt=0;yt<v.length;yt++)ye=v[yt],Be=vt+ut(ye,yt),Xe+=E(ye,L,ce,Be,Le);else if(yt=X(v),typeof yt=="function")for(v=yt.call(v),yt=0;!(ye=v.next()).done;)ye=ye.value,Be=vt+ut(ye,yt++),Xe+=E(ye,L,ce,Be,Le);else if(Be==="object"){if(typeof v.then=="function")return E(Ae(v),L,ce,ye,Le);throw L=String(v),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Xe}function k(v,L,ce){if(v==null)return v;var ye=[],Le=0;return E(v,ye,"","",function(Be){return L.call(ce,Be,Le++)}),ye}function he(v){if(v._status===-1){var L=v._result;L=L(),L.then(function(ce){(v._status===0||v._status===-1)&&(v._status=1,v._result=ce)},function(ce){(v._status===0||v._status===-1)&&(v._status=2,v._result=ce)}),v._status===-1&&(v._status=0,v._result=L)}if(v._status===1)return v._result.default;throw v._result}var Pe=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)},Fe={map:k,forEach:function(v,L,ce){k(v,function(){L.apply(this,arguments)},ce)},count:function(v){var L=0;return k(v,function(){L++}),L},toArray:function(v){return k(v,function(L){return L})||[]},only:function(v){if(!Te(v))throw Error("React.Children.only expected to receive a single React element child.");return v}};return Ve.Activity=g,Ve.Children=Fe,Ve.Component=ue,Ve.Fragment=p,Ve.Profiler=y,Ve.PureComponent=P,Ve.StrictMode=r,Ve.Suspense=z,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(v){return ie.H.useMemoCache(v)}},Ve.cache=function(v){return function(){return v.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(v,L,ce){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var ye=re({},v.props),Le=v.key;if(L!=null)for(Be in L.key!==void 0&&(Le=""+L.key),L)!Me.call(L,Be)||Be==="key"||Be==="__self"||Be==="__source"||Be==="ref"&&L.ref===void 0||(ye[Be]=L[Be]);var Be=arguments.length-2;if(Be===1)ye.children=ce;else if(1<Be){for(var Xe=Array(Be),vt=0;vt<Be;vt++)Xe[vt]=arguments[vt+2];ye.children=Xe}return Ye(v.type,Le,ye)},Ve.createContext=function(v){return v={$$typeof:U,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:A,_context:v},v},Ve.createElement=function(v,L,ce){var ye,Le={},Be=null;if(L!=null)for(ye in L.key!==void 0&&(Be=""+L.key),L)Me.call(L,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Le[ye]=L[ye]);var Xe=arguments.length-2;if(Xe===1)Le.children=ce;else if(1<Xe){for(var vt=Array(Xe),yt=0;yt<Xe;yt++)vt[yt]=arguments[yt+2];Le.children=vt}if(v&&v.defaultProps)for(ye in Xe=v.defaultProps,Xe)Le[ye]===void 0&&(Le[ye]=Xe[ye]);return Ye(v,Be,Le)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(v){return{$$typeof:R,render:v}},Ve.isValidElement=Te,Ve.lazy=function(v){return{$$typeof:b,_payload:{_status:-1,_result:v},_init:he}},Ve.memo=function(v,L){return{$$typeof:h,type:v,compare:L===void 0?null:L}},Ve.startTransition=function(v){var L=ie.T,ce={};ie.T=ce;try{var ye=v(),Le=ie.S;Le!==null&&Le(ce,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(G,Pe)}catch(Be){Pe(Be)}finally{L!==null&&ce.types!==null&&(L.types=ce.types),ie.T=L}},Ve.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Ve.use=function(v){return ie.H.use(v)},Ve.useActionState=function(v,L,ce){return ie.H.useActionState(v,L,ce)},Ve.useCallback=function(v,L){return ie.H.useCallback(v,L)},Ve.useContext=function(v){return ie.H.useContext(v)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(v,L){return ie.H.useDeferredValue(v,L)},Ve.useEffect=function(v,L){return ie.H.useEffect(v,L)},Ve.useEffectEvent=function(v){return ie.H.useEffectEvent(v)},Ve.useId=function(){return ie.H.useId()},Ve.useImperativeHandle=function(v,L,ce){return ie.H.useImperativeHandle(v,L,ce)},Ve.useInsertionEffect=function(v,L){return ie.H.useInsertionEffect(v,L)},Ve.useLayoutEffect=function(v,L){return ie.H.useLayoutEffect(v,L)},Ve.useMemo=function(v,L){return ie.H.useMemo(v,L)},Ve.useOptimistic=function(v,L){return ie.H.useOptimistic(v,L)},Ve.useReducer=function(v,L,ce){return ie.H.useReducer(v,L,ce)},Ve.useRef=function(v){return ie.H.useRef(v)},Ve.useState=function(v){return ie.H.useState(v)},Ve.useSyncExternalStore=function(v,L,ce){return ie.H.useSyncExternalStore(v,L,ce)},Ve.useTransition=function(){return ie.H.useTransition()},Ve.version="19.2.0",Ve}var i0;function jo(){return i0||(i0=1,mo.exports=zh()),mo.exports}var S=jo();const oc=v0(S);var ho={exports:{}},Zi={},yo={exports:{}},go={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function Dh(){return s0||(s0=1,(function(u){function f(E,k){var he=E.length;E.push(k);e:for(;0<he;){var Pe=he-1>>>1,Fe=E[Pe];if(0<y(Fe,k))E[Pe]=k,E[he]=Fe,he=Pe;else break e}}function p(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var k=E[0],he=E.pop();if(he!==k){E[0]=he;e:for(var Pe=0,Fe=E.length,v=Fe>>>1;Pe<v;){var L=2*(Pe+1)-1,ce=E[L],ye=L+1,Le=E[ye];if(0>y(ce,he))ye<Fe&&0>y(Le,ce)?(E[Pe]=Le,E[ye]=he,Pe=ye):(E[Pe]=ce,E[L]=he,Pe=L);else if(ye<Fe&&0>y(Le,he))E[Pe]=Le,E[ye]=he,Pe=ye;else break e}}return k}function y(E,k){var he=E.sortIndex-k.sortIndex;return he!==0?he:E.id-k.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var A=performance;u.unstable_now=function(){return A.now()}}else{var U=Date,R=U.now();u.unstable_now=function(){return U.now()-R}}var z=[],h=[],b=1,g=null,O=3,X=!1,W=!1,re=!1,we=!1,ue=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function me(E){for(var k=p(h);k!==null;){if(k.callback===null)r(h);else if(k.startTime<=E)r(h),k.sortIndex=k.expirationTime,f(z,k);else break;k=p(h)}}function Qe(E){if(re=!1,me(E),!W)if(p(z)!==null)W=!0,G||(G=!0,qe());else{var k=p(h);k!==null&&Ae(Qe,k.startTime-E)}}var G=!1,ie=-1,Me=5,Ye=-1;function $(){return we?!0:!(u.unstable_now()-Ye<Me)}function Te(){if(we=!1,G){var E=u.unstable_now();Ye=E;var k=!0;try{e:{W=!1,re&&(re=!1,se(ie),ie=-1),X=!0;var he=O;try{t:{for(me(E),g=p(z);g!==null&&!(g.expirationTime>E&&$());){var Pe=g.callback;if(typeof Pe=="function"){g.callback=null,O=g.priorityLevel;var Fe=Pe(g.expirationTime<=E);if(E=u.unstable_now(),typeof Fe=="function"){g.callback=Fe,me(E),k=!0;break t}g===p(z)&&r(z),me(E)}else r(z);g=p(z)}if(g!==null)k=!0;else{var v=p(h);v!==null&&Ae(Qe,v.startTime-E),k=!1}}break e}finally{g=null,O=he,X=!1}k=void 0}}finally{k?qe():G=!1}}}var qe;if(typeof P=="function")qe=function(){P(Te)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,ut=Ie.port2;Ie.port1.onmessage=Te,qe=function(){ut.postMessage(null)}}else qe=function(){ue(Te,0)};function Ae(E,k){ie=ue(function(){E(u.unstable_now())},k)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(E){E.callback=null},u.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Me=0<E?Math.floor(1e3/E):5},u.unstable_getCurrentPriorityLevel=function(){return O},u.unstable_next=function(E){switch(O){case 1:case 2:case 3:var k=3;break;default:k=O}var he=O;O=k;try{return E()}finally{O=he}},u.unstable_requestPaint=function(){we=!0},u.unstable_runWithPriority=function(E,k){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var he=O;O=E;try{return k()}finally{O=he}},u.unstable_scheduleCallback=function(E,k,he){var Pe=u.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Pe+he:Pe):he=Pe,E){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=he+Fe,E={id:b++,callback:k,priorityLevel:E,startTime:he,expirationTime:Fe,sortIndex:-1},he>Pe?(E.sortIndex=he,f(h,E),p(z)===null&&E===p(h)&&(re?(se(ie),ie=-1):re=!0,Ae(Qe,he-Pe))):(E.sortIndex=Fe,f(z,E),W||X||(W=!0,G||(G=!0,qe()))),E},u.unstable_shouldYield=$,u.unstable_wrapCallback=function(E){var k=O;return function(){var he=O;O=k;try{return E.apply(this,arguments)}finally{O=he}}}})(go)),go}var c0;function Rh(){return c0||(c0=1,yo.exports=Dh()),yo.exports}var po={exports:{}},al={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function Oh(){if(u0)return al;u0=1;var u=jo();function f(z){var h="https://react.dev/errors/"+z;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+z+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var r={d:{f:p,r:function(){throw Error(f(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},y=Symbol.for("react.portal");function A(z,h,b){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:y,key:g==null?null:""+g,children:z,containerInfo:h,implementation:b}}var U=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function R(z,h){if(z==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return al.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,al.createPortal=function(z,h){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(f(299));return A(z,h,null,b)},al.flushSync=function(z){var h=U.T,b=r.p;try{if(U.T=null,r.p=2,z)return z()}finally{U.T=h,r.p=b,r.d.f()}},al.preconnect=function(z,h){typeof z=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(z,h))},al.prefetchDNS=function(z){typeof z=="string"&&r.d.D(z)},al.preinit=function(z,h){if(typeof z=="string"&&h&&typeof h.as=="string"){var b=h.as,g=R(b,h.crossOrigin),O=typeof h.integrity=="string"?h.integrity:void 0,X=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;b==="style"?r.d.S(z,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:O,fetchPriority:X}):b==="script"&&r.d.X(z,{crossOrigin:g,integrity:O,fetchPriority:X,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},al.preinitModule=function(z,h){if(typeof z=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var b=R(h.as,h.crossOrigin);r.d.M(z,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(z)},al.preload=function(z,h){if(typeof z=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var b=h.as,g=R(b,h.crossOrigin);r.d.L(z,b,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},al.preloadModule=function(z,h){if(typeof z=="string")if(h){var b=R(h.as,h.crossOrigin);r.d.m(z,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(z)},al.requestFormReset=function(z){r.d.r(z)},al.unstable_batchedUpdates=function(z,h){return z(h)},al.useFormState=function(z,h,b){return U.H.useFormState(z,h,b)},al.useFormStatus=function(){return U.H.useHostTransitionStatus()},al.version="19.2.0",al}var o0;function _h(){if(o0)return po.exports;o0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(f){console.error(f)}}return u(),po.exports=Oh(),po.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function Lh(){if(r0)return Zi;r0=1;var u=Rh(),f=jo(),p=_h();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function A(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function U(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function R(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function z(e){if(A(e)!==e)throw Error(r(188))}function h(e){var t=e.alternate;if(!t){if(t=A(e),t===null)throw Error(r(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return z(n),e;if(i===a)return z(n),t;i=i.sibling}throw Error(r(188))}if(l.return!==a.return)l=n,a=i;else{for(var c=!1,o=n.child;o;){if(o===l){c=!0,l=n,a=i;break}if(o===a){c=!0,a=n,l=i;break}o=o.sibling}if(!c){for(o=i.child;o;){if(o===l){c=!0,l=i,a=n;break}if(o===a){c=!0,a=i,l=n;break}o=o.sibling}if(!c)throw Error(r(189))}}if(l.alternate!==a)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,O=Symbol.for("react.element"),X=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),we=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),se=Symbol.for("react.consumer"),P=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Qe=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),Ye=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function qe(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Symbol.for("react.client.reference");function ut(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case ue:return"Profiler";case we:return"StrictMode";case Qe:return"Suspense";case G:return"SuspenseList";case Ye:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case P:return e.displayName||"Context";case se:return(e._context.displayName||"Context")+".Consumer";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ie:return t=e.displayName||null,t!==null?t:ut(e.type)||"Memo";case Me:t=e._payload,e=e._init;try{return ut(e(t))}catch{}}return null}var Ae=Array.isArray,E=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Pe=[],Fe=-1;function v(e){return{current:e}}function L(e){0>Fe||(e.current=Pe[Fe],Pe[Fe]=null,Fe--)}function ce(e,t){Fe++,Pe[Fe]=e.current,e.current=t}var ye=v(null),Le=v(null),Be=v(null),Xe=v(null);function vt(e,t){switch(ce(Be,t),ce(Le,e),ce(ye,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Md(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Md(t),e=Cd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(ye),ce(ye,e)}function yt(){L(ye),L(Le),L(Be)}function zl(e){e.memoizedState!==null&&ce(Xe,e);var t=ye.current,l=Cd(t,e.type);t!==l&&(ce(Le,e),ce(ye,l))}function Dl(e){Le.current===e&&(L(ye),L(Le)),Xe.current===e&&(L(Xe),Yi._currentValue=he)}var Rl,Ia;function Qt(e){if(Rl===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Rl=t&&t[1]||"",Ia=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rl+e+Ia}var vl=!1;function Ol(e,t){if(!e||vl)return"";vl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(D){var C=D}Reflect.construct(e,[],B)}else{try{B.call()}catch(D){C=D}e.call(B.prototype)}}else{try{throw Error()}catch(D){C=D}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(D){if(D&&C&&typeof D.stack=="string")return[D.stack,C.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),c=i[0],o=i[1];if(c&&o){var m=c.split(`
`),M=o.split(`
`);for(n=a=0;a<m.length&&!m[a].includes("DetermineComponentFrameRoot");)a++;for(;n<M.length&&!M[n].includes("DetermineComponentFrameRoot");)n++;if(a===m.length||n===M.length)for(a=m.length-1,n=M.length-1;1<=a&&0<=n&&m[a]!==M[n];)n--;for(;1<=a&&0<=n;a--,n--)if(m[a]!==M[n]){if(a!==1||n!==1)do if(a--,n--,0>n||m[a]!==M[n]){var _=`
`+m[a].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=a&&0<=n);break}}}finally{vl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Qt(l):""}function Pa(e,t){switch(e.tag){case 26:case 27:case 5:return Qt(e.type);case 16:return Qt("Lazy");case 13:return e.child!==t&&t!==null?Qt("Suspense Fallback"):Qt("Suspense");case 19:return Qt("SuspenseList");case 0:case 15:return Ol(e.type,!1);case 11:return Ol(e.type.render,!1);case 1:return Ol(e.type,!0);case 31:return Qt("Activity");default:return""}}function tl(e){try{var t="",l=null;do t+=Pa(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var cl=Object.prototype.hasOwnProperty,xl=u.unstable_scheduleCallback,ea=u.unstable_cancelCallback,bl=u.unstable_shouldYield,Sn=u.unstable_requestPaint,Tt=u.unstable_now,jn=u.unstable_getCurrentPriorityLevel,ul=u.unstable_ImmediatePriority,xa=u.unstable_UserBlockingPriority,Ft=u.unstable_NormalPriority,en=u.unstable_LowPriority,ll=u.unstable_IdlePriority,ta=u.log,Sl=u.unstable_setDisableYieldValue,_t=null,kt=null;function ol(e){if(typeof ta=="function"&&Sl(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(_t,e)}catch{}}var qt=Math.clz32?Math.clz32:wn,ba=Math.log,Lt=Math.LN2;function wn(e){return e>>>=0,e===0?32:31-(ba(e)/Lt|0)|0}var Nt=256,Sa=262144,nl=4194304;function Gl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ja(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var o=a&134217727;return o!==0?(a=o&~i,a!==0?n=Gl(a):(c&=o,c!==0?n=Gl(c):l||(l=o&~e,l!==0&&(n=Gl(l))))):(o=a&~i,o!==0?n=Gl(o):c!==0?n=Gl(c):l||(l=a&~e,l!==0&&(n=Gl(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function Kl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nn(){var e=nl;return nl<<=1,(nl&62914560)===0&&(nl=4194304),e}function Z(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function ee(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function T(e,t,l,a,n,i){var c=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var o=e.entanglements,m=e.expirationTimes,M=e.hiddenUpdates;for(l=c&~l;0<l;){var _=31-qt(l),B=1<<_;o[_]=0,m[_]=-1;var C=M[_];if(C!==null)for(M[_]=null,_=0;_<C.length;_++){var D=C[_];D!==null&&(D.lane&=-536870913)}l&=~B}a!==0&&F(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function F(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-qt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function d(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-qt(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function oe(e,t){var l=t&-t;return l=(l&42)!==0?1:je(l),(l&(e.suspendedLanes|t))!==0?0:l}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function I(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fe(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:Wd(e.type))}function K(e,t){var l=k.p;try{return k.p=e,t()}finally{k.p=l}}var de=Math.random().toString(36).slice(2),J="__reactFiber$"+de,Q="__reactProps$"+de,ve="__reactContainer$"+de,De="__reactEvents$"+de,He="__reactListeners$"+de,V="__reactHandles$"+de,Ee="__reactResources$"+de,$e="__reactMarker$"+de;function st(e){delete e[J],delete e[Q],delete e[De],delete e[He],delete e[V]}function et(e){var t=e[J];if(t)return t;for(var l=e.parentNode;l;){if(t=l[ve]||l[J]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Od(e);e!==null;){if(l=e[J])return l;e=Od(e)}return t}e=l,l=e.parentNode}return null}function ot(e){if(e=e[J]||e[ve]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Je(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function jt(e){var t=e[Ee];return t||(t=e[Ee]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ke(e){e[$e]=!0}var rt=new Set,w={};function Y(e,t){q(e,t),q(e+"Capture",t)}function q(e,t){for(w[e]=t,e=0;e<t.length;e++)rt.add(t[e])}var le=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xe={},ae={};function ne(e){return cl.call(ae,e)?!0:cl.call(xe,e)?!1:le.test(e)?ae[e]=!0:(xe[e]=!0,!1)}function ze(e,t,l){if(ne(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Re(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function be(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function te(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Se(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ge(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){l=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(c){l=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ze(e){if(!e._valueTracker){var t=Se(e)?"checked":"value";e._valueTracker=ge(e,t,""+e[t])}}function Oe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Se(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function pe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var at=/[\n"\\]/g;function Ge(e){return e.replace(at,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function mt(e,t,l,a,n,i,c,o){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+te(t)):e.value!==""+te(t)&&(e.value=""+te(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?Xt(e,c,te(t)):l!=null?Xt(e,c,te(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+te(o):e.removeAttribute("name")}function Et(e,t,l,a,n,i,c,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Ze(e);return}l=l!=null?""+te(l):"",t=t!=null?""+te(t):l,o||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),Ze(e)}function Xt(e,t,l){t==="number"&&pe(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Gt(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+te(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function il(e,t,l){if(t!=null&&(t=""+te(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+te(l):""}function Vt(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(r(92));if(Ae(a)){if(1<a.length)throw Error(r(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=te(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Ze(e)}function Kt(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var jl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function la(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||jl.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function tn(e,t,l){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&la(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&la(e,i,t[i])}function Mn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ki=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ki=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ln(e){return Ki.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Vl(){}var wa=null;function Na(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,Ca=null;function Ji(e){var t=ot(e);if(t&&(e=t.stateNode)){var l=e[Q]||null;e:switch(e=t.stateNode,t.type){case"input":if(mt(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ge(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[Q]||null;if(!n)throw Error(r(90));mt(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Oe(a)}break e;case"textarea":il(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Gt(e,!!l.multiple,t,!1)}}}var rc=!1;function No(e,t,l){if(rc)return e(t,l);rc=!0;try{var a=e(t);return a}finally{if(rc=!1,(Ma!==null||Ca!==null)&&(Ls(),Ma&&(t=Ma,e=Ca,Ca=Ma=null,Ji(t),e)))for(t=0;t<e.length;t++)Ji(e[t])}}function li(e,t){var l=e.stateNode;if(l===null)return null;var a=l[Q]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(r(231,t,typeof l));return l}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=!1;if(aa)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){fc=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{fc=!1}var Ta=null,dc=null,Wi=null;function Mo(){if(Wi)return Wi;var e,t=dc,l=t.length,a,n="value"in Ta?Ta.value:Ta.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var c=l-e;for(a=1;a<=c&&t[l-a]===n[i-a];a++);return Wi=n.slice(e,1<a?1-a:void 0)}function Fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function Co(){return!1}function rl(e){function t(l,a,n,i,c){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(l=e[o],this[o]=l?l(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$i:Co,this.isPropagationStopped=Co,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),t}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=rl(an),ni=g({},an,{view:0,detail:0}),C0=rl(ni),mc,hc,ii,Pi=g({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ii&&(ii&&e.type==="mousemove"?(mc=e.screenX-ii.screenX,hc=e.screenY-ii.screenY):hc=mc=0,ii=e),mc)},movementY:function(e){return"movementY"in e?e.movementY:hc}}),To=rl(Pi),T0=g({},Pi,{dataTransfer:0}),E0=rl(T0),A0=g({},ni,{relatedTarget:0}),yc=rl(A0),z0=g({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=rl(z0),R0=g({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O0=rl(R0),_0=g({},an,{data:0}),Eo=rl(_0),L0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H0[e])?!!t[e]:!1}function gc(){return B0}var Y0=g({},ni,{key:function(e){if(e.key){var t=L0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(e){return e.type==="keypress"?Fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q0=rl(Y0),X0=g({},Pi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=rl(X0),G0=g({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),V0=rl(G0),Z0=g({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=rl(Z0),k0=g({},Pi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K0=rl(k0),J0=g({},an,{newState:0,oldState:0}),W0=rl(J0),F0=[9,13,27,32],pc=aa&&"CompositionEvent"in window,si=null;aa&&"documentMode"in document&&(si=document.documentMode);var $0=aa&&"TextEvent"in window&&!si,zo=aa&&(!pc||si&&8<si&&11>=si),Do=" ",Ro=!1;function Oo(e,t){switch(e){case"keyup":return F0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function I0(e,t){switch(e){case"compositionend":return _o(t);case"keypress":return t.which!==32?null:(Ro=!0,Do);case"textInput":return e=t.data,e===Do&&Ro?null:e;default:return null}}function P0(e,t){if(Cn)return e==="compositionend"||!pc&&Oo(e,t)?(e=Mo(),Wi=dc=Ta=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zo&&t.locale!=="ko"?null:t.data;default:return null}}var em={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!em[e.type]:t==="textarea"}function Uo(e,t,l,a){Ma?Ca?Ca.push(a):Ca=[a]:Ma=a,t=Gs(t,"onChange"),0<t.length&&(l=new Ii("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var ci=null,ui=null;function tm(e){xd(e,0)}function es(e){var t=Je(e);if(Oe(t))return e}function Ho(e,t){if(e==="change")return t}var Bo=!1;if(aa){var vc;if(aa){var xc="oninput"in document;if(!xc){var Yo=document.createElement("div");Yo.setAttribute("oninput","return;"),xc=typeof Yo.oninput=="function"}vc=xc}else vc=!1;Bo=vc&&(!document.documentMode||9<document.documentMode)}function qo(){ci&&(ci.detachEvent("onpropertychange",Xo),ui=ci=null)}function Xo(e){if(e.propertyName==="value"&&es(ui)){var t=[];Uo(t,ui,e,Na(e)),No(tm,t)}}function lm(e,t,l){e==="focusin"?(qo(),ci=t,ui=l,ci.attachEvent("onpropertychange",Xo)):e==="focusout"&&qo()}function am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return es(ui)}function nm(e,t){if(e==="click")return es(t)}function im(e,t){if(e==="input"||e==="change")return es(t)}function sm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wl=typeof Object.is=="function"?Object.is:sm;function oi(e,t){if(wl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!cl.call(t,n)||!wl(e[n],t[n]))return!1}return!0}function Go(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vo(e,t){var l=Go(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Go(l)}}function Zo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qo(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=pe(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=pe(e.document)}return t}function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var cm=aa&&"documentMode"in document&&11>=document.documentMode,Tn=null,Sc=null,ri=null,jc=!1;function ko(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jc||Tn==null||Tn!==pe(a)||(a=Tn,"selectionStart"in a&&bc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ri&&oi(ri,a)||(ri=a,a=Gs(Sc,"onSelect"),0<a.length&&(t=new Ii("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Tn)))}function nn(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var En={animationend:nn("Animation","AnimationEnd"),animationiteration:nn("Animation","AnimationIteration"),animationstart:nn("Animation","AnimationStart"),transitionrun:nn("Transition","TransitionRun"),transitionstart:nn("Transition","TransitionStart"),transitioncancel:nn("Transition","TransitionCancel"),transitionend:nn("Transition","TransitionEnd")},wc={},Ko={};aa&&(Ko=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function sn(e){if(wc[e])return wc[e];if(!En[e])return e;var t=En[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Ko)return wc[e]=t[l];return e}var Jo=sn("animationend"),Wo=sn("animationiteration"),Fo=sn("animationstart"),um=sn("transitionrun"),om=sn("transitionstart"),rm=sn("transitioncancel"),$o=sn("transitionend"),Io=new Map,Nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nc.push("scrollEnd");function Zl(e,t){Io.set(e,t),Y(t,[e])}var ts=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_l=[],An=0,Mc=0;function ls(){for(var e=An,t=Mc=An=0;t<e;){var l=_l[t];_l[t++]=null;var a=_l[t];_l[t++]=null;var n=_l[t];_l[t++]=null;var i=_l[t];if(_l[t++]=null,a!==null&&n!==null){var c=a.pending;c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n}i!==0&&Po(l,n,i)}}function as(e,t,l,a){_l[An++]=e,_l[An++]=t,_l[An++]=l,_l[An++]=a,Mc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Cc(e,t,l,a){return as(e,t,l,a),ns(e)}function cn(e,t){return as(e,null,null,t),ns(e)}function Po(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-qt(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function ns(e){if(50<Ri)throw Ri=0,Lu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var zn={};function fm(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nl(e,t,l,a){return new fm(e,t,l,a)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function na(e,t){var l=e.alternate;return l===null?(l=Nl(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function er(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function is(e,t,l,a,n,i){var c=0;if(a=e,typeof e=="function")Tc(e)&&(c=1);else if(typeof e=="string")c=gh(e,l,ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ye:return e=Nl(31,l,t,n),e.elementType=Ye,e.lanes=i,e;case re:return un(l.children,n,i,t);case we:c=8,n|=24;break;case ue:return e=Nl(12,l,t,n|2),e.elementType=ue,e.lanes=i,e;case Qe:return e=Nl(13,l,t,n),e.elementType=Qe,e.lanes=i,e;case G:return e=Nl(19,l,t,n),e.elementType=G,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:c=10;break e;case se:c=9;break e;case me:c=11;break e;case ie:c=14;break e;case Me:c=16,a=null;break e}c=29,l=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=Nl(c,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function un(e,t,l,a){return e=Nl(7,e,a,t),e.lanes=l,e}function Ec(e,t,l){return e=Nl(6,e,null,t),e.lanes=l,e}function tr(e){var t=Nl(18,null,null,0);return t.stateNode=e,t}function Ac(e,t,l){return t=Nl(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var lr=new WeakMap;function Ll(e,t){if(typeof e=="object"&&e!==null){var l=lr.get(e);return l!==void 0?l:(t={value:e,source:t,stack:tl(t)},lr.set(e,t),t)}return{value:e,source:t,stack:tl(t)}}var Dn=[],Rn=0,ss=null,fi=0,Ul=[],Hl=0,Ea=null,Wl=1,Fl="";function ia(e,t){Dn[Rn++]=fi,Dn[Rn++]=ss,ss=e,fi=t}function ar(e,t,l){Ul[Hl++]=Wl,Ul[Hl++]=Fl,Ul[Hl++]=Ea,Ea=e;var a=Wl;e=Fl;var n=32-qt(a)-1;a&=~(1<<n),l+=1;var i=32-qt(t)+n;if(30<i){var c=n-n%5;i=(a&(1<<c)-1).toString(32),a>>=c,n-=c,Wl=1<<32-qt(t)+n|l<<n|a,Fl=i+e}else Wl=1<<i|l<<n|a,Fl=e}function zc(e){e.return!==null&&(ia(e,1),ar(e,1,0))}function Dc(e){for(;e===ss;)ss=Dn[--Rn],Dn[Rn]=null,fi=Dn[--Rn],Dn[Rn]=null;for(;e===Ea;)Ea=Ul[--Hl],Ul[Hl]=null,Fl=Ul[--Hl],Ul[Hl]=null,Wl=Ul[--Hl],Ul[Hl]=null}function nr(e,t){Ul[Hl++]=Wl,Ul[Hl++]=Fl,Ul[Hl++]=Ea,Wl=t.id,Fl=t.overflow,Ea=e}var $t=null,Mt=null,ct=!1,Aa=null,Bl=!1,Rc=Error(r(519));function za(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw di(Ll(t,e)),Rc}function ir(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[J]=e,t[Q]=a,l){case"dialog":lt("cancel",t),lt("close",t);break;case"iframe":case"object":case"embed":lt("load",t);break;case"video":case"audio":for(l=0;l<_i.length;l++)lt(_i[l],t);break;case"source":lt("error",t);break;case"img":case"image":case"link":lt("error",t),lt("load",t);break;case"details":lt("toggle",t);break;case"input":lt("invalid",t),Et(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":lt("invalid",t);break;case"textarea":lt("invalid",t),Vt(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||wd(t.textContent,l)?(a.popover!=null&&(lt("beforetoggle",t),lt("toggle",t)),a.onScroll!=null&&lt("scroll",t),a.onScrollEnd!=null&&lt("scrollend",t),a.onClick!=null&&(t.onclick=Vl),t=!0):t=!1,t||za(e,!0)}function sr(e){for($t=e.return;$t;)switch($t.tag){case 5:case 31:case 13:Bl=!1;return;case 27:case 3:Bl=!0;return;default:$t=$t.return}}function On(e){if(e!==$t)return!1;if(!ct)return sr(e),ct=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Fu(e.type,e.memoizedProps)),l=!l),l&&Mt&&za(e),sr(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Mt=Rd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Mt=Rd(e)}else t===27?(t=Mt,Za(e.type)?(e=to,to=null,Mt=e):Mt=t):Mt=$t?ql(e.stateNode.nextSibling):null;return!0}function on(){Mt=$t=null,ct=!1}function Oc(){var e=Aa;return e!==null&&(hl===null?hl=e:hl.push.apply(hl,e),Aa=null),e}function di(e){Aa===null?Aa=[e]:Aa.push(e)}var _c=v(null),rn=null,sa=null;function Da(e,t,l){ce(_c,t._currentValue),t._currentValue=l}function ca(e){e._currentValue=_c.current,L(_c)}function Lc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Uc(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var c=n.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=n;for(var m=0;m<t.length;m++)if(o.context===t[m]){i.lanes|=l,o=i.alternate,o!==null&&(o.lanes|=l),Lc(i.return,l,e),a||(c=null);break e}i=o.next}}else if(n.tag===18){if(c=n.return,c===null)throw Error(r(341));c.lanes|=l,i=c.alternate,i!==null&&(i.lanes|=l),Lc(c,l,e),c=null}else c=n.child;if(c!==null)c.return=n;else for(c=n;c!==null;){if(c===e){c=null;break}if(n=c.sibling,n!==null){n.return=c.return,c=n;break}c=c.return}n=c}}function _n(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var c=n.alternate;if(c===null)throw Error(r(387));if(c=c.memoizedProps,c!==null){var o=n.type;wl(n.pendingProps.value,c.value)||(e!==null?e.push(o):e=[o])}}else if(n===Xe.current){if(c=n.alternate,c===null)throw Error(r(387));c.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Yi):e=[Yi])}n=n.return}e!==null&&Uc(t,e,l,a),t.flags|=262144}function cs(e){for(e=e.firstContext;e!==null;){if(!wl(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fn(e){rn=e,sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function It(e){return cr(rn,e)}function us(e,t){return rn===null&&fn(e),cr(e,t)}function cr(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},sa===null){if(e===null)throw Error(r(308));sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else sa=sa.next=t;return l}var dm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},mm=u.unstable_scheduleCallback,hm=u.unstable_NormalPriority,Ut={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hc(){return{controller:new dm,data:new Map,refCount:0}}function mi(e){e.refCount--,e.refCount===0&&mm(hm,function(){e.controller.abort()})}var hi=null,Bc=0,Ln=0,Un=null;function ym(e,t){if(hi===null){var l=hi=[];Bc=0,Ln=Xu(),Un={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Bc++,t.then(ur,ur),t}function ur(){if(--Bc===0&&hi!==null){Un!==null&&(Un.status="fulfilled");var e=hi;hi=null,Ln=0,Un=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gm(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var or=E.S;E.S=function(e,t){Kf=Tt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ym(e,t),or!==null&&or(e,t)};var dn=v(null);function Yc(){var e=dn.current;return e!==null?e:wt.pooledCache}function os(e,t){t===null?ce(dn,dn.current):ce(dn,t.pool)}function rr(){var e=Yc();return e===null?null:{parent:Ut._currentValue,pool:e}}var Hn=Error(r(460)),qc=Error(r(474)),rs=Error(r(542)),fs={then:function(){}};function fr(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dr(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Vl,Vl),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hr(e),e;default:if(typeof t.status=="string")t.then(Vl,Vl);else{if(e=wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hr(e),e}throw hn=t,Hn}}function mn(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(hn=l,Hn):l}}var hn=null;function mr(){if(hn===null)throw Error(r(459));var e=hn;return hn=null,e}function hr(e){if(e===Hn||e===rs)throw Error(r(483))}var Bn=null,yi=0;function ds(e){var t=yi;return yi+=1,Bn===null&&(Bn=[]),dr(Bn,e,t)}function gi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ms(e,t){throw t.$$typeof===O?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yr(e){function t(j,x){if(e){var N=j.deletions;N===null?(j.deletions=[x],j.flags|=16):N.push(x)}}function l(j,x){if(!e)return null;for(;x!==null;)t(j,x),x=x.sibling;return null}function a(j){for(var x=new Map;j!==null;)j.key!==null?x.set(j.key,j):x.set(j.index,j),j=j.sibling;return x}function n(j,x){return j=na(j,x),j.index=0,j.sibling=null,j}function i(j,x,N){return j.index=N,e?(N=j.alternate,N!==null?(N=N.index,N<x?(j.flags|=67108866,x):N):(j.flags|=67108866,x)):(j.flags|=1048576,x)}function c(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function o(j,x,N,H){return x===null||x.tag!==6?(x=Ec(N,j.mode,H),x.return=j,x):(x=n(x,N),x.return=j,x)}function m(j,x,N,H){var _e=N.type;return _e===re?_(j,x,N.props.children,H,N.key):x!==null&&(x.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Me&&mn(_e)===x.type)?(x=n(x,N.props),gi(x,N),x.return=j,x):(x=is(N.type,N.key,N.props,null,j.mode,H),gi(x,N),x.return=j,x)}function M(j,x,N,H){return x===null||x.tag!==4||x.stateNode.containerInfo!==N.containerInfo||x.stateNode.implementation!==N.implementation?(x=Ac(N,j.mode,H),x.return=j,x):(x=n(x,N.children||[]),x.return=j,x)}function _(j,x,N,H,_e){return x===null||x.tag!==7?(x=un(N,j.mode,H,_e),x.return=j,x):(x=n(x,N),x.return=j,x)}function B(j,x,N){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Ec(""+x,j.mode,N),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case X:return N=is(x.type,x.key,x.props,null,j.mode,N),gi(N,x),N.return=j,N;case W:return x=Ac(x,j.mode,N),x.return=j,x;case Me:return x=mn(x),B(j,x,N)}if(Ae(x)||qe(x))return x=un(x,j.mode,N,null),x.return=j,x;if(typeof x.then=="function")return B(j,ds(x),N);if(x.$$typeof===P)return B(j,us(j,x),N);ms(j,x)}return null}function C(j,x,N,H){var _e=x!==null?x.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return _e!==null?null:o(j,x,""+N,H);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case X:return N.key===_e?m(j,x,N,H):null;case W:return N.key===_e?M(j,x,N,H):null;case Me:return N=mn(N),C(j,x,N,H)}if(Ae(N)||qe(N))return _e!==null?null:_(j,x,N,H,null);if(typeof N.then=="function")return C(j,x,ds(N),H);if(N.$$typeof===P)return C(j,x,us(j,N),H);ms(j,N)}return null}function D(j,x,N,H,_e){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return j=j.get(N)||null,o(x,j,""+H,_e);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case X:return j=j.get(H.key===null?N:H.key)||null,m(x,j,H,_e);case W:return j=j.get(H.key===null?N:H.key)||null,M(x,j,H,_e);case Me:return H=mn(H),D(j,x,N,H,_e)}if(Ae(H)||qe(H))return j=j.get(N)||null,_(x,j,H,_e,null);if(typeof H.then=="function")return D(j,x,N,ds(H),_e);if(H.$$typeof===P)return D(j,x,N,us(x,H),_e);ms(x,H)}return null}function Ne(j,x,N,H){for(var _e=null,ft=null,Ce=x,We=x=0,it=null;Ce!==null&&We<N.length;We++){Ce.index>We?(it=Ce,Ce=null):it=Ce.sibling;var dt=C(j,Ce,N[We],H);if(dt===null){Ce===null&&(Ce=it);break}e&&Ce&&dt.alternate===null&&t(j,Ce),x=i(dt,x,We),ft===null?_e=dt:ft.sibling=dt,ft=dt,Ce=it}if(We===N.length)return l(j,Ce),ct&&ia(j,We),_e;if(Ce===null){for(;We<N.length;We++)Ce=B(j,N[We],H),Ce!==null&&(x=i(Ce,x,We),ft===null?_e=Ce:ft.sibling=Ce,ft=Ce);return ct&&ia(j,We),_e}for(Ce=a(Ce);We<N.length;We++)it=D(Ce,j,We,N[We],H),it!==null&&(e&&it.alternate!==null&&Ce.delete(it.key===null?We:it.key),x=i(it,x,We),ft===null?_e=it:ft.sibling=it,ft=it);return e&&Ce.forEach(function(Wa){return t(j,Wa)}),ct&&ia(j,We),_e}function Ue(j,x,N,H){if(N==null)throw Error(r(151));for(var _e=null,ft=null,Ce=x,We=x=0,it=null,dt=N.next();Ce!==null&&!dt.done;We++,dt=N.next()){Ce.index>We?(it=Ce,Ce=null):it=Ce.sibling;var Wa=C(j,Ce,dt.value,H);if(Wa===null){Ce===null&&(Ce=it);break}e&&Ce&&Wa.alternate===null&&t(j,Ce),x=i(Wa,x,We),ft===null?_e=Wa:ft.sibling=Wa,ft=Wa,Ce=it}if(dt.done)return l(j,Ce),ct&&ia(j,We),_e;if(Ce===null){for(;!dt.done;We++,dt=N.next())dt=B(j,dt.value,H),dt!==null&&(x=i(dt,x,We),ft===null?_e=dt:ft.sibling=dt,ft=dt);return ct&&ia(j,We),_e}for(Ce=a(Ce);!dt.done;We++,dt=N.next())dt=D(Ce,j,We,dt.value,H),dt!==null&&(e&&dt.alternate!==null&&Ce.delete(dt.key===null?We:dt.key),x=i(dt,x,We),ft===null?_e=dt:ft.sibling=dt,ft=dt);return e&&Ce.forEach(function(Th){return t(j,Th)}),ct&&ia(j,We),_e}function St(j,x,N,H){if(typeof N=="object"&&N!==null&&N.type===re&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case X:e:{for(var _e=N.key;x!==null;){if(x.key===_e){if(_e=N.type,_e===re){if(x.tag===7){l(j,x.sibling),H=n(x,N.props.children),H.return=j,j=H;break e}}else if(x.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Me&&mn(_e)===x.type){l(j,x.sibling),H=n(x,N.props),gi(H,N),H.return=j,j=H;break e}l(j,x);break}else t(j,x);x=x.sibling}N.type===re?(H=un(N.props.children,j.mode,H,N.key),H.return=j,j=H):(H=is(N.type,N.key,N.props,null,j.mode,H),gi(H,N),H.return=j,j=H)}return c(j);case W:e:{for(_e=N.key;x!==null;){if(x.key===_e)if(x.tag===4&&x.stateNode.containerInfo===N.containerInfo&&x.stateNode.implementation===N.implementation){l(j,x.sibling),H=n(x,N.children||[]),H.return=j,j=H;break e}else{l(j,x);break}else t(j,x);x=x.sibling}H=Ac(N,j.mode,H),H.return=j,j=H}return c(j);case Me:return N=mn(N),St(j,x,N,H)}if(Ae(N))return Ne(j,x,N,H);if(qe(N)){if(_e=qe(N),typeof _e!="function")throw Error(r(150));return N=_e.call(N),Ue(j,x,N,H)}if(typeof N.then=="function")return St(j,x,ds(N),H);if(N.$$typeof===P)return St(j,x,us(j,N),H);ms(j,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,x!==null&&x.tag===6?(l(j,x.sibling),H=n(x,N),H.return=j,j=H):(l(j,x),H=Ec(N,j.mode,H),H.return=j,j=H),c(j)):l(j,x)}return function(j,x,N,H){try{yi=0;var _e=St(j,x,N,H);return Bn=null,_e}catch(Ce){if(Ce===Hn||Ce===rs)throw Ce;var ft=Nl(29,Ce,null,j.mode);return ft.lanes=H,ft.return=j,ft}finally{}}}var yn=yr(!0),gr=yr(!1),Ra=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _a(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ht&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=ns(e),Po(e,null,l),t}return as(e,a,t,l),ns(e)}function pi(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,d(e,l)}}function Vc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var c={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=c:i=i.next=c,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Zc=!1;function vi(){if(Zc){var e=Un;if(e!==null)throw e}}function xi(e,t,l,a){Zc=!1;var n=e.updateQueue;Ra=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var m=o,M=m.next;m.next=null,c===null?i=M:c.next=M,c=m;var _=e.alternate;_!==null&&(_=_.updateQueue,o=_.lastBaseUpdate,o!==c&&(o===null?_.firstBaseUpdate=M:o.next=M,_.lastBaseUpdate=m))}if(i!==null){var B=n.baseState;c=0,_=M=m=null,o=i;do{var C=o.lane&-536870913,D=C!==o.lane;if(D?(nt&C)===C:(a&C)===C){C!==0&&C===Ln&&(Zc=!0),_!==null&&(_=_.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var Ne=e,Ue=o;C=t;var St=l;switch(Ue.tag){case 1:if(Ne=Ue.payload,typeof Ne=="function"){B=Ne.call(St,B,C);break e}B=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Ue.payload,C=typeof Ne=="function"?Ne.call(St,B,C):Ne,C==null)break e;B=g({},B,C);break e;case 2:Ra=!0}}C=o.callback,C!==null&&(e.flags|=64,D&&(e.flags|=8192),D=n.callbacks,D===null?n.callbacks=[C]:D.push(C))}else D={lane:C,tag:o.tag,payload:o.payload,callback:o.callback,next:null},_===null?(M=_=D,m=B):_=_.next=D,c|=C;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;D=o,o=D.next,D.next=null,n.lastBaseUpdate=D,n.shared.pending=null}}while(!0);_===null&&(m=B),n.baseState=m,n.firstBaseUpdate=M,n.lastBaseUpdate=_,i===null&&(n.shared.lanes=0),Ya|=c,e.lanes=c,e.memoizedState=B}}function pr(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function vr(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)pr(l[e],t)}var Yn=v(null),hs=v(0);function xr(e,t){e=ga,ce(hs,e),ce(Yn,t),ga=e|t.baseLanes}function Qc(){ce(hs,ga),ce(Yn,Yn.current)}function kc(){ga=hs.current,L(Yn),L(hs)}var Ml=v(null),Yl=null;function La(e){var t=e.alternate;ce(Rt,Rt.current&1),ce(Ml,e),Yl===null&&(t===null||Yn.current!==null||t.memoizedState!==null)&&(Yl=e)}function Kc(e){ce(Rt,Rt.current),ce(Ml,e),Yl===null&&(Yl=e)}function br(e){e.tag===22?(ce(Rt,Rt.current),ce(Ml,e),Yl===null&&(Yl=e)):Ua()}function Ua(){ce(Rt,Rt.current),ce(Ml,Ml.current)}function Cl(e){L(Ml),Yl===e&&(Yl=null),L(Rt)}var Rt=v(0);function ys(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Pu(l)||eo(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=0,Ke=null,xt=null,Ht=null,gs=!1,qn=!1,gn=!1,ps=0,bi=0,Xn=null,pm=0;function zt(){throw Error(r(321))}function Jc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!wl(e[l],t[l]))return!1;return!0}function Wc(e,t,l,a,n,i){return ua=i,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?af:ru,gn=!1,i=l(a,n),gn=!1,qn&&(i=jr(t,l,a,n)),Sr(e),i}function Sr(e){E.H=wi;var t=xt!==null&&xt.next!==null;if(ua=0,Ht=xt=Ke=null,gs=!1,bi=0,Xn=null,t)throw Error(r(300));e===null||Bt||(e=e.dependencies,e!==null&&cs(e)&&(Bt=!0))}function jr(e,t,l,a){Ke=e;var n=0;do{if(qn&&(Xn=null),bi=0,qn=!1,25<=n)throw Error(r(301));if(n+=1,Ht=xt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}E.H=nf,i=t(l,a)}while(qn);return i}function vm(){var e=E.H,t=e.useState()[0];return t=typeof t.then=="function"?Si(t):t,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&(Ke.flags|=1024),t}function Fc(){var e=ps!==0;return ps=0,e}function $c(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Ic(e){if(gs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gs=!1}ua=0,Ht=xt=Ke=null,qn=!1,bi=ps=0,Xn=null}function sl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Ke.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function Ot(){if(xt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Ht===null?Ke.memoizedState:Ht.next;if(t!==null)Ht=t,xt=e;else{if(e===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ht===null?Ke.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function vs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Si(e){var t=bi;return bi+=1,Xn===null&&(Xn=[]),e=dr(Xn,e,t),t=Ke,(Ht===null?t.memoizedState:Ht.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?af:ru),e}function xs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Si(e);if(e.$$typeof===P)return It(e)}throw Error(r(438,String(e)))}function Pc(e){var t=null,l=Ke.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Ke.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=vs(),Ke.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=$;return t.index++,l}function oa(e,t){return typeof t=="function"?t(e):t}function bs(e){var t=Ot();return eu(t,xt,e)}function eu(e,t,l){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var o=c=null,m=null,M=t,_=!1;do{var B=M.lane&-536870913;if(B!==M.lane?(nt&B)===B:(ua&B)===B){var C=M.revertLane;if(C===0)m!==null&&(m=m.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),B===Ln&&(_=!0);else if((ua&C)===C){M=M.next,C===Ln&&(_=!0);continue}else B={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},m===null?(o=m=B,c=i):m=m.next=B,Ke.lanes|=C,Ya|=C;B=M.action,gn&&l(i,B),i=M.hasEagerState?M.eagerState:l(i,B)}else C={lane:B,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},m===null?(o=m=C,c=i):m=m.next=C,Ke.lanes|=B,Ya|=B;M=M.next}while(M!==null&&M!==t);if(m===null?c=i:m.next=o,!wl(i,e.memoizedState)&&(Bt=!0,_&&(l=Un,l!==null)))throw l;e.memoizedState=i,e.baseState=c,e.baseQueue=m,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function tu(e){var t=Ot(),l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);wl(i,t.memoizedState)||(Bt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function wr(e,t,l){var a=Ke,n=Ot(),i=ct;if(i){if(l===void 0)throw Error(r(407));l=l()}else l=t();var c=!wl((xt||n).memoizedState,l);if(c&&(n.memoizedState=l,Bt=!0),n=n.queue,nu(Cr.bind(null,a,n,e),[e]),n.getSnapshot!==t||c||Ht!==null&&Ht.memoizedState.tag&1){if(a.flags|=2048,Gn(9,{destroy:void 0},Mr.bind(null,a,n,l,t),null),wt===null)throw Error(r(349));i||(ua&127)!==0||Nr(a,t,l)}return l}function Nr(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ke.updateQueue,t===null?(t=vs(),Ke.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Mr(e,t,l,a){t.value=l,t.getSnapshot=a,Tr(t)&&Er(e)}function Cr(e,t,l){return l(function(){Tr(t)&&Er(e)})}function Tr(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!wl(e,l)}catch{return!0}}function Er(e){var t=cn(e,2);t!==null&&yl(t,e,2)}function lu(e){var t=sl();if(typeof e=="function"){var l=e;if(e=l(),gn){ol(!0);try{l()}finally{ol(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t}function Ar(e,t,l,a){return e.baseState=l,eu(e,xt,typeof a=="function"?a:oa)}function xm(e,t,l,a,n){if(ws(e))throw Error(r(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};E.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,zr(t,i)):(i.next=l.next,t.pending=l.next=i)}}function zr(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=E.T,c={};E.T=c;try{var o=l(n,a),m=E.S;m!==null&&m(c,o),Dr(e,t,o)}catch(M){au(e,t,M)}finally{i!==null&&c.types!==null&&(i.types=c.types),E.T=i}}else try{i=l(n,a),Dr(e,t,i)}catch(M){au(e,t,M)}}function Dr(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Rr(e,t,a)},function(a){return au(e,t,a)}):Rr(e,t,l)}function Rr(e,t,l){t.status="fulfilled",t.value=l,Or(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,zr(e,l)))}function au(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Or(t),t=t.next;while(t!==a)}e.action=null}function Or(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function _r(e,t){return t}function Lr(e,t){if(ct){var l=wt.formState;if(l!==null){e:{var a=Ke;if(ct){if(Mt){t:{for(var n=Mt,i=Bl;n.nodeType!==8;){if(!i){n=null;break t}if(n=ql(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Mt=ql(n.nextSibling),a=n.data==="F!";break e}}za(a)}a=!1}a&&(t=l[0])}}return l=sl(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:t},l.queue=a,l=ef.bind(null,Ke,a),a.dispatch=l,a=lu(!1),i=ou.bind(null,Ke,!1,a.queue),a=sl(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=xm.bind(null,Ke,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Ur(e){var t=Ot();return Hr(t,xt,e)}function Hr(e,t,l){if(t=eu(e,t,_r)[0],e=bs(oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Si(t)}catch(c){throw c===Hn?rs:c}else a=t;t=Ot();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(Ke.flags|=2048,Gn(9,{destroy:void 0},bm.bind(null,n,l),null)),[a,i,e]}function bm(e,t){e.action=t}function Br(e){var t=Ot(),l=xt;if(l!==null)return Hr(t,l,e);Ot(),t=t.memoizedState,l=Ot();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Gn(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Ke.updateQueue,t===null&&(t=vs(),Ke.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Yr(){return Ot().memoizedState}function Ss(e,t,l,a){var n=sl();Ke.flags|=e,n.memoizedState=Gn(1|t,{destroy:void 0},l,a===void 0?null:a)}function js(e,t,l,a){var n=Ot();a=a===void 0?null:a;var i=n.memoizedState.inst;xt!==null&&a!==null&&Jc(a,xt.memoizedState.deps)?n.memoizedState=Gn(t,i,l,a):(Ke.flags|=e,n.memoizedState=Gn(1|t,i,l,a))}function qr(e,t){Ss(8390656,8,e,t)}function nu(e,t){js(2048,8,e,t)}function Sm(e){Ke.flags|=4;var t=Ke.updateQueue;if(t===null)t=vs(),Ke.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Xr(e){var t=Ot().memoizedState;return Sm({ref:t,nextImpl:e}),function(){if((ht&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Gr(e,t){return js(4,2,e,t)}function Vr(e,t){return js(4,4,e,t)}function Zr(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qr(e,t,l){l=l!=null?l.concat([e]):null,js(4,4,Zr.bind(null,t,e),l)}function iu(){}function kr(e,t){var l=Ot();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Jc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Kr(e,t){var l=Ot();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Jc(t,a[1]))return a[0];if(a=e(),gn){ol(!0);try{e()}finally{ol(!1)}}return l.memoizedState=[a,t],a}function su(e,t,l){return l===void 0||(ua&1073741824)!==0&&(nt&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Wf(),Ke.lanes|=e,Ya|=e,l)}function Jr(e,t,l,a){return wl(l,t)?l:Yn.current!==null?(e=su(e,l,a),wl(e,t)||(Bt=!0),e):(ua&42)===0||(ua&1073741824)!==0&&(nt&261930)===0?(Bt=!0,e.memoizedState=l):(e=Wf(),Ke.lanes|=e,Ya|=e,t)}function Wr(e,t,l,a,n){var i=k.p;k.p=i!==0&&8>i?i:8;var c=E.T,o={};E.T=o,ou(e,!1,t,l);try{var m=n(),M=E.S;if(M!==null&&M(o,m),m!==null&&typeof m=="object"&&typeof m.then=="function"){var _=gm(m,a);ji(e,t,_,Al(e))}else ji(e,t,a,Al(e))}catch(B){ji(e,t,{then:function(){},status:"rejected",reason:B},Al())}finally{k.p=i,c!==null&&o.types!==null&&(c.types=o.types),E.T=c}}function jm(){}function cu(e,t,l,a){if(e.tag!==5)throw Error(r(476));var n=Fr(e).queue;Wr(e,n,t,he,l===null?jm:function(){return $r(e),l(a)})}function Fr(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:he},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $r(e){var t=Fr(e);t.next===null&&(t=e.alternate.memoizedState),ji(e,t.next.queue,{},Al())}function uu(){return It(Yi)}function Ir(){return Ot().memoizedState}function Pr(){return Ot().memoizedState}function wm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Al();e=Oa(l);var a=_a(t,e,l);a!==null&&(yl(a,t,l),pi(a,t,l)),t={cache:Hc()},e.payload=t;return}t=t.return}}function Nm(e,t,l){var a=Al();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ws(e)?tf(t,l):(l=Cc(e,t,l,a),l!==null&&(yl(l,e,a),lf(l,t,a)))}function ef(e,t,l){var a=Al();ji(e,t,l,a)}function ji(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ws(e))tf(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,o=i(c,l);if(n.hasEagerState=!0,n.eagerState=o,wl(o,c))return as(e,t,n,0),wt===null&&ls(),!1}catch{}finally{}if(l=Cc(e,t,n,a),l!==null)return yl(l,e,a),lf(l,t,a),!0}return!1}function ou(e,t,l,a){if(a={lane:2,revertLane:Xu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ws(e)){if(t)throw Error(r(479))}else t=Cc(e,l,a,2),t!==null&&yl(t,e,2)}function ws(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function tf(e,t){qn=gs=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function lf(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,d(e,l)}}var wi={readContext:It,use:xs,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};wi.useEffectEvent=zt;var af={readContext:It,use:xs,useCallback:function(e,t){return sl().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:qr,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Ss(4194308,4,Zr.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Ss(4194308,4,e,t)},useInsertionEffect:function(e,t){Ss(4,2,e,t)},useMemo:function(e,t){var l=sl();t=t===void 0?null:t;var a=e();if(gn){ol(!0);try{e()}finally{ol(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=sl();if(l!==void 0){var n=l(t);if(gn){ol(!0);try{l(t)}finally{ol(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Nm.bind(null,Ke,e),[a.memoizedState,e]},useRef:function(e){var t=sl();return e={current:e},t.memoizedState=e},useState:function(e){e=lu(e);var t=e.queue,l=ef.bind(null,Ke,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:iu,useDeferredValue:function(e,t){var l=sl();return su(l,e,t)},useTransition:function(){var e=lu(!1);return e=Wr.bind(null,Ke,e.queue,!0,!1),sl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Ke,n=sl();if(ct){if(l===void 0)throw Error(r(407));l=l()}else{if(l=t(),wt===null)throw Error(r(349));(nt&127)!==0||Nr(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,qr(Cr.bind(null,a,i,e),[e]),a.flags|=2048,Gn(9,{destroy:void 0},Mr.bind(null,a,i,l,t),null),l},useId:function(){var e=sl(),t=wt.identifierPrefix;if(ct){var l=Fl,a=Wl;l=(a&~(1<<32-qt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=ps++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=pm++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:uu,useFormState:Lr,useActionState:Lr,useOptimistic:function(e){var t=sl();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=ou.bind(null,Ke,!0,l),l.dispatch=t,[e,t]},useMemoCache:Pc,useCacheRefresh:function(){return sl().memoizedState=wm.bind(null,Ke)},useEffectEvent:function(e){var t=sl(),l={impl:e};return t.memoizedState=l,function(){if((ht&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},ru={readContext:It,use:xs,useCallback:kr,useContext:It,useEffect:nu,useImperativeHandle:Qr,useInsertionEffect:Gr,useLayoutEffect:Vr,useMemo:Kr,useReducer:bs,useRef:Yr,useState:function(){return bs(oa)},useDebugValue:iu,useDeferredValue:function(e,t){var l=Ot();return Jr(l,xt.memoizedState,e,t)},useTransition:function(){var e=bs(oa)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:Si(e),t]},useSyncExternalStore:wr,useId:Ir,useHostTransitionStatus:uu,useFormState:Ur,useActionState:Ur,useOptimistic:function(e,t){var l=Ot();return Ar(l,xt,e,t)},useMemoCache:Pc,useCacheRefresh:Pr};ru.useEffectEvent=Xr;var nf={readContext:It,use:xs,useCallback:kr,useContext:It,useEffect:nu,useImperativeHandle:Qr,useInsertionEffect:Gr,useLayoutEffect:Vr,useMemo:Kr,useReducer:tu,useRef:Yr,useState:function(){return tu(oa)},useDebugValue:iu,useDeferredValue:function(e,t){var l=Ot();return xt===null?su(l,e,t):Jr(l,xt.memoizedState,e,t)},useTransition:function(){var e=tu(oa)[0],t=Ot().memoizedState;return[typeof e=="boolean"?e:Si(e),t]},useSyncExternalStore:wr,useId:Ir,useHostTransitionStatus:uu,useFormState:Br,useActionState:Br,useOptimistic:function(e,t){var l=Ot();return xt!==null?Ar(l,xt,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Pc,useCacheRefresh:Pr};nf.useEffectEvent=Xr;function fu(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:g({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var du={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Al(),n=Oa(a);n.payload=t,l!=null&&(n.callback=l),t=_a(e,n,a),t!==null&&(yl(t,e,a),pi(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Al(),n=Oa(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=_a(e,n,a),t!==null&&(yl(t,e,a),pi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Al(),a=Oa(l);a.tag=2,t!=null&&(a.callback=t),t=_a(e,a,l),t!==null&&(yl(t,e,l),pi(t,e,l))}};function sf(e,t,l,a,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,c):t.prototype&&t.prototype.isPureReactComponent?!oi(l,a)||!oi(n,i):!0}function cf(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&du.enqueueReplaceState(t,t.state,null)}function pn(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=g({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function uf(e){ts(e)}function of(e){console.error(e)}function rf(e){ts(e)}function Ns(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function ff(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function mu(e,t,l){return l=Oa(l),l.tag=3,l.payload={element:null},l.callback=function(){Ns(e,t)},l}function df(e){return e=Oa(e),e.tag=3,e}function mf(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){ff(t,l,a)}}var c=l.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){ff(t,l,a),typeof n!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var o=a.stack;this.componentDidCatch(a.value,{componentStack:o!==null?o:""})})}function Mm(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&_n(t,l,n,!0),l=Ml.current,l!==null){switch(l.tag){case 31:case 13:return Yl===null?Us():l.alternate===null&&Dt===0&&(Dt=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===fs?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Bu(e,a,n)),!1;case 22:return l.flags|=65536,a===fs?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Bu(e,a,n)),!1}throw Error(r(435,l.tag))}return Bu(e,a,n),Us(),!1}if(ct)return t=Ml.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==Rc&&(e=Error(r(422),{cause:a}),di(Ll(e,l)))):(a!==Rc&&(t=Error(r(423),{cause:a}),di(Ll(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Ll(a,l),n=mu(e.stateNode,a,n),Vc(e,n),Dt!==4&&(Dt=2)),!1;var i=Error(r(520),{cause:a});if(i=Ll(i,l),Di===null?Di=[i]:Di.push(i),Dt!==4&&(Dt=2),t===null)return!0;a=Ll(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=mu(l.stateNode,a,e),Vc(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(qa===null||!qa.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=df(n),mf(n,e,l,a),Vc(l,n),!1}l=l.return}while(l!==null);return!1}var hu=Error(r(461)),Bt=!1;function Pt(e,t,l,a){t.child=e===null?gr(t,null,l,a):yn(t,e.child,l,a)}function hf(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var c={};for(var o in a)o!=="ref"&&(c[o]=a[o])}else c=a;return fn(t),a=Wc(e,t,l,c,i,n),o=Fc(),e!==null&&!Bt?($c(e,t,n),ra(e,t,n)):(ct&&o&&zc(t),t.flags|=1,Pt(e,t,a,n),t.child)}function yf(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!Tc(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,gf(e,t,i,a,n)):(e=is(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!ju(e,n)){var c=i.memoizedProps;if(l=l.compare,l=l!==null?l:oi,l(c,a)&&e.ref===t.ref)return ra(e,t,n)}return t.flags|=1,e=na(i,a),e.ref=t.ref,e.return=t,t.child=e}function gf(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(oi(i,a)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=a=i,ju(e,n))(e.flags&131072)!==0&&(Bt=!0);else return t.lanes=e.lanes,ra(e,t,n)}return yu(e,t,l,a,n)}function pf(e,t,l,a){var n=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~i}else a=0,t.child=null;return vf(e,t,i,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&os(t,i!==null?i.cachePool:null),i!==null?xr(t,i):Qc(),br(t);else return a=t.lanes=536870912,vf(e,t,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(os(t,i.cachePool),xr(t,i),Ua(),t.memoizedState=null):(e!==null&&os(t,null),Qc(),Ua());return Pt(e,t,n,l),t.child}function Ni(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function vf(e,t,l,a,n){var i=Yc();return i=i===null?null:{parent:Ut._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&os(t,null),Qc(),br(t),e!==null&&_n(e,t,a,!0),t.childLanes=n,null}function Ms(e,t){return t=Ts({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function xf(e,t,l){return yn(t,e.child,null,l),e=Ms(t,t.pendingProps),e.flags|=2,Cl(t),t.memoizedState=null,e}function Cm(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ct){if(a.mode==="hidden")return e=Ms(t,a),t.lanes=536870912,Ni(null,e);if(Kc(t),(e=Mt)?(e=Dd(e,Bl),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Wl,overflow:Fl}:null,retryLane:536870912,hydrationErrors:null},l=tr(e),l.return=t,t.child=l,$t=t,Mt=null)):e=null,e===null)throw za(t);return t.lanes=536870912,null}return Ms(t,a)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(Kc(t),n)if(t.flags&256)t.flags&=-257,t=xf(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Bt||_n(e,t,l,!1),n=(l&e.childLanes)!==0,Bt||n){if(a=wt,a!==null&&(c=oe(a,l),c!==0&&c!==i.retryLane))throw i.retryLane=c,cn(e,c),yl(a,e,c),hu;Us(),t=xf(e,t,l)}else e=i.treeContext,Mt=ql(c.nextSibling),$t=t,ct=!0,Aa=null,Bl=!1,e!==null&&nr(t,e),t=Ms(t,a),t.flags|=4096;return t}return e=na(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Cs(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function yu(e,t,l,a,n){return fn(t),l=Wc(e,t,l,a,void 0,n),a=Fc(),e!==null&&!Bt?($c(e,t,n),ra(e,t,n)):(ct&&a&&zc(t),t.flags|=1,Pt(e,t,l,n),t.child)}function bf(e,t,l,a,n,i){return fn(t),t.updateQueue=null,l=jr(t,a,l,n),Sr(e),a=Fc(),e!==null&&!Bt?($c(e,t,i),ra(e,t,i)):(ct&&a&&zc(t),t.flags|=1,Pt(e,t,l,i),t.child)}function Sf(e,t,l,a,n){if(fn(t),t.stateNode===null){var i=zn,c=l.contextType;typeof c=="object"&&c!==null&&(i=It(c)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=du,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Xc(t),c=l.contextType,i.context=typeof c=="object"&&c!==null?It(c):zn,i.state=t.memoizedState,c=l.getDerivedStateFromProps,typeof c=="function"&&(fu(t,l,c,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&du.enqueueReplaceState(i,i.state,null),xi(t,a,i,n),vi(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,m=pn(l,o);i.props=m;var M=i.context,_=l.contextType;c=zn,typeof _=="object"&&_!==null&&(c=It(_));var B=l.getDerivedStateFromProps;_=typeof B=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,_||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||M!==c)&&cf(t,i,a,c),Ra=!1;var C=t.memoizedState;i.state=C,xi(t,a,i,n),vi(),M=t.memoizedState,o||C!==M||Ra?(typeof B=="function"&&(fu(t,l,B,a),M=t.memoizedState),(m=Ra||sf(t,l,m,a,C,M,c))?(_||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=M),i.props=a,i.state=M,i.context=c,a=m):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Gc(e,t),c=t.memoizedProps,_=pn(l,c),i.props=_,B=t.pendingProps,C=i.context,M=l.contextType,m=zn,typeof M=="object"&&M!==null&&(m=It(M)),o=l.getDerivedStateFromProps,(M=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==B||C!==m)&&cf(t,i,a,m),Ra=!1,C=t.memoizedState,i.state=C,xi(t,a,i,n),vi();var D=t.memoizedState;c!==B||C!==D||Ra||e!==null&&e.dependencies!==null&&cs(e.dependencies)?(typeof o=="function"&&(fu(t,l,o,a),D=t.memoizedState),(_=Ra||sf(t,l,_,a,C,D,m)||e!==null&&e.dependencies!==null&&cs(e.dependencies))?(M||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,D,m),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,D,m)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=D),i.props=a,i.state=D,i.context=m,a=_):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Cs(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=yn(t,e.child,null,n),t.child=yn(t,null,l,n)):Pt(e,t,l,n),t.memoizedState=i.state,e=t.child):e=ra(e,t,n),e}function jf(e,t,l,a){return on(),t.flags|=256,Pt(e,t,l,a),t.child}var gu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pu(e){return{baseLanes:e,cachePool:rr()}}function vu(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=El),e}function wf(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),c&&(n=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(ct){if(n?La(t):Ua(),(e=Mt)?(e=Dd(e,Bl),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ea!==null?{id:Wl,overflow:Fl}:null,retryLane:536870912,hydrationErrors:null},l=tr(e),l.return=t,t.child=l,$t=t,Mt=null)):e=null,e===null)throw za(t);return eo(e)?t.lanes=32:t.lanes=536870912,null}var o=a.children;return a=a.fallback,n?(Ua(),n=t.mode,o=Ts({mode:"hidden",children:o},n),a=un(a,n,l,null),o.return=t,a.return=t,o.sibling=a,t.child=o,a=t.child,a.memoizedState=pu(l),a.childLanes=vu(e,c,l),t.memoizedState=gu,Ni(null,a)):(La(t),xu(t,o))}var m=e.memoizedState;if(m!==null&&(o=m.dehydrated,o!==null)){if(i)t.flags&256?(La(t),t.flags&=-257,t=bu(e,t,l)):t.memoizedState!==null?(Ua(),t.child=e.child,t.flags|=128,t=null):(Ua(),o=a.fallback,n=t.mode,a=Ts({mode:"visible",children:a.children},n),o=un(o,n,l,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,yn(t,e.child,null,l),a=t.child,a.memoizedState=pu(l),a.childLanes=vu(e,c,l),t.memoizedState=gu,t=Ni(null,a));else if(La(t),eo(o)){if(c=o.nextSibling&&o.nextSibling.dataset,c)var M=c.dgst;c=M,a=Error(r(419)),a.stack="",a.digest=c,di({value:a,source:null,stack:null}),t=bu(e,t,l)}else if(Bt||_n(e,t,l,!1),c=(l&e.childLanes)!==0,Bt||c){if(c=wt,c!==null&&(a=oe(c,l),a!==0&&a!==m.retryLane))throw m.retryLane=a,cn(e,a),yl(c,e,a),hu;Pu(o)||Us(),t=bu(e,t,l)}else Pu(o)?(t.flags|=192,t.child=e.child,t=null):(e=m.treeContext,Mt=ql(o.nextSibling),$t=t,ct=!0,Aa=null,Bl=!1,e!==null&&nr(t,e),t=xu(t,a.children),t.flags|=4096);return t}return n?(Ua(),o=a.fallback,n=t.mode,m=e.child,M=m.sibling,a=na(m,{mode:"hidden",children:a.children}),a.subtreeFlags=m.subtreeFlags&65011712,M!==null?o=na(M,o):(o=un(o,n,l,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,Ni(null,a),a=t.child,o=e.child.memoizedState,o===null?o=pu(l):(n=o.cachePool,n!==null?(m=Ut._currentValue,n=n.parent!==m?{parent:m,pool:m}:n):n=rr(),o={baseLanes:o.baseLanes|l,cachePool:n}),a.memoizedState=o,a.childLanes=vu(e,c,l),t.memoizedState=gu,Ni(e.child,a)):(La(t),l=e.child,e=l.sibling,l=na(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=l,t.memoizedState=null,l)}function xu(e,t){return t=Ts({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ts(e,t){return e=Nl(22,e,null,t),e.lanes=0,e}function bu(e,t,l){return yn(t,e.child,null,l),e=xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Nf(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Lc(e.return,t,l)}function Su(e,t,l,a,n,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=l,c.tailMode=n,c.treeForkCount=i)}function Mf(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;a=a.children;var c=Rt.current,o=(c&2)!==0;if(o?(c=c&1|2,t.flags|=128):c&=1,ce(Rt,c),Pt(e,t,a,l),a=ct?fi:0,!o&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nf(e,l,t);else if(e.tag===19)Nf(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&ys(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Su(t,!1,n,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ys(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Su(t,!0,l,null,i,a);break;case"together":Su(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ra(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Ya|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(_n(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,l=na(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=na(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function ju(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&cs(e)))}function Tm(e,t,l){switch(t.tag){case 3:vt(t,t.stateNode.containerInfo),Da(t,Ut,e.memoizedState.cache),on();break;case 27:case 5:zl(t);break;case 4:vt(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Kc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(La(t),t.flags|=128,null):(l&t.child.childLanes)!==0?wf(e,t,l):(La(t),e=ra(e,t,l),e!==null?e.sibling:null);La(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(_n(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return Mf(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ce(Rt,Rt.current),a)break;return null;case 22:return t.lanes=0,pf(e,t,l,t.pendingProps);case 24:Da(t,Ut,e.memoizedState.cache)}return ra(e,t,l)}function Cf(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Bt=!0;else{if(!ju(e,l)&&(t.flags&128)===0)return Bt=!1,Tm(e,t,l);Bt=(e.flags&131072)!==0}else Bt=!1,ct&&(t.flags&1048576)!==0&&ar(t,fi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=mn(t.elementType),t.type=e,typeof e=="function")Tc(e)?(a=pn(e,a),t.tag=1,t=Sf(null,t,e,a,l)):(t.tag=0,t=yu(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===me){t.tag=11,t=hf(null,t,e,a,l);break e}else if(n===ie){t.tag=14,t=yf(null,t,e,a,l);break e}}throw t=ut(e)||e,Error(r(306,t,""))}}return t;case 0:return yu(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=pn(a,t.pendingProps),Sf(e,t,a,n,l);case 3:e:{if(vt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,Gc(e,t),xi(t,a,null,l);var c=t.memoizedState;if(a=c.cache,Da(t,Ut,a),a!==i.cache&&Uc(t,[Ut],l,!0),vi(),a=c.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=jf(e,t,a,l);break e}else if(a!==n){n=Ll(Error(r(424)),t),di(n),t=jf(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Mt=ql(e.firstChild),$t=t,ct=!0,Aa=null,Bl=!0,l=gr(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(on(),a===n){t=ra(e,t,l);break e}Pt(e,t,a,l)}t=t.child}return t;case 26:return Cs(e,t),e===null?(l=Hd(t.type,null,t.pendingProps,null))?t.memoizedState=l:ct||(l=t.type,e=t.pendingProps,a=Vs(Be.current).createElement(l),a[J]=t,a[Q]=e,el(a,l,e),ke(a),t.stateNode=a):t.memoizedState=Hd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return zl(t),e===null&&ct&&(a=t.stateNode=_d(t.type,t.pendingProps,Be.current),$t=t,Bl=!0,n=Mt,Za(t.type)?(to=n,Mt=ql(a.firstChild)):Mt=n),Pt(e,t,t.pendingProps.children,l),Cs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ct&&((n=a=Mt)&&(a=ah(a,t.type,t.pendingProps,Bl),a!==null?(t.stateNode=a,$t=t,Mt=ql(a.firstChild),Bl=!1,n=!0):n=!1),n||za(t)),zl(t),n=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,a=i.children,Fu(n,i)?a=null:c!==null&&Fu(n,c)&&(t.flags|=32),t.memoizedState!==null&&(n=Wc(e,t,vm,null,null,l),Yi._currentValue=n),Cs(e,t),Pt(e,t,a,l),t.child;case 6:return e===null&&ct&&((e=l=Mt)&&(l=nh(l,t.pendingProps,Bl),l!==null?(t.stateNode=l,$t=t,Mt=null,e=!0):e=!1),e||za(t)),null;case 13:return wf(e,t,l);case 4:return vt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=yn(t,null,a,l):Pt(e,t,a,l),t.child;case 11:return hf(e,t,t.type,t.pendingProps,l);case 7:return Pt(e,t,t.pendingProps,l),t.child;case 8:return Pt(e,t,t.pendingProps.children,l),t.child;case 12:return Pt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Da(t,t.type,a.value),Pt(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,fn(t),n=It(n),a=a(n),t.flags|=1,Pt(e,t,a,l),t.child;case 14:return yf(e,t,t.type,t.pendingProps,l);case 15:return gf(e,t,t.type,t.pendingProps,l);case 19:return Mf(e,t,l);case 31:return Cm(e,t,l);case 22:return pf(e,t,l,t.pendingProps);case 24:return fn(t),a=It(Ut),e===null?(n=Yc(),n===null&&(n=wt,i=Hc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},Xc(t),Da(t,Ut,n)):((e.lanes&l)!==0&&(Gc(e,t),xi(t,null,null,l),vi()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Da(t,Ut,a)):(a=i.cache,Da(t,Ut,a),a!==n.cache&&Uc(t,[Ut],l,!0))),Pt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function fa(e){e.flags|=4}function wu(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Pf())e.flags|=8192;else throw hn=fs,qc}else e.flags&=-16777217}function Tf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gd(t))if(Pf())e.flags|=8192;else throw hn=fs,qc}function Es(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Nn():536870912,e.lanes|=t,kn|=t)}function Mi(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Em(e,t,l){var a=t.pendingProps;switch(Dc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return Ct(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ca(Ut),yt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(On(t)?fa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Oc())),Ct(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(fa(t),i!==null?(Ct(t),Tf(t,i)):(Ct(t),wu(t,n,null,a,l))):i?i!==e.memoizedState?(fa(t),Ct(t),Tf(t,i)):(Ct(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&fa(t),Ct(t),wu(t,n,e,a,l)),null;case 27:if(Dl(t),l=Be.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&fa(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Ct(t),null}e=ye.current,On(t)?ir(t):(e=_d(n,a,l),t.stateNode=e,fa(t))}return Ct(t),null;case 5:if(Dl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&fa(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Ct(t),null}if(i=ye.current,On(t))ir(t);else{var c=Vs(Be.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?c.createElement("select",{is:a.is}):c.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?c.createElement(n,{is:a.is}):c.createElement(n)}}i[J]=t,i[Q]=a;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(el(i,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&fa(t)}}return Ct(t),wu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&fa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=Be.current,On(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=$t,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[J]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||wd(e.nodeValue,l)),e||za(t,!0)}else e=Vs(e).createTextNode(a),e[J]=t,t.stateNode=e}return Ct(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=On(t),l!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[J]=t}else on(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ct(t),e=!1}else l=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Cl(t),t):(Cl(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Ct(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=On(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(r(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));n[J]=t}else on(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ct(t),n=!1}else n=Oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Cl(t),t):(Cl(t),null)}return Cl(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Es(t,t.updateQueue),Ct(t),null);case 4:return yt(),e===null&&Qu(t.stateNode.containerInfo),Ct(t),null;case 10:return ca(t.type),Ct(t),null;case 19:if(L(Rt),a=t.memoizedState,a===null)return Ct(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Mi(a,!1);else{if(Dt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=ys(e),i!==null){for(t.flags|=128,Mi(a,!1),e=i.updateQueue,t.updateQueue=e,Es(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)er(l,e),l=l.sibling;return ce(Rt,Rt.current&1|2),ct&&ia(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Tt()>Os&&(t.flags|=128,n=!0,Mi(a,!1),t.lanes=4194304)}else{if(!n)if(e=ys(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Es(t,e),Mi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ct)return Ct(t),null}else 2*Tt()-a.renderingStartTime>Os&&l!==536870912&&(t.flags|=128,n=!0,Mi(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Tt(),e.sibling=null,l=Rt.current,ce(Rt,n?l&1|2:l&1),ct&&ia(t,a.treeForkCount),e):(Ct(t),null);case 22:case 23:return Cl(t),kc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),l=t.updateQueue,l!==null&&Es(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&L(dn),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ca(Ut),Ct(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Am(e,t){switch(Dc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ca(Ut),yt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Dl(t),null;case 31:if(t.memoizedState!==null){if(Cl(t),t.alternate===null)throw Error(r(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Cl(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));on()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Rt),null;case 4:return yt(),null;case 10:return ca(t.type),null;case 22:case 23:return Cl(t),kc(),e!==null&&L(dn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ca(Ut),null;case 25:return null;default:return null}}function Ef(e,t){switch(Dc(t),t.tag){case 3:ca(Ut),yt();break;case 26:case 27:case 5:Dl(t);break;case 4:yt();break;case 31:t.memoizedState!==null&&Cl(t);break;case 13:Cl(t);break;case 19:L(Rt);break;case 10:ca(t.type);break;case 22:case 23:Cl(t),kc(),e!==null&&L(dn);break;case 24:ca(Ut)}}function Ci(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,c=l.inst;a=i(),c.destroy=a}l=l.next}while(l!==n)}}catch(o){pt(t,t.return,o)}}function Ha(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var c=a.inst,o=c.destroy;if(o!==void 0){c.destroy=void 0,n=t;var m=l,M=o;try{M()}catch(_){pt(n,m,_)}}}a=a.next}while(a!==i)}}catch(_){pt(t,t.return,_)}}function Af(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{vr(t,l)}catch(a){pt(e,e.return,a)}}}function zf(e,t,l){l.props=pn(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){pt(e,t,a)}}function Ti(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){pt(e,t,n)}}function $l(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){pt(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){pt(e,t,n)}else l.current=null}function Df(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){pt(e,e.return,n)}}function Nu(e,t,l){try{var a=e.stateNode;$m(a,e.type,l,t),a[Q]=t}catch(n){pt(e,e.return,n)}}function Rf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Za(e.type)||e.tag===4}function Mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Vl));else if(a!==4&&(a===27&&Za(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Cu(e,t,l),e=e.sibling;e!==null;)Cu(e,t,l),e=e.sibling}function As(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Za(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(As(e,t,l),e=e.sibling;e!==null;)As(e,t,l),e=e.sibling}function Of(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);el(t,a,l),t[J]=e,t[Q]=l}catch(i){pt(e,e.return,i)}}var da=!1,Yt=!1,Tu=!1,_f=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function zm(e,t){if(e=e.containerInfo,Ju=Fs,e=Qo(e),bc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var c=0,o=-1,m=-1,M=0,_=0,B=e,C=null;t:for(;;){for(var D;B!==l||n!==0&&B.nodeType!==3||(o=c+n),B!==i||a!==0&&B.nodeType!==3||(m=c+a),B.nodeType===3&&(c+=B.nodeValue.length),(D=B.firstChild)!==null;)C=B,B=D;for(;;){if(B===e)break t;if(C===l&&++M===n&&(o=c),C===i&&++_===a&&(m=c),(D=B.nextSibling)!==null)break;B=C,C=B.parentNode}B=D}l=o===-1||m===-1?null:{start:o,end:m}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wu={focusedElem:e,selectionRange:l},Fs=!1,Jt=t;Jt!==null;)if(t=Jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Jt=e;else for(;Jt!==null;){switch(t=Jt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var Ne=pn(l.type,n);e=a.getSnapshotBeforeUpdate(Ne,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ue){pt(l,l.return,Ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Iu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Iu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Jt=e;break}Jt=t.return}}function Lf(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:ha(e,l),a&4&&Ci(5,l);break;case 1:if(ha(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(c){pt(l,l.return,c)}else{var n=pn(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){pt(l,l.return,c)}}a&64&&Af(l),a&512&&Ti(l,l.return);break;case 3:if(ha(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{vr(e,t)}catch(c){pt(l,l.return,c)}}break;case 27:t===null&&a&4&&Of(l);case 26:case 5:ha(e,l),t===null&&a&4&&Df(l),a&512&&Ti(l,l.return);break;case 12:ha(e,l);break;case 31:ha(e,l),a&4&&Bf(e,l);break;case 13:ha(e,l),a&4&&Yf(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Ym.bind(null,l),ih(e,l))));break;case 22:if(a=l.memoizedState!==null||da,!a){t=t!==null&&t.memoizedState!==null||Yt,n=da;var i=Yt;da=a,(Yt=t)&&!i?ya(e,l,(l.subtreeFlags&8772)!==0):ha(e,l),da=n,Yt=i}break;case 30:break;default:ha(e,l)}}function Uf(e){var t=e.alternate;t!==null&&(e.alternate=null,Uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&st(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var At=null,fl=!1;function ma(e,t,l){for(l=l.child;l!==null;)Hf(e,t,l),l=l.sibling}function Hf(e,t,l){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(_t,l)}catch{}switch(l.tag){case 26:Yt||$l(l,t),ma(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yt||$l(l,t);var a=At,n=fl;Za(l.type)&&(At=l.stateNode,fl=!1),ma(e,t,l),Ui(l.stateNode),At=a,fl=n;break;case 5:Yt||$l(l,t);case 6:if(a=At,n=fl,At=null,ma(e,t,l),At=a,fl=n,At!==null)if(fl)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(l.stateNode)}catch(i){pt(l,t,i)}else try{At.removeChild(l.stateNode)}catch(i){pt(l,t,i)}break;case 18:At!==null&&(fl?(e=At,Ad(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ei(e)):Ad(At,l.stateNode));break;case 4:a=At,n=fl,At=l.stateNode.containerInfo,fl=!0,ma(e,t,l),At=a,fl=n;break;case 0:case 11:case 14:case 15:Ha(2,l,t),Yt||Ha(4,l,t),ma(e,t,l);break;case 1:Yt||($l(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&zf(l,t,a)),ma(e,t,l);break;case 21:ma(e,t,l);break;case 22:Yt=(a=Yt)||l.memoizedState!==null,ma(e,t,l),Yt=a;break;default:ma(e,t,l)}}function Bf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ei(e)}catch(l){pt(t,t.return,l)}}}function Yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ei(e)}catch(l){pt(t,t.return,l)}}function Dm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _f),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _f),t;default:throw Error(r(435,e.tag))}}function zs(e,t){var l=Dm(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=qm.bind(null,e,a);a.then(n,n)}})}function dl(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,c=t,o=c;e:for(;o!==null;){switch(o.tag){case 27:if(Za(o.type)){At=o.stateNode,fl=!1;break e}break;case 5:At=o.stateNode,fl=!1;break e;case 3:case 4:At=o.stateNode.containerInfo,fl=!0;break e}o=o.return}if(At===null)throw Error(r(160));Hf(i,c,n),At=null,fl=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)qf(t,e),t=t.sibling}var Ql=null;function qf(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dl(t,e),ml(e),a&4&&(Ha(3,e,e.return),Ci(3,e),Ha(5,e,e.return));break;case 1:dl(t,e),ml(e),a&512&&(Yt||l===null||$l(l,l.return)),a&64&&da&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=Ql;if(dl(t,e),ml(e),a&512&&(Yt||l===null||$l(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[$e]||i[J]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),el(i,a,l),i[J]=e,ke(i),a=i;break e;case"link":var c=qd("link","href",n).get(a+(l.href||""));if(c){for(var o=0;o<c.length;o++)if(i=c[o],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){c.splice(o,1);break t}}i=n.createElement(a),el(i,a,l),n.head.appendChild(i);break;case"meta":if(c=qd("meta","content",n).get(a+(l.content||""))){for(o=0;o<c.length;o++)if(i=c[o],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){c.splice(o,1);break t}}i=n.createElement(a),el(i,a,l),n.head.appendChild(i);break;default:throw Error(r(468,a))}i[J]=e,ke(i),a=i}e.stateNode=a}else Xd(n,e.type,e.stateNode);else e.stateNode=Yd(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Xd(n,e.type,e.stateNode):Yd(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Nu(e,e.memoizedProps,l.memoizedProps)}break;case 27:dl(t,e),ml(e),a&512&&(Yt||l===null||$l(l,l.return)),l!==null&&a&4&&Nu(e,e.memoizedProps,l.memoizedProps);break;case 5:if(dl(t,e),ml(e),a&512&&(Yt||l===null||$l(l,l.return)),e.flags&32){n=e.stateNode;try{Kt(n,"")}catch(Ne){pt(e,e.return,Ne)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Nu(e,n,l!==null?l.memoizedProps:n)),a&1024&&(Tu=!0);break;case 6:if(dl(t,e),ml(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(Ne){pt(e,e.return,Ne)}}break;case 3:if(ks=null,n=Ql,Ql=Zs(t.containerInfo),dl(t,e),Ql=n,ml(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(Ne){pt(e,e.return,Ne)}Tu&&(Tu=!1,Xf(e));break;case 4:a=Ql,Ql=Zs(e.stateNode.containerInfo),dl(t,e),ml(e),Ql=a;break;case 12:dl(t,e),ml(e);break;case 31:dl(t,e),ml(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zs(e,a)));break;case 13:dl(t,e),ml(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Rs=Tt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zs(e,a)));break;case 22:n=e.memoizedState!==null;var m=l!==null&&l.memoizedState!==null,M=da,_=Yt;if(da=M||n,Yt=_||m,dl(t,e),Yt=_,da=M,ml(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||m||da||Yt||vn(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){m=l=t;try{if(i=m.stateNode,n)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{o=m.stateNode;var B=m.memoizedProps.style,C=B!=null&&B.hasOwnProperty("display")?B.display:null;o.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(Ne){pt(m,m.return,Ne)}}}else if(t.tag===6){if(l===null){m=t;try{m.stateNode.nodeValue=n?"":m.memoizedProps}catch(Ne){pt(m,m.return,Ne)}}}else if(t.tag===18){if(l===null){m=t;try{var D=m.stateNode;n?zd(D,!0):zd(m.stateNode,!1)}catch(Ne){pt(m,m.return,Ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,zs(e,l))));break;case 19:dl(t,e),ml(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zs(e,a)));break;case 30:break;case 21:break;default:dl(t,e),ml(e)}}function ml(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Rf(a)){l=a;break}a=a.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var n=l.stateNode,i=Mu(e);As(e,i,n);break;case 5:var c=l.stateNode;l.flags&32&&(Kt(c,""),l.flags&=-33);var o=Mu(e);As(e,o,c);break;case 3:case 4:var m=l.stateNode.containerInfo,M=Mu(e);Cu(e,M,m);break;default:throw Error(r(161))}}catch(_){pt(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ha(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Lf(e,t.alternate,t),t=t.sibling}function vn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ha(4,t,t.return),vn(t);break;case 1:$l(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&zf(t,t.return,l),vn(t);break;case 27:Ui(t.stateNode);case 26:case 5:$l(t,t.return),vn(t);break;case 22:t.memoizedState===null&&vn(t);break;case 30:vn(t);break;default:vn(t)}e=e.sibling}}function ya(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:ya(n,i,l),Ci(4,i);break;case 1:if(ya(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(M){pt(a,a.return,M)}if(a=i,n=a.updateQueue,n!==null){var o=a.stateNode;try{var m=n.shared.hiddenCallbacks;if(m!==null)for(n.shared.hiddenCallbacks=null,n=0;n<m.length;n++)pr(m[n],o)}catch(M){pt(a,a.return,M)}}l&&c&64&&Af(i),Ti(i,i.return);break;case 27:Of(i);case 26:case 5:ya(n,i,l),l&&a===null&&c&4&&Df(i),Ti(i,i.return);break;case 12:ya(n,i,l);break;case 31:ya(n,i,l),l&&c&4&&Bf(n,i);break;case 13:ya(n,i,l),l&&c&4&&Yf(n,i);break;case 22:i.memoizedState===null&&ya(n,i,l),Ti(i,i.return);break;case 30:break;default:ya(n,i,l)}t=t.sibling}}function Eu(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&mi(l))}function Au(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mi(e))}function kl(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gf(e,t,l,a),t=t.sibling}function Gf(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:kl(e,t,l,a),n&2048&&Ci(9,t);break;case 1:kl(e,t,l,a);break;case 3:kl(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mi(e)));break;case 12:if(n&2048){kl(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,o=i.onPostCommit;typeof o=="function"&&o(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(m){pt(t,t.return,m)}}else kl(e,t,l,a);break;case 31:kl(e,t,l,a);break;case 13:kl(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?kl(e,t,l,a):Ei(e,t):i._visibility&2?kl(e,t,l,a):(i._visibility|=2,Vn(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Eu(c,t);break;case 24:kl(e,t,l,a),n&2048&&Au(t.alternate,t);break;default:kl(e,t,l,a)}}function Vn(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,o=l,m=a,M=c.flags;switch(c.tag){case 0:case 11:case 15:Vn(i,c,o,m,n),Ci(8,c);break;case 23:break;case 22:var _=c.stateNode;c.memoizedState!==null?_._visibility&2?Vn(i,c,o,m,n):Ei(i,c):(_._visibility|=2,Vn(i,c,o,m,n)),n&&M&2048&&Eu(c.alternate,c);break;case 24:Vn(i,c,o,m,n),n&&M&2048&&Au(c.alternate,c);break;default:Vn(i,c,o,m,n)}t=t.sibling}}function Ei(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:Ei(l,a),n&2048&&Eu(a.alternate,a);break;case 24:Ei(l,a),n&2048&&Au(a.alternate,a);break;default:Ei(l,a)}t=t.sibling}}var Ai=8192;function Zn(e,t,l){if(e.subtreeFlags&Ai)for(e=e.child;e!==null;)Vf(e,t,l),e=e.sibling}function Vf(e,t,l){switch(e.tag){case 26:Zn(e,t,l),e.flags&Ai&&e.memoizedState!==null&&ph(l,Ql,e.memoizedState,e.memoizedProps);break;case 5:Zn(e,t,l);break;case 3:case 4:var a=Ql;Ql=Zs(e.stateNode.containerInfo),Zn(e,t,l),Ql=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ai,Ai=16777216,Zn(e,t,l),Ai=a):Zn(e,t,l));break;default:Zn(e,t,l)}}function Zf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function zi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Jt=a,kf(a,e)}Zf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qf(e),e=e.sibling}function Qf(e){switch(e.tag){case 0:case 11:case 15:zi(e),e.flags&2048&&Ha(9,e,e.return);break;case 3:zi(e);break;case 12:zi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ds(e)):zi(e);break;default:zi(e)}}function Ds(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Jt=a,kf(a,e)}Zf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ha(8,t,t.return),Ds(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Ds(t));break;default:Ds(t)}e=e.sibling}}function kf(e,t){for(;Jt!==null;){var l=Jt;switch(l.tag){case 0:case 11:case 15:Ha(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:mi(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Jt=a;else e:for(l=e;Jt!==null;){a=Jt;var n=a.sibling,i=a.return;if(Uf(a),a===l){Jt=null;break e}if(n!==null){n.return=i,Jt=n;break e}Jt=i}}}var Rm={getCacheForType:function(e){var t=It(Ut),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return It(Ut).controller.signal}},Om=typeof WeakMap=="function"?WeakMap:Map,ht=0,wt=null,tt=null,nt=0,gt=0,Tl=null,Ba=!1,Qn=!1,zu=!1,ga=0,Dt=0,Ya=0,xn=0,Du=0,El=0,kn=0,Di=null,hl=null,Ru=!1,Rs=0,Kf=0,Os=1/0,_s=null,qa=null,Zt=0,Xa=null,Kn=null,pa=0,Ou=0,_u=null,Jf=null,Ri=0,Lu=null;function Al(){return(ht&2)!==0&&nt!==0?nt&-nt:E.T!==null?Xu():fe()}function Wf(){if(El===0)if((nt&536870912)===0||ct){var e=Sa;Sa<<=1,(Sa&3932160)===0&&(Sa=262144),El=e}else El=536870912;return e=Ml.current,e!==null&&(e.flags|=32),El}function yl(e,t,l){(e===wt&&(gt===2||gt===9)||e.cancelPendingCommit!==null)&&(Jn(e,0),Ga(e,nt,El,!1)),ee(e,l),((ht&2)===0||e!==wt)&&(e===wt&&((ht&2)===0&&(xn|=l),Dt===4&&Ga(e,nt,El,!1)),Il(e))}function Ff(e,t,l){if((ht&6)!==0)throw Error(r(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Kl(e,t),n=a?Um(e,t):Hu(e,t,!0),i=a;do{if(n===0){Qn&&!a&&Ga(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!_m(l)){n=Hu(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var o=e;n=Di;var m=o.current.memoizedState.isDehydrated;if(m&&(Jn(o,c).flags|=256),c=Hu(o,c,!1),c!==2){if(zu&&!m){o.errorRecoveryDisabledLanes|=i,xn|=i,n=4;break e}i=hl,hl=n,i!==null&&(hl===null?hl=i:hl.push.apply(hl,i))}n=c}if(i=!1,n!==2)continue}}if(n===1){Jn(e,0),Ga(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ga(a,t,El,!Ba);break e;case 2:hl=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(n=Rs+300-Tt(),10<n)){if(Ga(a,t,El,!Ba),ja(a,0,!0)!==0)break e;pa=t,a.timeoutHandle=Td($f.bind(null,a,l,hl,_s,Ru,t,El,xn,kn,Ba,i,"Throttled",-0,0),n);break e}$f(a,l,hl,_s,Ru,t,El,xn,kn,Ba,i,null,-0,0)}}break}while(!0);Il(e)}function $f(e,t,l,a,n,i,c,o,m,M,_,B,C,D){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vl},Vf(t,i,B);var Ne=(i&62914560)===i?Rs-Tt():(i&4194048)===i?Kf-Tt():0;if(Ne=vh(B,Ne),Ne!==null){pa=i,e.cancelPendingCommit=Ne(id.bind(null,e,t,i,l,a,n,c,o,m,_,B,null,C,D)),Ga(e,i,c,!M);return}}id(e,t,i,l,a,n,c,o,m)}function _m(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!wl(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,l,a){t&=~Du,t&=~xn,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-qt(n),c=1<<i;a[i]=-1,n&=~c}l!==0&&F(e,l,t)}function Ls(){return(ht&6)===0?(Oi(0),!1):!0}function Uu(){if(tt!==null){if(gt===0)var e=tt.return;else e=tt,sa=rn=null,Ic(e),Bn=null,yi=0,e=tt;for(;e!==null;)Ef(e.alternate,e),e=e.return;tt=null}}function Jn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,eh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),pa=0,Uu(),wt=e,tt=l=na(e.current,null),nt=t,gt=0,Tl=null,Ba=!1,Qn=Kl(e,t),zu=!1,kn=El=Du=xn=Ya=Dt=0,hl=Di=null,Ru=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-qt(a),i=1<<n;t|=e[n],a&=~i}return ga=t,ls(),l}function If(e,t){Ke=null,E.H=wi,t===Hn||t===rs?(t=mr(),gt=3):t===qc?(t=mr(),gt=4):gt=t===hu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Tl=t,tt===null&&(Dt=1,Ns(e,Ll(t,e.current)))}function Pf(){var e=Ml.current;return e===null?!0:(nt&4194048)===nt?Yl===null:(nt&62914560)===nt||(nt&536870912)!==0?e===Yl:!1}function ed(){var e=E.H;return E.H=wi,e===null?wi:e}function td(){var e=E.A;return E.A=Rm,e}function Us(){Dt=4,Ba||(nt&4194048)!==nt&&Ml.current!==null||(Qn=!0),(Ya&134217727)===0&&(xn&134217727)===0||wt===null||Ga(wt,nt,El,!1)}function Hu(e,t,l){var a=ht;ht|=2;var n=ed(),i=td();(wt!==e||nt!==t)&&(_s=null,Jn(e,t)),t=!1;var c=Dt;e:do try{if(gt!==0&&tt!==null){var o=tt,m=Tl;switch(gt){case 8:Uu(),c=6;break e;case 3:case 2:case 9:case 6:Ml.current===null&&(t=!0);var M=gt;if(gt=0,Tl=null,Wn(e,o,m,M),l&&Qn){c=0;break e}break;default:M=gt,gt=0,Tl=null,Wn(e,o,m,M)}}Lm(),c=Dt;break}catch(_){If(e,_)}while(!0);return t&&e.shellSuspendCounter++,sa=rn=null,ht=a,E.H=n,E.A=i,tt===null&&(wt=null,nt=0,ls()),c}function Lm(){for(;tt!==null;)ld(tt)}function Um(e,t){var l=ht;ht|=2;var a=ed(),n=td();wt!==e||nt!==t?(_s=null,Os=Tt()+500,Jn(e,t)):Qn=Kl(e,t);e:do try{if(gt!==0&&tt!==null){t=tt;var i=Tl;t:switch(gt){case 1:gt=0,Tl=null,Wn(e,t,i,1);break;case 2:case 9:if(fr(i)){gt=0,Tl=null,ad(t);break}t=function(){gt!==2&&gt!==9||wt!==e||(gt=7),Il(e)},i.then(t,t);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:fr(i)?(gt=0,Tl=null,ad(t)):(gt=0,Tl=null,Wn(e,t,i,7));break;case 5:var c=null;switch(tt.tag){case 26:c=tt.memoizedState;case 5:case 27:var o=tt;if(c?Gd(c):o.stateNode.complete){gt=0,Tl=null;var m=o.sibling;if(m!==null)tt=m;else{var M=o.return;M!==null?(tt=M,Hs(M)):tt=null}break t}}gt=0,Tl=null,Wn(e,t,i,5);break;case 6:gt=0,Tl=null,Wn(e,t,i,6);break;case 8:Uu(),Dt=6;break e;default:throw Error(r(462))}}Hm();break}catch(_){If(e,_)}while(!0);return sa=rn=null,E.H=a,E.A=n,ht=l,tt!==null?0:(wt=null,nt=0,ls(),Dt)}function Hm(){for(;tt!==null&&!bl();)ld(tt)}function ld(e){var t=Cf(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?Hs(e):tt=t}function ad(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=bf(l,t,t.pendingProps,t.type,void 0,nt);break;case 11:t=bf(l,t,t.pendingProps,t.type.render,t.ref,nt);break;case 5:Ic(t);default:Ef(l,t),t=tt=er(t,ga),t=Cf(l,t,ga)}e.memoizedProps=e.pendingProps,t===null?Hs(e):tt=t}function Wn(e,t,l,a){sa=rn=null,Ic(t),Bn=null,yi=0;var n=t.return;try{if(Mm(e,n,t,l,nt)){Dt=1,Ns(e,Ll(l,e.current)),tt=null;return}}catch(i){if(n!==null)throw tt=n,i;Dt=1,Ns(e,Ll(l,e.current)),tt=null;return}t.flags&32768?(ct||a===1?e=!0:Qn||(nt&536870912)!==0?e=!1:(Ba=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ml.current,a!==null&&a.tag===13&&(a.flags|=16384))),nd(t,e)):Hs(t)}function Hs(e){var t=e;do{if((t.flags&32768)!==0){nd(t,Ba);return}e=t.return;var l=Em(t.alternate,t,ga);if(l!==null){tt=l;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);Dt===0&&(Dt=5)}function nd(e,t){do{var l=Am(e.alternate,e);if(l!==null){l.flags&=32767,tt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){tt=e;return}tt=e=l}while(e!==null);Dt=6,tt=null}function id(e,t,l,a,n,i,c,o,m){e.cancelPendingCommit=null;do Bs();while(Zt!==0);if((ht&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(i=t.lanes|t.childLanes,i|=Mc,T(e,l,i,c,o,m),e===wt&&(tt=wt=null,nt=0),Kn=t,Xa=e,pa=l,Ou=i,_u=n,Jf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Xm(Ft,function(){return rd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=E.T,E.T=null,n=k.p,k.p=2,c=ht,ht|=4;try{zm(e,t,l)}finally{ht=c,k.p=n,E.T=a}}Zt=1,sd(),cd(),ud()}}function sd(){if(Zt===1){Zt=0;var e=Xa,t=Kn,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=E.T,E.T=null;var a=k.p;k.p=2;var n=ht;ht|=4;try{qf(t,e);var i=Wu,c=Qo(e.containerInfo),o=i.focusedElem,m=i.selectionRange;if(c!==o&&o&&o.ownerDocument&&Zo(o.ownerDocument.documentElement,o)){if(m!==null&&bc(o)){var M=m.start,_=m.end;if(_===void 0&&(_=M),"selectionStart"in o)o.selectionStart=M,o.selectionEnd=Math.min(_,o.value.length);else{var B=o.ownerDocument||document,C=B&&B.defaultView||window;if(C.getSelection){var D=C.getSelection(),Ne=o.textContent.length,Ue=Math.min(m.start,Ne),St=m.end===void 0?Ue:Math.min(m.end,Ne);!D.extend&&Ue>St&&(c=St,St=Ue,Ue=c);var j=Vo(o,Ue),x=Vo(o,St);if(j&&x&&(D.rangeCount!==1||D.anchorNode!==j.node||D.anchorOffset!==j.offset||D.focusNode!==x.node||D.focusOffset!==x.offset)){var N=B.createRange();N.setStart(j.node,j.offset),D.removeAllRanges(),Ue>St?(D.addRange(N),D.extend(x.node,x.offset)):(N.setEnd(x.node,x.offset),D.addRange(N))}}}}for(B=[],D=o;D=D.parentNode;)D.nodeType===1&&B.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<B.length;o++){var H=B[o];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Fs=!!Ju,Wu=Ju=null}finally{ht=n,k.p=a,E.T=l}}e.current=t,Zt=2}}function cd(){if(Zt===2){Zt=0;var e=Xa,t=Kn,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=E.T,E.T=null;var a=k.p;k.p=2;var n=ht;ht|=4;try{Lf(e,t.alternate,t)}finally{ht=n,k.p=a,E.T=l}}Zt=3}}function ud(){if(Zt===4||Zt===3){Zt=0,Sn();var e=Xa,t=Kn,l=pa,a=Jf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Zt=5:(Zt=0,Kn=Xa=null,od(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(qa=null),I(l),t=t.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(_t,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=E.T,n=k.p,k.p=2,E.T=null;try{for(var i=e.onRecoverableError,c=0;c<a.length;c++){var o=a[c];i(o.value,{componentStack:o.stack})}}finally{E.T=t,k.p=n}}(pa&3)!==0&&Bs(),Il(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===Lu?Ri++:(Ri=0,Lu=e):Ri=0,Oi(0)}}function od(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,mi(t)))}function Bs(){return sd(),cd(),ud(),rd()}function rd(){if(Zt!==5)return!1;var e=Xa,t=Ou;Ou=0;var l=I(pa),a=E.T,n=k.p;try{k.p=32>l?32:l,E.T=null,l=_u,_u=null;var i=Xa,c=pa;if(Zt=0,Kn=Xa=null,pa=0,(ht&6)!==0)throw Error(r(331));var o=ht;if(ht|=4,Qf(i.current),Gf(i,i.current,c,l),ht=o,Oi(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(_t,i)}catch{}return!0}finally{k.p=n,E.T=a,od(e,t)}}function fd(e,t,l){t=Ll(l,t),t=mu(e.stateNode,t,2),e=_a(e,t,2),e!==null&&(ee(e,2),Il(e))}function pt(e,t,l){if(e.tag===3)fd(e,e,l);else for(;t!==null;){if(t.tag===3){fd(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(qa===null||!qa.has(a))){e=Ll(l,e),l=df(2),a=_a(t,l,2),a!==null&&(mf(l,a,t,e),ee(a,2),Il(a));break}}t=t.return}}function Bu(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Om;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(zu=!0,n.add(l),e=Bm.bind(null,e,t,l),t.then(e,e))}function Bm(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,wt===e&&(nt&l)===l&&(Dt===4||Dt===3&&(nt&62914560)===nt&&300>Tt()-Rs?(ht&2)===0&&Jn(e,0):Du|=l,kn===nt&&(kn=0)),Il(e)}function dd(e,t){t===0&&(t=Nn()),e=cn(e,t),e!==null&&(ee(e,t),Il(e))}function Ym(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),dd(e,l)}function qm(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),dd(e,l)}function Xm(e,t){return xl(e,t)}var Ys=null,Fn=null,Yu=!1,qs=!1,qu=!1,Va=0;function Il(e){e!==Fn&&e.next===null&&(Fn===null?Ys=Fn=e:Fn=Fn.next=e),qs=!0,Yu||(Yu=!0,Vm())}function Oi(e,t){if(!qu&&qs){qu=!0;do for(var l=!1,a=Ys;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var c=a.suspendedLanes,o=a.pingedLanes;i=(1<<31-qt(42|e)+1)-1,i&=n&~(c&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,gd(a,i))}else i=nt,i=ja(a,a===wt?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||Kl(a,i)||(l=!0,gd(a,i));a=a.next}while(l);qu=!1}}function Gm(){md()}function md(){qs=Yu=!1;var e=0;Va!==0&&Pm()&&(e=Va);for(var t=Tt(),l=null,a=Ys;a!==null;){var n=a.next,i=hd(a,t);i===0?(a.next=null,l===null?Ys=n:l.next=n,n===null&&(Fn=l)):(l=a,(e!==0||(i&3)!==0)&&(qs=!0)),a=n}Zt!==0&&Zt!==5||Oi(e),Va!==0&&(Va=0)}function hd(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-qt(i),o=1<<c,m=n[c];m===-1?((o&l)===0||(o&a)!==0)&&(n[c]=Jl(o,t)):m<=t&&(e.expiredLanes|=o),i&=~o}if(t=wt,l=nt,l=ja(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(gt===2||gt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ea(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Kl(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&ea(a),I(l)){case 2:case 8:l=xa;break;case 32:l=Ft;break;case 268435456:l=ll;break;default:l=Ft}return a=yd.bind(null,e),l=xl(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&ea(a),e.callbackPriority=2,e.callbackNode=null,2}function yd(e,t){if(Zt!==0&&Zt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Bs()&&e.callbackNode!==l)return null;var a=nt;return a=ja(e,e===wt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Ff(e,a,t),hd(e,Tt()),e.callbackNode!=null&&e.callbackNode===l?yd.bind(null,e):null)}function gd(e,t){if(Bs())return null;Ff(e,t,!0)}function Vm(){th(function(){(ht&6)!==0?xl(ul,Gm):md()})}function Xu(){if(Va===0){var e=Ln;e===0&&(e=Nt,Nt<<=1,(Nt&261888)===0&&(Nt=256)),Va=e}return Va}function pd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ln(""+e)}function vd(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Zm(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=pd((n[Q]||null).action),c=a.submitter;c&&(t=(t=c[Q]||null)?pd(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var o=new Ii("action","action",null,a,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Va!==0){var m=c?vd(n,c):new FormData(n);cu(l,{pending:!0,data:m,method:n.method,action:i},null,m)}}else typeof i=="function"&&(o.preventDefault(),m=c?vd(n,c):new FormData(n),cu(l,{pending:!0,data:m,method:n.method,action:i},i,m))},currentTarget:n}]})}}for(var Gu=0;Gu<Nc.length;Gu++){var Vu=Nc[Gu],Qm=Vu.toLowerCase(),km=Vu[0].toUpperCase()+Vu.slice(1);Zl(Qm,"on"+km)}Zl(Jo,"onAnimationEnd"),Zl(Wo,"onAnimationIteration"),Zl(Fo,"onAnimationStart"),Zl("dblclick","onDoubleClick"),Zl("focusin","onFocus"),Zl("focusout","onBlur"),Zl(um,"onTransitionRun"),Zl(om,"onTransitionStart"),Zl(rm,"onTransitionCancel"),Zl($o,"onTransitionEnd"),q("onMouseEnter",["mouseout","mouseover"]),q("onMouseLeave",["mouseout","mouseover"]),q("onPointerEnter",["pointerout","pointerover"]),q("onPointerLeave",["pointerout","pointerover"]),Y("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Y("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Y("onBeforeInput",["compositionend","keypress","textInput","paste"]),Y("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Y("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Y("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Km=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_i));function xd(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var c=a.length-1;0<=c;c--){var o=a[c],m=o.instance,M=o.currentTarget;if(o=o.listener,m!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=M;try{i(n)}catch(_){ts(_)}n.currentTarget=null,i=m}else for(c=0;c<a.length;c++){if(o=a[c],m=o.instance,M=o.currentTarget,o=o.listener,m!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=M;try{i(n)}catch(_){ts(_)}n.currentTarget=null,i=m}}}}function lt(e,t){var l=t[De];l===void 0&&(l=t[De]=new Set);var a=e+"__bubble";l.has(a)||(bd(t,e,2,!1),l.add(a))}function Zu(e,t,l){var a=0;t&&(a|=4),bd(l,e,a,t)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function Qu(e){if(!e[Xs]){e[Xs]=!0,rt.forEach(function(l){l!=="selectionchange"&&(Km.has(l)||Zu(l,!1,e),Zu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xs]||(t[Xs]=!0,Zu("selectionchange",!1,t))}}function bd(e,t,l,a){switch(Wd(t)){case 2:var n=Sh;break;case 8:n=jh;break;default:n=so}l=n.bind(null,t,l,e),n=void 0,!fc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function ku(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var o=a.stateNode.containerInfo;if(o===n)break;if(c===4)for(c=a.return;c!==null;){var m=c.tag;if((m===3||m===4)&&c.stateNode.containerInfo===n)return;c=c.return}for(;o!==null;){if(c=et(o),c===null)return;if(m=c.tag,m===5||m===6||m===26||m===27){a=i=c;continue e}o=o.parentNode}}a=a.return}No(function(){var M=i,_=Na(l),B=[];e:{var C=Io.get(e);if(C!==void 0){var D=Ii,Ne=e;switch(e){case"keypress":if(Fi(l)===0)break e;case"keydown":case"keyup":D=q0;break;case"focusin":Ne="focus",D=yc;break;case"focusout":Ne="blur",D=yc;break;case"beforeblur":case"afterblur":D=yc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=To;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=E0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=V0;break;case Jo:case Wo:case Fo:D=D0;break;case $o:D=Q0;break;case"scroll":case"scrollend":D=C0;break;case"wheel":D=K0;break;case"copy":case"cut":case"paste":D=O0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Ao;break;case"toggle":case"beforetoggle":D=W0}var Ue=(t&4)!==0,St=!Ue&&(e==="scroll"||e==="scrollend"),j=Ue?C!==null?C+"Capture":null:C;Ue=[];for(var x=M,N;x!==null;){var H=x;if(N=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||N===null||j===null||(H=li(x,j),H!=null&&Ue.push(Li(x,H,N))),St)break;x=x.return}0<Ue.length&&(C=new D(C,Ne,null,l,_),B.push({event:C,listeners:Ue}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",C&&l!==wa&&(Ne=l.relatedTarget||l.fromElement)&&(et(Ne)||Ne[ve]))break e;if((D||C)&&(C=_.window===_?_:(C=_.ownerDocument)?C.defaultView||C.parentWindow:window,D?(Ne=l.relatedTarget||l.toElement,D=M,Ne=Ne?et(Ne):null,Ne!==null&&(St=A(Ne),Ue=Ne.tag,Ne!==St||Ue!==5&&Ue!==27&&Ue!==6)&&(Ne=null)):(D=null,Ne=M),D!==Ne)){if(Ue=To,H="onMouseLeave",j="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(Ue=Ao,H="onPointerLeave",j="onPointerEnter",x="pointer"),St=D==null?C:Je(D),N=Ne==null?C:Je(Ne),C=new Ue(H,x+"leave",D,l,_),C.target=St,C.relatedTarget=N,H=null,et(_)===M&&(Ue=new Ue(j,x+"enter",Ne,l,_),Ue.target=N,Ue.relatedTarget=St,H=Ue),St=H,D&&Ne)t:{for(Ue=Jm,j=D,x=Ne,N=0,H=j;H;H=Ue(H))N++;H=0;for(var _e=x;_e;_e=Ue(_e))H++;for(;0<N-H;)j=Ue(j),N--;for(;0<H-N;)x=Ue(x),H--;for(;N--;){if(j===x||x!==null&&j===x.alternate){Ue=j;break t}j=Ue(j),x=Ue(x)}Ue=null}else Ue=null;D!==null&&Sd(B,C,D,Ue,!1),Ne!==null&&St!==null&&Sd(B,St,Ne,Ue,!0)}}e:{if(C=M?Je(M):window,D=C.nodeName&&C.nodeName.toLowerCase(),D==="select"||D==="input"&&C.type==="file")var ft=Ho;else if(Lo(C))if(Bo)ft=im;else{ft=am;var Ce=lm}else D=C.nodeName,!D||D.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?M&&Mn(M.elementType)&&(ft=Ho):ft=nm;if(ft&&(ft=ft(e,M))){Uo(B,ft,l,_);break e}Ce&&Ce(e,C,M),e==="focusout"&&M&&C.type==="number"&&M.memoizedProps.value!=null&&Xt(C,"number",C.value)}switch(Ce=M?Je(M):window,e){case"focusin":(Lo(Ce)||Ce.contentEditable==="true")&&(Tn=Ce,Sc=M,ri=null);break;case"focusout":ri=Sc=Tn=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,ko(B,l,_);break;case"selectionchange":if(cm)break;case"keydown":case"keyup":ko(B,l,_)}var We;if(pc)e:{switch(e){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Cn?Oo(e,l)&&(it="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(it="onCompositionStart");it&&(zo&&l.locale!=="ko"&&(Cn||it!=="onCompositionStart"?it==="onCompositionEnd"&&Cn&&(We=Mo()):(Ta=_,dc="value"in Ta?Ta.value:Ta.textContent,Cn=!0)),Ce=Gs(M,it),0<Ce.length&&(it=new Eo(it,e,null,l,_),B.push({event:it,listeners:Ce}),We?it.data=We:(We=_o(l),We!==null&&(it.data=We)))),(We=$0?I0(e,l):P0(e,l))&&(it=Gs(M,"onBeforeInput"),0<it.length&&(Ce=new Eo("onBeforeInput","beforeinput",null,l,_),B.push({event:Ce,listeners:it}),Ce.data=We)),Zm(B,e,M,l,_)}xd(B,t)})}function Li(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Gs(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=li(e,l),n!=null&&a.unshift(Li(e,n,i)),n=li(e,t),n!=null&&a.push(Li(e,n,i))),e.tag===3)return a;e=e.return}return[]}function Jm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Sd(e,t,l,a,n){for(var i=t._reactName,c=[];l!==null&&l!==a;){var o=l,m=o.alternate,M=o.stateNode;if(o=o.tag,m!==null&&m===a)break;o!==5&&o!==26&&o!==27||M===null||(m=M,n?(M=li(l,i),M!=null&&c.unshift(Li(l,M,m))):n||(M=li(l,i),M!=null&&c.push(Li(l,M,m)))),l=l.return}c.length!==0&&e.push({event:t,listeners:c})}var Wm=/\r\n?/g,Fm=/\u0000|\uFFFD/g;function jd(e){return(typeof e=="string"?e:""+e).replace(Wm,`
`).replace(Fm,"")}function wd(e,t){return t=jd(t),jd(e)===t}function bt(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Kt(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Kt(e,""+a);break;case"className":Re(e,"class",a);break;case"tabIndex":Re(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Re(e,l,a);break;case"style":tn(e,a,i);break;case"data":if(t!=="object"){Re(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ln(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&bt(e,t,"name",n.name,n,null),bt(e,t,"formEncType",n.formEncType,n,null),bt(e,t,"formMethod",n.formMethod,n,null),bt(e,t,"formTarget",n.formTarget,n,null)):(bt(e,t,"encType",n.encType,n,null),bt(e,t,"method",n.method,n,null),bt(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ln(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Vl);break;case"onScroll":a!=null&&lt("scroll",e);break;case"onScrollEnd":a!=null&&lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=ln(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":lt("beforetoggle",e),lt("toggle",e),ze(e,"popover",a);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":ze(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ki.get(l)||l,ze(e,l,a))}}function Ku(e,t,l,a,n,i){switch(l){case"style":tn(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Kt(e,a):(typeof a=="number"||typeof a=="bigint")&&Kt(e,""+a);break;case"onScroll":a!=null&&lt("scroll",e);break;case"onScrollEnd":a!=null&&lt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Vl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!w.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[Q]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):ze(e,l,a)}}}function el(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",e),lt("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];if(c!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:bt(e,t,i,c,l,null)}}n&&bt(e,t,"srcSet",l.srcSet,l,null),a&&bt(e,t,"src",l.src,l,null);return;case"input":lt("invalid",e);var o=i=c=n=null,m=null,M=null;for(a in l)if(l.hasOwnProperty(a)){var _=l[a];if(_!=null)switch(a){case"name":n=_;break;case"type":c=_;break;case"checked":m=_;break;case"defaultChecked":M=_;break;case"value":i=_;break;case"defaultValue":o=_;break;case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(137,t));break;default:bt(e,t,a,_,l,null)}}Et(e,i,o,m,M,c,n,!1);return;case"select":lt("invalid",e),a=c=i=null;for(n in l)if(l.hasOwnProperty(n)&&(o=l[n],o!=null))switch(n){case"value":i=o;break;case"defaultValue":c=o;break;case"multiple":a=o;default:bt(e,t,n,o,l,null)}t=i,l=c,e.multiple=!!a,t!=null?Gt(e,!!a,t,!1):l!=null&&Gt(e,!!a,l,!0);return;case"textarea":lt("invalid",e),i=n=a=null;for(c in l)if(l.hasOwnProperty(c)&&(o=l[c],o!=null))switch(c){case"value":a=o;break;case"defaultValue":n=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:bt(e,t,c,o,l,null)}Vt(e,a,n,i);return;case"option":for(m in l)if(l.hasOwnProperty(m)&&(a=l[m],a!=null))switch(m){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:bt(e,t,m,a,l,null)}return;case"dialog":lt("beforetoggle",e),lt("toggle",e),lt("cancel",e),lt("close",e);break;case"iframe":case"object":lt("load",e);break;case"video":case"audio":for(a=0;a<_i.length;a++)lt(_i[a],e);break;case"image":lt("error",e),lt("load",e);break;case"details":lt("toggle",e);break;case"embed":case"source":case"link":lt("error",e),lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in l)if(l.hasOwnProperty(M)&&(a=l[M],a!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:bt(e,t,M,a,l,null)}return;default:if(Mn(t)){for(_ in l)l.hasOwnProperty(_)&&(a=l[_],a!==void 0&&Ku(e,t,_,a,l,void 0));return}}for(o in l)l.hasOwnProperty(o)&&(a=l[o],a!=null&&bt(e,t,o,a,l,null))}function $m(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,c=null,o=null,m=null,M=null,_=null;for(D in l){var B=l[D];if(l.hasOwnProperty(D)&&B!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":m=B;default:a.hasOwnProperty(D)||bt(e,t,D,null,a,B)}}for(var C in a){var D=a[C];if(B=l[C],a.hasOwnProperty(C)&&(D!=null||B!=null))switch(C){case"type":i=D;break;case"name":n=D;break;case"checked":M=D;break;case"defaultChecked":_=D;break;case"value":c=D;break;case"defaultValue":o=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:D!==B&&bt(e,t,C,D,a,B)}}mt(e,c,o,m,M,_,i,n);return;case"select":D=c=o=C=null;for(i in l)if(m=l[i],l.hasOwnProperty(i)&&m!=null)switch(i){case"value":break;case"multiple":D=m;default:a.hasOwnProperty(i)||bt(e,t,i,null,a,m)}for(n in a)if(i=a[n],m=l[n],a.hasOwnProperty(n)&&(i!=null||m!=null))switch(n){case"value":C=i;break;case"defaultValue":o=i;break;case"multiple":c=i;default:i!==m&&bt(e,t,n,i,a,m)}t=o,l=c,a=D,C!=null?Gt(e,!!l,C,!1):!!a!=!!l&&(t!=null?Gt(e,!!l,t,!0):Gt(e,!!l,l?[]:"",!1));return;case"textarea":D=C=null;for(o in l)if(n=l[o],l.hasOwnProperty(o)&&n!=null&&!a.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:bt(e,t,o,null,a,n)}for(c in a)if(n=a[c],i=l[c],a.hasOwnProperty(c)&&(n!=null||i!=null))switch(c){case"value":C=n;break;case"defaultValue":D=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(r(91));break;default:n!==i&&bt(e,t,c,n,a,i)}il(e,C,D);return;case"option":for(var Ne in l)if(C=l[Ne],l.hasOwnProperty(Ne)&&C!=null&&!a.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:bt(e,t,Ne,null,a,C)}for(m in a)if(C=a[m],D=l[m],a.hasOwnProperty(m)&&C!==D&&(C!=null||D!=null))switch(m){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:bt(e,t,m,C,a,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in l)C=l[Ue],l.hasOwnProperty(Ue)&&C!=null&&!a.hasOwnProperty(Ue)&&bt(e,t,Ue,null,a,C);for(M in a)if(C=a[M],D=l[M],a.hasOwnProperty(M)&&C!==D&&(C!=null||D!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:bt(e,t,M,C,a,D)}return;default:if(Mn(t)){for(var St in l)C=l[St],l.hasOwnProperty(St)&&C!==void 0&&!a.hasOwnProperty(St)&&Ku(e,t,St,void 0,a,C);for(_ in a)C=a[_],D=l[_],!a.hasOwnProperty(_)||C===D||C===void 0&&D===void 0||Ku(e,t,_,C,a,D);return}}for(var j in l)C=l[j],l.hasOwnProperty(j)&&C!=null&&!a.hasOwnProperty(j)&&bt(e,t,j,null,a,C);for(B in a)C=a[B],D=l[B],!a.hasOwnProperty(B)||C===D||C==null&&D==null||bt(e,t,B,C,a,D)}function Nd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Im(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],i=n.transferSize,c=n.initiatorType,o=n.duration;if(i&&o&&Nd(c)){for(c=0,o=n.responseEnd,a+=1;a<l.length;a++){var m=l[a],M=m.startTime;if(M>o)break;var _=m.transferSize,B=m.initiatorType;_&&Nd(B)&&(m=m.responseEnd,c+=_*(m<o?1:(o-M)/(m-M)))}if(--a,t+=8*(i+c)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ju=null,Wu=null;function Vs(e){return e.nodeType===9?e:e.ownerDocument}function Md(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $u=null;function Pm(){var e=window.event;return e&&e.type==="popstate"?e===$u?!1:($u=e,!0):($u=null,!1)}var Td=typeof setTimeout=="function"?setTimeout:void 0,eh=typeof clearTimeout=="function"?clearTimeout:void 0,Ed=typeof Promise=="function"?Promise:void 0,th=typeof queueMicrotask=="function"?queueMicrotask:typeof Ed<"u"?function(e){return Ed.resolve(null).then(e).catch(lh)}:Td;function lh(e){setTimeout(function(){throw e})}function Za(e){return e==="head"}function Ad(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),ei(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Ui(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Ui(l);for(var i=l.firstChild;i;){var c=i.nextSibling,o=i.nodeName;i[$e]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=c}}else l==="body"&&Ui(e.ownerDocument.body);l=n}while(l);ei(t)}function zd(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Iu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Iu(l),st(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function ah(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[$e])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=ql(e.nextSibling),e===null)break}return null}function nh(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=ql(e.nextSibling),e===null))return null;return e}function Dd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ql(e.nextSibling),e===null))return null;return e}function Pu(e){return e.data==="$?"||e.data==="$~"}function eo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ih(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function ql(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var to=null;function Rd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return ql(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Od(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function _d(e,t,l){switch(t=Vs(l),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ui(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);st(e)}var Xl=new Map,Ld=new Set;function Zs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var va=k.d;k.d={f:sh,r:ch,D:uh,C:oh,L:rh,m:fh,X:mh,S:dh,M:hh};function sh(){var e=va.f(),t=Ls();return e||t}function ch(e){var t=ot(e);t!==null&&t.tag===5&&t.type==="form"?$r(t):va.r(e)}var $n=typeof document>"u"?null:document;function Ud(e,t,l){var a=$n;if(a&&typeof t=="string"&&t){var n=Ge(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Ld.has(n)||(Ld.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),el(t,"link",e),ke(t),a.head.appendChild(t)))}}function uh(e){va.D(e),Ud("dns-prefetch",e,null)}function oh(e,t){va.C(e,t),Ud("preconnect",e,t)}function rh(e,t,l){va.L(e,t,l);var a=$n;if(a&&e&&t){var n='link[rel="preload"][as="'+Ge(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Ge(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Ge(l.imageSizes)+'"]')):n+='[href="'+Ge(e)+'"]';var i=n;switch(t){case"style":i=In(e);break;case"script":i=Pn(e)}Xl.has(i)||(e=g({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Xl.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Hi(i))||t==="script"&&a.querySelector(Bi(i))||(t=a.createElement("link"),el(t,"link",e),ke(t),a.head.appendChild(t)))}}function fh(e,t){va.m(e,t);var l=$n;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Ge(a)+'"][href="'+Ge(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pn(e)}if(!Xl.has(i)&&(e=g({rel:"modulepreload",href:e},t),Xl.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Bi(i)))return}a=l.createElement("link"),el(a,"link",e),ke(a),l.head.appendChild(a)}}}function dh(e,t,l){va.S(e,t,l);var a=$n;if(a&&e){var n=jt(a).hoistableStyles,i=In(e);t=t||"default";var c=n.get(i);if(!c){var o={loading:0,preload:null};if(c=a.querySelector(Hi(i)))o.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Xl.get(i))&&lo(e,l);var m=c=a.createElement("link");ke(m),el(m,"link",e),m._p=new Promise(function(M,_){m.onload=M,m.onerror=_}),m.addEventListener("load",function(){o.loading|=1}),m.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Qs(c,t,a)}c={type:"stylesheet",instance:c,count:1,state:o},n.set(i,c)}}}function mh(e,t){va.X(e,t);var l=$n;if(l&&e){var a=jt(l).hoistableScripts,n=Pn(e),i=a.get(n);i||(i=l.querySelector(Bi(n)),i||(e=g({src:e,async:!0},t),(t=Xl.get(n))&&ao(e,t),i=l.createElement("script"),ke(i),el(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function hh(e,t){va.M(e,t);var l=$n;if(l&&e){var a=jt(l).hoistableScripts,n=Pn(e),i=a.get(n);i||(i=l.querySelector(Bi(n)),i||(e=g({src:e,async:!0,type:"module"},t),(t=Xl.get(n))&&ao(e,t),i=l.createElement("script"),ke(i),el(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Hd(e,t,l,a){var n=(n=Be.current)?Zs(n):null;if(!n)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=In(l.href),l=jt(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=In(l.href);var i=jt(n).hoistableStyles,c=i.get(e);if(c||(n=n.ownerDocument||n,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=n.querySelector(Hi(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Xl.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xl.set(e,l),i||yh(n,e,l,c.state))),t&&a===null)throw Error(r(528,""));return c}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pn(l),l=jt(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function In(e){return'href="'+Ge(e)+'"'}function Hi(e){return'link[rel="stylesheet"]['+e+"]"}function Bd(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function yh(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),el(t,"link",l),ke(t),e.head.appendChild(t))}function Pn(e){return'[src="'+Ge(e)+'"]'}function Bi(e){return"script[async]"+e}function Yd(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ge(l.href)+'"]');if(a)return t.instance=a,ke(a),a;var n=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ke(a),el(a,"style",n),Qs(a,l.precedence,e),t.instance=a;case"stylesheet":n=In(l.href);var i=e.querySelector(Hi(n));if(i)return t.state.loading|=4,t.instance=i,ke(i),i;a=Bd(l),(n=Xl.get(n))&&lo(a,n),i=(e.ownerDocument||e).createElement("link"),ke(i);var c=i;return c._p=new Promise(function(o,m){c.onload=o,c.onerror=m}),el(i,"link",a),t.state.loading|=4,Qs(i,l.precedence,e),t.instance=i;case"script":return i=Pn(l.src),(n=e.querySelector(Bi(i)))?(t.instance=n,ke(n),n):(a=l,(n=Xl.get(i))&&(a=g({},l),ao(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),ke(n),el(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Qs(a,l.precedence,e));return t.instance}function Qs(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,c=0;c<a.length;c++){var o=a[c];if(o.dataset.precedence===t)i=o;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function lo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ao(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ks=null;function qd(e,t,l){if(ks===null){var a=new Map,n=ks=new Map;n.set(l,a)}else n=ks,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[$e]||i[J]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var o=a.get(c);o?o.push(i):a.set(c,[i])}}return a}function Xd(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function gh(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Gd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ph(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=In(a.href),i=t.querySelector(Hi(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ks.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,ke(i);return}i=t.ownerDocument||t,a=Bd(a),(n=Xl.get(n))&&lo(a,n),i=i.createElement("link"),ke(i);var c=i;c._p=new Promise(function(o,m){c.onload=o,c.onerror=m}),el(i,"link",a),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ks.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var no=0;function vh(e,t){return e.stylesheets&&e.count===0&&Ws(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Ws(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&no===0&&(no=62500*Im());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ws(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>no?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function Ks(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ws(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Js=null;function Ws(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Js=new Map,t.forEach(xh,e),Js=null,Ks.call(e))}function xh(e,t){if(!(t.state.loading&4)){var l=Js.get(e);if(l)var a=l.get(null);else{l=new Map,Js.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var c=n[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(l.set(c.dataset.precedence,c),a=c)}a&&l.set(null,a)}n=t.instance,c=n.getAttribute("data-precedence"),i=l.get(c)||a,i===a&&l.set(null,n),l.set(c,n),this.count++,a=Ks.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Yi={$$typeof:P,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function bh(e,t,l,a,n,i,c,o,m){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z(0),this.hiddenUpdates=Z(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function Vd(e,t,l,a,n,i,c,o,m,M,_,B){return e=new bh(e,t,l,c,m,M,_,B,o),t=1,i===!0&&(t|=24),i=Nl(3,null,null,t),e.current=i,i.stateNode=e,t=Hc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},Xc(i),e}function Zd(e){return e?(e=zn,e):zn}function Qd(e,t,l,a,n,i){n=Zd(n),a.context===null?a.context=n:a.pendingContext=n,a=Oa(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=_a(e,a,t),l!==null&&(yl(l,e,t),pi(l,e,t))}function kd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function io(e,t){kd(e,t),(e=e.alternate)&&kd(e,t)}function Kd(e){if(e.tag===13||e.tag===31){var t=cn(e,67108864);t!==null&&yl(t,e,67108864),io(e,67108864)}}function Jd(e){if(e.tag===13||e.tag===31){var t=Al();t=je(t);var l=cn(e,t);l!==null&&yl(l,e,t),io(e,t)}}var Fs=!0;function Sh(e,t,l,a){var n=E.T;E.T=null;var i=k.p;try{k.p=2,so(e,t,l,a)}finally{k.p=i,E.T=n}}function jh(e,t,l,a){var n=E.T;E.T=null;var i=k.p;try{k.p=8,so(e,t,l,a)}finally{k.p=i,E.T=n}}function so(e,t,l,a){if(Fs){var n=co(a);if(n===null)ku(e,t,a,$s,l),Fd(e,a);else if(Nh(n,e,t,l,a))a.stopPropagation();else if(Fd(e,a),t&4&&-1<wh.indexOf(e)){for(;n!==null;){var i=ot(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=Gl(i.pendingLanes);if(c!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var m=1<<31-qt(c);o.entanglements[1]|=m,c&=~m}Il(i),(ht&6)===0&&(Os=Tt()+500,Oi(0))}}break;case 31:case 13:o=cn(i,2),o!==null&&yl(o,i,2),Ls(),io(i,2)}if(i=co(a),i===null&&ku(e,t,a,$s,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else ku(e,t,a,null,l)}}function co(e){return e=Na(e),uo(e)}var $s=null;function uo(e){if($s=null,e=et(e),e!==null){var t=A(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=U(t),e!==null)return e;e=null}else if(l===31){if(e=R(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $s=e,null}function Wd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jn()){case ul:return 2;case xa:return 8;case Ft:case en:return 32;case ll:return 268435456;default:return 32}default:return 32}}var oo=!1,Qa=null,ka=null,Ka=null,qi=new Map,Xi=new Map,Ja=[],wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fd(e,t){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":qi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xi.delete(t.pointerId)}}function Gi(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=ot(t),t!==null&&Kd(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Nh(e,t,l,a,n){switch(t){case"focusin":return Qa=Gi(Qa,e,t,l,a,n),!0;case"dragenter":return ka=Gi(ka,e,t,l,a,n),!0;case"mouseover":return Ka=Gi(Ka,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return qi.set(i,Gi(qi.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Xi.set(i,Gi(Xi.get(i)||null,e,t,l,a,n)),!0}return!1}function $d(e){var t=et(e.target);if(t!==null){var l=A(t);if(l!==null){if(t=l.tag,t===13){if(t=U(l),t!==null){e.blockedOn=t,K(e.priority,function(){Jd(l)});return}}else if(t===31){if(t=R(l),t!==null){e.blockedOn=t,K(e.priority,function(){Jd(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=co(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);wa=a,l.target.dispatchEvent(a),wa=null}else return t=ot(l),t!==null&&Kd(t),e.blockedOn=l,!1;t.shift()}return!0}function Id(e,t,l){Is(e)&&l.delete(t)}function Mh(){oo=!1,Qa!==null&&Is(Qa)&&(Qa=null),ka!==null&&Is(ka)&&(ka=null),Ka!==null&&Is(Ka)&&(Ka=null),qi.forEach(Id),Xi.forEach(Id)}function Ps(e,t){e.blockedOn===t&&(e.blockedOn=null,oo||(oo=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Mh)))}var ec=null;function Pd(e){ec!==e&&(ec=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){ec===e&&(ec=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(uo(a||l)===null)continue;break}var i=ot(l);i!==null&&(e.splice(t,3),t-=3,cu(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function ei(e){function t(m){return Ps(m,e)}Qa!==null&&Ps(Qa,e),ka!==null&&Ps(ka,e),Ka!==null&&Ps(Ka,e),qi.forEach(t),Xi.forEach(t);for(var l=0;l<Ja.length;l++){var a=Ja[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Ja.length&&(l=Ja[0],l.blockedOn===null);)$d(l),l.blockedOn===null&&Ja.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],c=n[Q]||null;if(typeof i=="function")c||Pd(l);else if(c){var o=null;if(i&&i.hasAttribute("formAction")){if(n=i,c=i[Q]||null)o=c.formAction;else if(uo(n)!==null)continue}else o=c.action;typeof o=="function"?l[a+1]=o:(l.splice(a,3),a-=3),Pd(l)}}}function e0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return n=c})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function ro(e){this._internalRoot=e}tc.prototype.render=ro.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var l=t.current,a=Al();Qd(l,a,e,t,null,null)},tc.prototype.unmount=ro.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qd(e.current,2,null,e,null,null),Ls(),t[ve]=null}};function tc(e){this._internalRoot=e}tc.prototype.unstable_scheduleHydration=function(e){if(e){var t=fe();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ja.length&&t!==0&&t<Ja[l].priority;l++);Ja.splice(l,0,e),l===0&&$d(e)}};var t0=f.version;if(t0!=="19.2.0")throw Error(r(527,t0,"19.2.0"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=h(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Ch={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{_t=lc.inject(Ch),kt=lc}catch{}}return Zi.createRoot=function(e,t){if(!y(e))throw Error(r(299));var l=!1,a="",n=uf,i=of,c=rf;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Vd(e,1,!1,null,null,l,a,null,n,i,c,e0),e[ve]=t.current,Qu(e),new ro(t)},Zi.hydrateRoot=function(e,t,l){if(!y(e))throw Error(r(299));var a=!1,n="",i=uf,c=of,o=rf,m=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(c=l.onCaughtError),l.onRecoverableError!==void 0&&(o=l.onRecoverableError),l.formState!==void 0&&(m=l.formState)),t=Vd(e,1,!0,t,l??null,a,n,m,i,c,o,e0),t.context=Zd(null),l=t.current,a=Al(),a=je(a),n=Oa(a),n.callback=null,_a(l,n,a),l=a,t.current.lanes=l,ee(t,l),Il(t),e[ve]=t.current,Qu(e),new tc(t)},Zi.version="19.2.0",Zi}var f0;function Uh(){if(f0)return ho.exports;f0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(f){console.error(f)}}return u(),ho.exports=Lh(),ho.exports}var Hh=Uh();const Bh=v0(Hh),ac=({label:u,icon:f,isActive:p,onClick:r})=>s.jsxs("button",{onClick:r,title:u,"aria-label":u,"aria-current":p?"page":void 0,className:`w-full flex flex-col items-center justify-center p-2 rounded-lg transition-colors duration-200 ${p?"bg-cyan-500/20 text-cyan-300":"text-gray-400 hover:bg-gray-700/50 hover:text-gray-200"}`,children:[f,s.jsx("span",{className:"text-xs mt-1",children:u})]}),Yh=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2H5a2 2 0 00-2 2v2m14 0V9"})}),qh=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.121 15.536c-1.171 1.952-3.07 1.952-4.242 0-1.172-1.953-1.172-5.119 0-7.072 1.171-1.952 3.07-1.952 4.242 0M8 12h8M12 8v8"})}),Xh=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Gh=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zm-7.518-.267A8.25 8.25 0 1120.25 10.5M8.288 14.212A5.25 5.25 0 1117.25 10.5"})}),Vh=({activeTool:u,onToolSelect:f})=>s.jsxs("aside",{className:"bg-gray-800/50 border-r border-gray-700 p-2 w-20 flex-shrink-0 flex flex-col items-center gap-4",role:"navigation","aria-label":"Main navigation",children:[s.jsx("div",{className:"my-2","aria-label":"Lunagis logo",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-cyan-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.527-1.912 6.01 6.01 0 012.186 5.332A6.002 6.002 0 0110 16a6.002 6.002 0 01-5.668-7.973z",clipRule:"evenodd"})})}),s.jsx(ac,{label:"Layers",icon:s.jsx(Yh,{}),isActive:u==="layers",onClick:()=>f("layers")}),s.jsx(ac,{label:"Artifacts",icon:s.jsx(Gh,{}),isActive:u==="artifacts",onClick:()=>f("artifacts")}),s.jsx(ac,{label:"Measure",icon:s.jsx(qh,{}),isActive:u==="measurement",onClick:()=>f("measurement")}),s.jsx(ac,{label:"Config",icon:s.jsx(Xh,{}),isActive:u==="config",onClick:()=>f("config")})]}),Zh=["Viridis","Plasma","Inferno","Magma","Cividis","Turbo","Grayscale","Custom"];function x0(u,f,p,r,y){if(u==="Custom"&&r&&r.length>0){const R=[...r].sort((b,g)=>b.value-g.value);if(y){if(R.length===1)return()=>R[0].color;const b=R.map(X=>X.value).slice(1),g=R.map(X=>X.color);return d3.scaleThreshold().domain(b).range(g)}const z=p?[...r].reverse():r;return z.length===1?()=>z[0].color:d3.scaleLinear().domain(z.map(b=>b.value)).range(z.map(b=>b.color)).clamp(!0)}const A=(()=>{switch(u){case"Viridis":return d3.interpolateViridis;case"Plasma":return d3.interpolatePlasma;case"Inferno":return d3.interpolateInferno;case"Magma":return d3.interpolateMagma;case"Cividis":return d3.interpolateCividis;case"Turbo":return d3.interpolateTurbo;case"Grayscale":return d3.interpolateGreys;default:return d3.interpolateViridis}})(),U=p?R=>A(1-R):A;return d3.scaleSequential(f,U)}const nc=20,Fa=200,Qh=({colorMap:u,dataRange:f,units:p,inverted:r,customColormap:y,isThreshold:A})=>{const U=S.useRef(null);S.useEffect(()=>{if(!f||!U.current)return;const b=U.current.getContext("2d");if(!b)return;const g=[f.min,f.max],O=x0(u,g,r,y,A);b.clearRect(0,0,nc,Fa);for(let X=0;X<Fa;X++){const W=1-X/Fa,re=f.min+W*(f.max-f.min);b.fillStyle=O(re),b.fillRect(0,X,nc,1)}},[u,f,r,y,A]);const R=h=>p==="days"?(h/24).toFixed(1):h<100?h.toFixed(1):Math.round(h),z=S.useMemo(()=>{if(!f)return[];const{min:h,max:b}=f,g=b-h,O=new Map;O.set(b,{value:b,y:0}),O.set(h,{value:h,y:Fa}),A&&y&&y.length>1&&y.forEach(W=>{if(W.value>h&&W.value<b){const re=Fa*(1-(W.value-h)/g);O.set(W.value,{value:W.value,y:re})}});const X=Array.from(O.values());return X.sort((W,re)=>W.y-re.y),X},[f,A,y]);return f?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"relative",style:{height:Fa,width:nc},children:s.jsx("canvas",{ref:U,width:nc,height:Fa,className:"rounded-sm border border-gray-600 absolute"})}),s.jsxs("div",{className:"relative h-full",style:{height:Fa,width:60},children:[z.map(({value:h,y:b})=>s.jsxs("div",{className:"absolute w-full right-0",style:{top:`${b}px`,transform:"translateY(-50%)"},children:[s.jsx("span",{className:"block border-t border-gray-500 w-3 -mr-3 absolute right-full top-1/2"}),s.jsx("span",{className:"text-xs font-mono text-gray-300",children:R(h)})]},h)),p&&s.jsx("span",{className:"absolute -bottom-4 right-1/2 translate-x-1/2 text-xs text-gray-400 mt-1",children:p})]})]}):null},bn={">":{precedence:2,associativity:"Left"},">=":{precedence:2,associativity:"Left"},"<":{precedence:2,associativity:"Left"},"<=":{precedence:2,associativity:"Left"},"==":{precedence:2,associativity:"Left"},AND:{precedence:1,associativity:"Left"},OR:{precedence:1,associativity:"Left"},NOT:{precedence:3,associativity:"Right"}};function wo(u){const f=[],p=/\s*(>=|<=|==|>|<|\(|\)|[a-zA-Z_][a-zA-Z0-9_]*|-?\d+(\.\d+)?|\S)\s*/g;let r;for(;(r=p.exec(u))!==null;){const y=r[1],A=y.toUpperCase();if(!isNaN(Number(y)))f.push({type:"LITERAL",value:Number(y)});else if(A in bn)f.push({type:"OPERATOR",value:A});else if(y==="(")f.push({type:"LPAREN",value:y});else if(y===")")f.push({type:"RPAREN",value:y});else if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(y))f.push({type:"VARIABLE",value:y});else throw new Error(`Invalid token: ${y}`)}return f}function b0(u){const f=[],p=[];for(const r of u)if(r.type==="LITERAL"||r.type==="VARIABLE")f.push(r);else if(r.type==="OPERATOR"){const y=r.value;for(;p.length>0&&p[p.length-1].type==="OPERATOR";){const A=p[p.length-1].value;if(bn[y].associativity==="Left"&&bn[y].precedence<=bn[A].precedence||bn[y].associativity==="Right"&&bn[y].precedence<bn[A].precedence)f.push(p.pop());else break}p.push(r)}else if(r.type==="LPAREN")p.push(r);else if(r.type==="RPAREN"){for(;p.length>0&&p[p.length-1].type!=="LPAREN";)f.push(p.pop());if(p.length===0)throw new Error("Mismatched parentheses");p.pop()}for(;p.length>0;){const r=p.pop();if(r.type==="LPAREN")throw new Error("Mismatched parentheses");f.push(r)}return f}function S0(u,f){const p=[];for(const r of u)if(r.type==="LITERAL")p.push(r.value);else if(r.type==="VARIABLE"){const y=f[r.value];if(y===void 0)throw new Error(`Undefined variable: ${r.value}`);p.push(y)}else if(r.type==="OPERATOR"){if(r.value==="NOT"){if(p.length<1)throw new Error("Invalid expression for NOT operator");const U=p.pop();p.push(U?0:1);continue}if(p.length<2)throw new Error(`Invalid expression for operator ${r.value}`);const y=p.pop(),A=p.pop();switch(r.value){case">":p.push(A>y?1:0);break;case">=":p.push(A>=y?1:0);break;case"<":p.push(A<y?1:0);break;case"<=":p.push(A<=y?1:0);break;case"==":p.push(A==y?1:0);break;case"AND":p.push(A&&y?1:0);break;case"OR":p.push(A||y?1:0);break;default:throw new Error(`Unknown operator: ${r.value}`)}}if(p.length!==1)throw new Error("The final expression stack is invalid");return p[0]}function kh(u){if(!u.trim())throw new Error("Empty expression");try{const f=wo(u);return b0(f)}catch(f){throw f instanceof Error?new Error(`Expression compilation failed: ${f.message}`):new Error("An unknown error occurred during expression compilation.")}}function Kh(u,f){return S0(u,f)}function Jh(u,f){if(!u.trim())return 0;try{const p=wo(u),r=b0(p);return S0(r,f)}catch(p){throw p instanceof Error?new Error(`Expression evaluation failed: ${p.message}`):new Error("An unknown error occurred during expression evaluation.")}}function Wh(u){try{const f=wo(u),p=new Set;for(const r of f)r.type==="VARIABLE"&&p.add(r.value);return Array.from(p)}catch{return[]}}const uc=u=>u.replace(/[^a-zA-Z0-9_]/g,"_"),vo=async(u,f,p)=>{const r=Wh(u),y=[];for(const se of r){const P=f.find(me=>uc(me.name)===se);if(!P||!("dataset"in P))throw new Error(`Variable "${se}" does not correspond to a valid data layer.`);y.push(P)}if(y.length===0&&r.length>0)throw new Error(`No layers found for variables in expression: ${r.join(", ")}`);if(y.length===0&&r.length===0){const se=f.find(Me=>"dataset"in Me);if(!se)throw new Error("Cannot evaluate a constant expression without at least one data layer to define dimensions.");const{time:P,height:me,width:Qe}=se.dimensions,G=Jh(u,{});return{dataset:Array.from({length:P},()=>Array.from({length:me},()=>new Array(Qe).fill(G))),range:{min:0,max:1},dimensions:{time:P,height:me,width:Qe}}}const A=y[0],{time:U,height:R,width:z}=A.dimensions;if(!y.every(se=>se.dimensions.time===U&&se.dimensions.height===R&&se.dimensions.width===z))throw new Error("All layers used in an expression must have the same dimensions.");const h=kh(u),b=y.map(se=>uc(se.name)),g=Array.from({length:U},()=>Array.from({length:R},()=>new Array(z).fill(0))),O=()=>new Promise(se=>setTimeout(se,0)),X={},W=5e4;let re=0;const we=U*R*z;let ue=-1;p&&(p("Calculating expression... 0%"),await O());for(let se=0;se<U;se++)for(let P=0;P<R;P++)for(let me=0;me<z;me++){for(let G=0;G<y.length;G++)X[b[G]]=y[G].dataset[se][P][me];const Qe=Kh(h,X);if(g[se][P][me]=Qe,re++,re>=W){if(p){const G=se*R*z+P*z+me+1,ie=Math.floor(G/we*100);ie!==ue&&(p(`Calculating expression... ${ie}%`),ue=ie)}await O(),re=0}}return p&&p("Calculating expression... 100%"),{dataset:g,range:{min:0,max:1},dimensions:{time:U,height:R,width:z}}},xo=(u,f,p)=>{const{height:r,width:y}=p,A=Array.from({length:r},()=>new Array(y).fill(0)),U=f.end-f.start+1;if(U<=0)return{slice:A,range:{min:0,max:100}};for(let R=0;R<r;R++)for(let z=0;z<y;z++){let h=0;for(let g=f.start;g<=f.end;g++){if(g>=u.length)continue;u[g][R][z]===1&&h++}const b=h/U*100;A[R][z]=b}return{slice:A,range:{min:0,max:100}}},d0=async u=>{const{dataset:f,dimensions:p}=u,{time:r,height:y,width:A}=p,U=Array.from({length:r},()=>Array.from({length:y},()=>new Array(A).fill(0))),R=()=>new Promise(b=>setTimeout(b,0));let z=0,h=0;for(let b=0;b<y;b++){for(let g=0;g<A;g++){const O=f.map(ue=>ue[b][g]),X=[];let W=!1,re=-1;for(let ue=0;ue<r;ue++){const se=O[ue]===0;if(se&&!W)W=!0,re=ue;else if(!se&&W){W=!1;const P=ue-re;X.push({start:re,end:ue,duration:P})}}if(W){const ue=r-re;X.push({start:re,end:r,duration:ue})}let we=0;for(let ue=0;ue<r;ue++)if(O[ue]===1){for(;we<X.length&&X[we].start<=ue;)we++;if(we<X.length){const se=X[we];U[ue][b][g]=se.duration,se.duration>z&&(z=se.duration)}else U[ue][b][g]=0}else{const se=X.find(P=>ue>=P.start&&ue<P.end);if(se){const P=-se.duration;U[ue][b][g]=P,P<h&&(h=P)}else U[ue][b][g]=-1}}b%10===0&&await R()}return{dataset:U,range:{min:h,max:z},maxDuration:z}};function m0(u){const f=new DataView(u);if(String.fromCharCode(...new Uint8Array(u,0,6))!=="NUMPY")throw new Error("Not a valid .npy file: invalid magic string.");const r=f.getUint8(6);let y,A;if(r===1)A=f.getUint16(8,!0),y=10;else if(r===2)A=f.getUint32(8,!0),y=12;else throw new Error(`Unsupported .npy version: ${r}. Only v1 and v2 are supported.`);const R=new TextDecoder().decode(u.slice(y,y+A)).replace(/False/g,"false").replace(/True/g,"true").replace(/\(/g,"[").replace(/\)/g,"]").replace(/'/g,'"').replace(/,(\s*\])/g,"$1").replace(/,(\s*})/g,"$1"),z=JSON.parse(R),h=y+A,b=z.descr;let g;if(b.includes("f4")||b.includes("f32"))g=new Float32Array(u,h);else if(b.includes("f8")||b.includes("f64")){console.warn("Downcasting float64 to float32. Precision may be lost.");const O=new Float64Array(u,h);g=new Float32Array(O)}else if(b.includes("b1")||b.includes("?")){console.log("Parsing boolean .npy file. Converting to float32 (0.0, 1.0).");const O=new Uint8Array(u,h);g=new Float32Array(O.length);for(let X=0;X<O.length;X++)g[X]=O[X]}else throw new Error(`Unsupported dtype in .npy file: ${b}. Only float32, float64, and boolean are supported.`);return{header:z,data:g,shape:z.shape}}function h0(u){var f,p;try{const y=new DOMParser().parseFromString(u,"application/xml"),A=y.querySelector("parsererror");if(A)throw new Error("XML parsing error: "+A.textContent);const U=y.querySelector("VRTDataset");if(!U)throw new Error("<VRTDataset> tag not found.");const R=parseInt(U.getAttribute("rasterXSize")||"0",10),z=parseInt(U.getAttribute("rasterYSize")||"0",10),h=(f=y.querySelector("GeoTransform"))==null?void 0:f.textContent;if(!h)throw new Error("<GeoTransform> tag not found.");const b=h.split(",").map(Number);if(b.length!==6||b.some(isNaN))throw new Error("Invalid GeoTransform content.");const g=(p=y.querySelector("SRS"))==null?void 0:p.textContent;if(!g)throw new Error("<SRS> tag not found.");return{geoTransform:b,srs:g,width:R,height:z}}catch(r){return console.error("Failed to parse VRT file:",r),null}}const j0=new Date("2030-01-01T00:00:00Z"),Wt=u=>{const f=new Date(j0.getTime());return f.setUTCHours(f.getUTCHours()+u),f},Fh=u=>{const f=(u.getTime()-j0.getTime())/36e5;return Math.round(f)},y0=u=>Wt(u).toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).replace(",",""),w0=S.createContext(null),$h=()=>{const u=S.useContext(w0);if(!u)throw new Error("useToast must be used within a ToastProvider");return u},Ih=({children:u})=>{const[f,p]=S.useState([]),r=S.useCallback(b=>{const g=`toast-${Date.now()}-${Math.random()}`,O={id:g,duration:5e3,...b};p(X=>[...X,O]),O.duration&&setTimeout(()=>{y(g)},O.duration)},[]),y=S.useCallback(b=>{p(g=>g.filter(O=>O.id!==b))},[]),A=S.useCallback((b,g)=>{r({type:"success",message:b,title:g})},[r]),U=S.useCallback((b,g)=>{r({type:"error",message:b,title:g,duration:8e3})},[r]),R=S.useCallback((b,g)=>{r({type:"warning",message:b,title:g,duration:6e3})},[r]),z=S.useCallback((b,g)=>{r({type:"info",message:b,title:g})},[r]),h={showToast:r,showSuccess:A,showError:U,showWarning:R,showInfo:z,dismissToast:y};return s.jsxs(w0.Provider,{value:h,children:[u,s.jsx(Ph,{toasts:f,onDismiss:y})]})},Ph=({toasts:u,onDismiss:f})=>u.length===0?null:s.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-md pointer-events-none",children:u.map(p=>s.jsx(ey,{toast:p,onDismiss:f},p.id))}),ey=({toast:u,onDismiss:f})=>{const[p,r]=S.useState(!1),y=()=>{r(!0),setTimeout(()=>{f(u.id)},300)},A=()=>{const R="pointer-events-auto rounded-lg shadow-lg p-4 border";switch(u.type){case"success":return`${R} bg-green-900/95 border-green-500/50 text-green-100`;case"error":return`${R} bg-red-900/95 border-red-500/50 text-red-100`;case"warning":return`${R} bg-yellow-900/95 border-yellow-500/50 text-yellow-100`;case"info":return`${R} bg-blue-900/95 border-blue-500/50 text-blue-100`;default:return`${R} bg-gray-800/95 border-gray-500/50 text-gray-100`}},U=()=>{switch(u.type){case"success":return s.jsx("svg",{className:"w-6 h-6 text-green-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"error":return s.jsx("svg",{className:"w-6 h-6 text-red-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"warning":return s.jsx("svg",{className:"w-6 h-6 text-yellow-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case"info":return s.jsx("svg",{className:"w-6 h-6 text-blue-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return s.jsx("div",{className:`${A()} transition-all duration-300 ${p?"opacity-0 translate-x-full":"opacity-100 translate-x-0"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[U(),s.jsxs("div",{className:"flex-1 min-w-0",children:[u.title&&s.jsx("h4",{className:"font-semibold text-sm mb-1",children:u.title}),s.jsx("p",{className:"text-sm",children:u.message}),u.action&&s.jsx("button",{onClick:()=>{u.action.onClick(),y()},className:"mt-2 text-xs font-medium underline hover:no-underline",children:u.action.label})]}),s.jsx("button",{onClick:y,className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors","aria-label":"Dismiss",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})},ic=[-85.505,-85.26],sc=[28.97,32.53],cc=u=>new Promise((f,p)=>{const r=new Image;r.onload=()=>f(r),r.onerror=p,r.src=u}),N0=S.createContext(null),pl=()=>{const u=S.useContext(N0);if(!u)throw new Error("useAppContext must be used within an AppProvider");return u},ty=({children:u})=>{const{showError:f,showWarning:p,showSuccess:r}=$h(),[y,A]=S.useState([]),[U,R]=S.useState(null),[z,h]=S.useState(null),[b,g]=S.useState(null),[O,X]=S.useState(null),[W,re]=S.useState(!0),[we,ue]=S.useState(null),[se,P]=S.useState(1),[me,Qe]=S.useState("layers"),[G,ie]=S.useState(null),[Me,Ye]=S.useState(null),[$,Te]=S.useState(null),[qe,Ie]=S.useState(null),[ut,Ae]=S.useState(null),E=S.useRef(null),k=S.useRef(null),[he,Pe]=S.useState(!1),[Fe,v]=S.useState(200),[L,ce]=S.useState("#ffffff80"),[ye,Le]=S.useState([]),[Be,Xe]=S.useState("#ffff00"),[vt,yt]=S.useState(!1),[zl,Dl]=S.useState(!1),[Rl,Ia]=S.useState(10),Qt=S.useRef(null),vl=S.useRef(0),Ol=S.useRef(null),[Pa,tl]=S.useState(null),[cl,xl]=S.useState([]),[ea,bl]=S.useState(null),[Sn,Tt]=S.useState(null),[jn,ul]=S.useState(!1),[xa,Ft]=S.useState(null),[en,ll]=S.useState({waypointDotSize:8,showSegmentLengths:!0,labelFontSize:14}),[ta,Sl]=S.useState({defaultMaxSegmentLength:200}),[_t,kt]=S.useState({min:-15,max:15}),[ol,qt]=S.useState(!1),ba=S.useMemo(()=>y.find(w=>w.type==="basemap"),[y]),Lt=S.useMemo(()=>y.find(w=>w.type==="data"),[y]),wn=S.useMemo(()=>y.find(w=>w.id===U),[y,U]),Nt=S.useMemo(()=>ba?proj4(ba.vrt.srs):null,[ba]),Sa=()=>{X(null),ie(null)},nl=S.useMemo(()=>Lt?[Wt(0),Wt(Lt.dimensions.time-1)]:null,[Lt]),Gl=S.useMemo(()=>{if(!Lt)return null;const{width:w,height:Y}=Lt.dimensions,[q,le]=sc,[xe,ae]=ic;if(Nt){const ne=Nt.forward([q,ae]),ze=Nt.forward([le,ae]),Re=Nt.forward([q,xe]),be=(ze[0]-ne[0])/w,te=(ze[1]-ne[1])/w,Se=(Re[0]-ne[0])/Y,ge=(Re[1]-ne[1])/Y,Ze=ne[0],Oe=ne[1],pe=be*ge-te*Se;return Math.abs(pe)<1e-9?null:(at,Ge)=>{try{const[mt,Et]=Nt.forward([Ge,at]),Xt=(ge*(mt-Ze)-Se*(Et-Oe))/pe,Gt=(be*(Et-Oe)-te*(mt-Ze))/pe,il=Math.round(Xt),Vt=Math.round(Gt);return il>=0&&il<w&&Vt>=0&&Vt<Y?{x:il,y:Vt}:null}catch{return null}}}return null},[Nt,Lt]),ja=S.useMemo(()=>{if(!Lt||!Nt)return null;const{width:w,height:Y}=Lt.dimensions,[q,le]=sc,[xe,ae]=ic,ne=Nt.forward([q,ae]),ze=Nt.forward([le,ae]),Re=Nt.forward([q,xe]),be=(ze[0]-ne[0])/w,te=(ze[1]-ne[1])/w,Se=(Re[0]-ne[0])/Y,ge=(Re[1]-ne[1])/Y,Ze=ne[0],Oe=ne[1],pe=be*ge-te*Se;return Math.abs(pe)<1e-9?null:at=>{try{const[Ge,mt]=at,Et=(ge*(Ge-Ze)-Se*(mt-Oe))/pe,Xt=(be*(mt-Oe)-te*(Ge-Ze))/pe,Gt=Math.round(Et),il=Math.round(Xt),Vt=Math.max(0,Math.min(w,Gt)),Kt=Math.max(0,Math.min(Y,il)),jl=be*Vt+Se*Kt+Ze,la=te*Vt+ge*Kt+Oe;return[jl,la]}catch{return null}}},[Nt,Lt]),Kl=S.useMemo(()=>{if(!Lt||!Nt)return null;const{width:w,height:Y}=Lt.dimensions,[q,le]=sc,[xe,ae]=ic,ne=Nt.forward([q,ae]),ze=Nt.forward([le,ae]),Re=Nt.forward([q,xe]),be=(ze[0]-ne[0])/w,te=(ze[1]-ne[1])/w,Se=(Re[0]-ne[0])/Y,ge=(Re[1]-ne[1])/Y,Ze=ne[0],Oe=ne[1],pe=be*ge-te*Se;return Math.abs(pe)<1e-9?null:(at,Ge)=>{try{const mt=(ge*(at[0]-Ze)-Se*(at[1]-Oe))/pe,Et=(be*(at[1]-Oe)-te*(at[0]-Ze))/pe,Xt=(ge*(Ge[0]-Ze)-Se*(Ge[1]-Oe))/pe,Gt=(be*(Ge[1]-Oe)-te*(Ge[0]-Ze))/pe,il=Math.abs(Xt-mt),Vt=Math.abs(Gt-Et),Kt=Math.min(mt,Xt),jl=Math.min(Et,Gt),la=Math.max(mt,Xt),tn=Math.max(Et,Gt),Mn=[be*Kt+Se*jl+Ze,te*Kt+ge*jl+Oe],ki=[be*la+Se*jl+Ze,te*la+ge*jl+Oe],Ki=[be*la+Se*tn+Ze,te*la+ge*tn+Oe],ln=[be*Kt+Se*tn+Ze,te*Kt+ge*tn+Oe],Vl=[(Mn[0]+ki[0]+Ki[0]+ln[0])/4,(Mn[1]+ki[1]+Ki[1]+ln[1])/4],wa=[be*il,te*il],Na=[Se*Vt,ge*Vt],Ma=Math.sqrt(wa[0]*wa[0]+wa[1]*wa[1]),Ca=Math.sqrt(Na[0]*Na[0]+Na[1]*Na[1]),Ji=Math.atan2(te,be)*180/Math.PI;return{center:Vl,width:Ma,height:Ca,rotation:Ji}}catch{return null}}},[Nt,Lt]);S.useEffect(()=>{if(G){const w=y.find(Y=>Y.id===G.layerId);if((w==null?void 0:w.type)==="data"||(w==null?void 0:w.type)==="analysis"||(w==null?void 0:w.type)==="dte_comms"||(w==null?void 0:w.type)==="lpf_comms")if(G.y<w.dimensions.height&&G.x<w.dimensions.width){const Y=w.dataset.map(q=>{var le;return((le=q==null?void 0:q[G.y])==null?void 0:le[G.x])??0});Ye({data:Y,range:w.range})}else Ye(null);else Ye(null)}else Ye(null)},[G,y]),S.useEffect(()=>{if(U&&G&&b){const w=y.find(Y=>Y.id===U);if((w==null?void 0:w.type)==="analysis"&&w.analysisType==="daylight_fraction"){const Y=y.find(q=>q.id===w.sourceLayerId);if(Y){const{x:q,y:le}=G;if(le>=Y.dimensions.height||q>=Y.dimensions.width){Ie(null);return}const{start:xe,end:ae}=b,ne=ae-xe+1;let ze=0,Re=0,be=1/0,te=0,Se=0,ge=1/0,Ze=0,Oe=null,pe=0;for(let mt=xe;mt<=ae;mt++){if(mt>=Y.dataset.length||!Y.dataset[mt])continue;const Et=Y.dataset[mt][le][q];Et===1&&ze++;const Xt=Et===1?"day":"night";Oe!==Xt?(Oe==="day"?(te++,pe>Re&&(Re=pe),pe<be&&(be=pe)):Oe==="night"&&(Ze++,pe>Se&&(Se=pe),pe<ge&&(ge=pe)),Oe=Xt,pe=1):pe++}Oe==="day"?(te++,pe>Re&&(Re=pe),pe<be&&(be=pe)):Oe==="night"&&(Ze++,pe>Se&&(Se=pe),pe<ge&&(ge=pe));const at=ne-ze,Ge=ne>0?ze/ne*100:0;Ie({fraction:Ge,dayHours:ze,nightHours:at,longestDayPeriod:Re,shortestDayPeriod:be===1/0?0:be,dayPeriods:te,longestNightPeriod:Se,shortestNightPeriod:ge===1/0?0:ge,nightPeriods:Ze});return}}}Ie(null)},[G,U,y,b]);const Jl=S.useCallback(async(w,Y)=>{if(!w)return;h(`Parsing "${w.name}"...`);const q=()=>new Promise(le=>setTimeout(le,0));try{const le=await w.arrayBuffer(),{data:xe,shape:ae,header:ne}=m0(le);if(ae.length!==3)throw new Error(`Expected a 3D array, but got ${ae.length} dimensions.`);const[ze,Re,be]=ae;let te=1/0,Se=-1/0;for(const pe of xe)pe<te&&(te=pe),pe>Se&&(Se=pe);const ge=Array.from({length:be},()=>Array.from({length:ze},()=>new Array(Re)));let Ze=0;if(ne.fortran_order)for(let pe=0;pe<be;pe++){for(let at=0;at<Re;at++)for(let Ge=0;Ge<ze;Ge++)ge[pe][Ge][at]=xe[Ze++];pe%100===0&&await q()}else for(let pe=0;pe<ze;pe++){for(let at=0;at<Re;at++)for(let Ge=0;Ge<be;Ge++)ge[Ge][pe][at]=xe[Ze++];pe%10===0&&await q()}const Oe={id:`${Y}-${Date.now()}`,name:w.name,type:Y,visible:!0,opacity:1,fileName:w.name,dataset:ge,range:{min:te,max:Se},colormap:"Viridis",colormapInverted:!1,customColormap:[{value:te,color:"#000000"},{value:Se,color:"#ffffff"}],dimensions:{time:be,height:ze,width:Re}};if(A(pe=>[...pe,Oe]),R(Oe.id),Y==="data"&&!Lt){const pe={start:0,end:be-1};g(pe),Te([Wt(0),Wt(be-1)]),ue(null)}}catch(le){f(`Error loading file: ${le instanceof Error?le.message:String(le)}`)}finally{h(null)}},[Lt]),Nn=S.useCallback(w=>Jl(w,"data"),[Jl]),Z=S.useCallback(w=>Jl(w,"dte_comms"),[Jl]),ee=S.useCallback(w=>Jl(w,"lpf_comms"),[Jl]),T=S.useCallback(async(w,Y)=>{h(`Loading basemap "${w.name}"...`);try{const q=await Y.text(),le=h0(q);if(!le)throw new Error("Failed to parse VRT file.");const xe=URL.createObjectURL(w),ae=await cc(xe);URL.revokeObjectURL(xe);const ne={id:`basemap-${Date.now()}`,name:w.name,type:"basemap",visible:!0,opacity:1,image:ae,vrt:le,pngFileName:w.name,vrtFileName:Y.name};A(ze=>[ne,...ze]),R(ne.id),ue(null)}catch(q){f(`Error processing base map: ${q instanceof Error?q.message:String(q)}`)}finally{h(null)}},[]),F=S.useCallback(async(w,Y)=>{h(`Loading image "${w.name}"...`);try{const q=URL.createObjectURL(w),le=await cc(q);URL.revokeObjectURL(q);const xe=Y||(we?we.center:[0,0]),ae={id:`image-${Date.now()}`,name:w.name,type:"image",visible:!0,opacity:.7,image:le,fileName:w.name,position:xe,scaleX:1,scaleY:1,rotation:0,originalWidth:le.width,originalHeight:le.height};A(ne=>[...ne,ae]),R(ae.id),r(`Image layer "${w.name}" added successfully`)}catch(q){f(`Error loading image: ${q instanceof Error?q.message:String(q)}`)}finally{h(null)}},[we,r,f]),d=S.useCallback((w,Y)=>{A(q=>q.map(le=>le.id===w?{...le,...Y}:le))},[]),oe=S.useCallback(w=>{A(Y=>Y.filter(q=>q.id!==w)),U===w&&R(null)},[U]),je=S.useCallback(w=>{A(Y=>{const q=Y.findIndex(xe=>xe.id===w);if(q===-1||q>=Y.length-1)return Y;const le=[...Y];return[le[q],le[q+1]]=[le[q+1],le[q]],le})},[]),I=S.useCallback(w=>{A(Y=>{const q=Y.findIndex(xe=>xe.id===w);if(q<=0)return Y;const le=[...Y];return[le[q-1],le[q]]=[le[q],le[q-1]],le})},[]),fe=S.useCallback(async w=>{const Y=y.find(te=>te.id===w);if(!Y)return;h(`Forecasting nightfall for "${Y.name}"...`),await new Promise(te=>setTimeout(te,50));const{dataset:q,range:le,maxDuration:xe}=await d0(Y),ae="rgba(0,0,0,0)",ne=336,ze=[{value:-1/0,color:ae},{value:-ne,color:"cyan"},{value:0,color:"yellow"},{value:ne+.001,color:ae}],Re=Math.min(1e3,Math.ceil(xe/24)*24||24),be={id:`analysis-${Date.now()}`,name:`Nightfall Forecast for ${Y.name}`,type:"analysis",analysisType:"nightfall",visible:!0,opacity:1,colormap:"Custom",colormapInverted:!1,dataset:q,range:le,dimensions:Y.dimensions,sourceLayerId:w,customColormap:ze,params:{clipValue:Re}};A(te=>[...te,be]),R(be.id),h(null)},[y]),K=S.useCallback(w=>{const Y=y.find(ne=>ne.id===w);if(!Y||!b)return;const{slice:q,range:le}=xo(Y.dataset,b,Y.dimensions),xe=Array.from({length:Y.dimensions.time},()=>q),ae={id:`analysis-${Date.now()}`,name:`Daylight Fraction for ${Y.name}`,type:"analysis",analysisType:"daylight_fraction",visible:!0,opacity:1,colormap:"Turbo",dataset:xe,range:le,dimensions:Y.dimensions,sourceLayerId:w,params:{}};A(ne=>[...ne,ae]),R(ae.id)},[y,b]),de=S.useCallback(async(w,Y)=>{h(`Calculating expression "${w}"...`),await new Promise(q=>setTimeout(q,50));try{const{dataset:q,range:le,dimensions:xe}=await vo(Y,y,ne=>h(ne)),ae={id:`analysis-expr-${Date.now()}`,name:w,type:"analysis",analysisType:"expression",visible:!0,opacity:1,colormap:"Custom",dataset:q,range:le,dimensions:xe,sourceLayerId:void 0,customColormap:[{value:-1/0,color:"rgba(0,0,0,0)"},{value:1,color:"#ffff00"}],params:{expression:Y}};A(ne=>[...ne,ae]),R(ae.id),qt(!1)}catch(q){f(`Expression Error: ${q instanceof Error?q.message:String(q)}`)}finally{h(null)}},[y]),J=S.useCallback(async(w,Y)=>{const q=y.find(le=>le.id===w);if(!q||q.type!=="analysis"||q.analysisType!=="expression"){f("Invalid layer for expression recalculation");return}h(`Recalculating expression "${q.name}"...`),await new Promise(le=>setTimeout(le,50));try{const{dataset:le,range:xe,dimensions:ae}=await vo(Y,y,ne=>h(ne));A(ne=>ne.map(ze=>ze.id===w?{...ze,dataset:le,range:xe,dimensions:ae,params:{...ze.params,expression:Y}}:ze))}catch(le){f(`Expression Error: ${le instanceof Error?le.message:String(le)}`)}finally{h(null)}},[y]);S.useEffect(()=>{b&&A(w=>{if(w.filter(xe=>xe.type==="analysis"&&xe.analysisType==="daylight_fraction").length===0)return w;let q=!1;const le=w.map(xe=>{if(xe.type==="analysis"&&xe.analysisType==="daylight_fraction"){const ae=w.find(ne=>ne.id===xe.sourceLayerId);if(ae){const{slice:ne,range:ze}=xo(ae.dataset,b,ae.dimensions),Re=Array.from({length:ae.dimensions.time},()=>ne);return q=!0,{...xe,dataset:Re,range:ze}}}return xe});return q?le:w})},[b]),S.useEffect(()=>{if(!vt){Qt.current&&(cancelAnimationFrame(Qt.current),Qt.current=null);return}const w=Y=>{vl.current===0&&(vl.current=Y);const q=Y-vl.current,le=1e3/Rl;q>=le&&(vl.current=Y,g(xe=>{if(!xe||!Ol.current)return xe;let ae=xe.start+1;return ae>Ol.current.end&&(ae=Ol.current.start),{start:ae,end:ae}})),Qt.current=requestAnimationFrame(w)};return Qt.current=requestAnimationFrame(w),()=>{Qt.current&&(cancelAnimationFrame(Qt.current),Qt.current=null,vl.current=0)}},[vt,Rl]);const Q=S.useCallback(()=>{if(!vt){if(!zl){if(!b||b.start>=b.end)return;Ol.current={...b},g({start:b.start,end:b.start})}Dl(!1),yt(!0)}else Dl(!0),yt(!1)},[vt,zl,b]),ve=w=>{vt&&yt(!1),Dl(!1),Ol.current=null,g(w)},De=S.useCallback((w,Y)=>{xl(q=>q.map(le=>le.id===w?{...le,...Y}:le))},[]),He=S.useCallback(()=>{Tt(null),ul(!1),bl(null)},[]),V=S.useCallback(()=>{ul(!0)},[]);S.useEffect(()=>{const w=Y=>{Y.key==="Escape"&&He()};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[He]);const Ee=S.useCallback(w=>{xl(Y=>Y.filter(q=>q.id!==w)),ea===w&&bl(null)},[ea]),$e=S.useCallback(()=>{Le([])},[]),st=S.useCallback(()=>{if(!b||!nl)return;let w;if(b.start===b.end){const Y=Wt(b.start),q=720*60*1e3;w=[new Date(Math.max(nl[0].getTime(),Y.getTime()-q)),new Date(Math.min(nl[1].getTime(),Y.getTime()+q))]}else w=[Wt(b.start),Wt(b.end)];Te(w)},[b,nl]),et=S.useCallback(()=>{nl&&Te(nl)},[nl]),ot=S.useCallback(w=>{const Y=ut;if(E.current&&(clearInterval(E.current),E.current=null),Y&&k.current!==null&&d(Y,{visible:k.current}),Y===w)Ae(null),k.current=null;else{const q=y.find(le=>le.id===w);q&&(k.current=q.visible,Ae(w))}},[y,ut,d]);S.useEffect(()=>(ut&&(E.current=window.setInterval(()=>{A(w=>w.map(Y=>Y.id===ut?{...Y,visible:!Y.visible}:Y))},400)),()=>{E.current&&(clearInterval(E.current),E.current=null)}),[ut]);const Je=S.useCallback(async()=>{if(y.length===0){p("Cannot export an empty session.");return}h("Exporting session...");try{const Y={version:1,layers:y.map(ne=>{if(ne.type==="basemap"){const{image:ze,...Re}=ne;return Re}else if(ne.type==="image"){const ze=document.createElement("canvas");ze.width=ne.image.width,ze.height=ne.image.height,ze.getContext("2d").drawImage(ne.image,0,0);const be=ze.toDataURL("image/png"),{image:te,...Se}=ne;return{...Se,imageDataUrl:be}}else{const{dataset:ze,...Re}=ne;return Re}}),activeLayerId:U,timeRange:b,timeZoomDomain:$?[$[0].toISOString(),$[1].toISOString()]:null,viewState:we,showGraticule:W,graticuleDensity:se,showGrid:he,gridSpacing:Fe,gridColor:L,selectedCells:ye,selectionColor:Be,activeTool:me,artifacts:cl.map(ne=>({...ne})),artifactDisplayOptions:en,pathCreationOptions:ta,nightfallPlotYAxisRange:_t},q=JSON.stringify(Y,null,2),le=new Blob([q],{type:"application/json"}),xe=URL.createObjectURL(le),ae=document.createElement("a");ae.href=xe,ae.download=`session_${new Date().toISOString()}.json`,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(xe)}catch(w){f(`Error exporting session: ${w instanceof Error?w.message:String(w)}`)}finally{h(null)}},[y,U,b,$,we,W,se,he,Fe,L,ye,Be,me,cl,en,ta,_t]),jt=S.useCallback(w=>{h("Reading config file...");const Y=new FileReader;Y.onload=q=>{var le;try{const xe=JSON.parse((le=q.target)==null?void 0:le.result);if(xe.version!==1)throw new Error("Unsupported config version.");const ae=[];for(const ne of xe.layers)ne.type==="data"||ne.type==="dte_comms"||ne.type==="lpf_comms"?ae.push(ne.fileName):ne.type==="basemap"&&(ae.push(ne.pngFileName),ae.push(ne.vrtFileName));ae.length>0?tl({config:xe,requiredFiles:ae}):ke(xe,[])}catch(xe){f(`Error reading config file: ${xe instanceof Error?xe.message:String(xe)}`)}finally{h(null)}},Y.onerror=()=>{f("Failed to read the file."),h(null)},Y.readAsText(w)},[]),ke=S.useCallback(async(w,Y)=>{tl(null),h("Restoring session...");try{const q=new Map;Array.from(Y).forEach(ae=>q.set(ae.name,ae)),A([]),g(null),Te(null),ue(null),Le([]),xl([]);let le=[];for(const ae of w.layers)if(ae.type==="basemap"){const ne=q.get(ae.pngFileName),ze=q.get(ae.vrtFileName);if(!ne)throw new Error(`Required file "${ae.pngFileName}" was not provided.`);if(!ze)throw new Error(`Required file "${ae.vrtFileName}" was not provided.`);const Re=await ze.text(),be=h0(Re);if(!be)throw new Error(`Failed to parse VRT file: ${ze.name}`);const te=URL.createObjectURL(ne),Se=await cc(te);URL.revokeObjectURL(te);const ge={...ae,image:Se,vrt:be};le.push(ge)}else if(ae.type==="data"||ae.type==="dte_comms"||ae.type==="lpf_comms"){const ne=q.get(ae.fileName);if(!ne)throw new Error(`Required file "${ae.fileName}" was not provided.`);const ze=await ne.arrayBuffer(),{data:Re,shape:be,header:te}=m0(ze),[Se,ge,Ze]=be,Oe=Array.from({length:Ze},()=>Array.from({length:Se},()=>new Array(ge)));let pe=0;if(te.fortran_order)for(let Ge=0;Ge<Ze;Ge++)for(let mt=0;mt<ge;mt++)for(let Et=0;Et<Se;Et++)Oe[Ge][Et][mt]=Re[pe++];else for(let Ge=0;Ge<Se;Ge++)for(let mt=0;mt<ge;mt++)for(let Et=0;Et<Ze;Et++)Oe[Et][Ge][mt]=Re[pe++];const at={...ae,dataset:Oe};le.push(at)}else if(ae.type==="image"){const ne=await cc(ae.imageDataUrl),{imageDataUrl:ze,...Re}=ae,be={...Re,image:ne};le.push(be)}let xe=[...le];for(const ae of w.layers)if(ae.type==="analysis"){let ne,ze;if(ae.analysisType==="expression"&&ae.params.expression){const{dataset:Re}=await vo(ae.params.expression,xe,be=>h(be));ne=Re,ze={...ae,dataset:ne}}else{const Re=xe.find(be=>be.id===ae.sourceLayerId);if(!Re)throw new Error(`Source layer with ID ${ae.sourceLayerId} not found for analysis layer "${ae.name}".`);if(ae.analysisType==="nightfall"){const{dataset:be}=await d0(Re);ne=be}else{const be=w.timeRange||{start:0,end:Re.dimensions.time-1},{slice:te}=xo(Re.dataset,be,Re.dimensions);ne=Array.from({length:Re.dimensions.time},()=>te)}ze={...ae,dataset:ne}}xe.push(ze)}A(xe),R(w.activeLayerId),g(w.timeRange),ue(w.viewState),re(w.showGraticule),P(w.graticuleDensity),Pe(w.showGrid),v(w.gridSpacing),ce(w.gridColor),Le(w.selectedCells),Xe(w.selectionColor),Qe(w.activeTool),xl(w.artifacts||[]),w.timeZoomDomain&&Te([new Date(w.timeZoomDomain[0]),new Date(w.timeZoomDomain[1])]),ll(w.artifactDisplayOptions||{waypointDotSize:8,showSegmentLengths:!0,labelFontSize:14}),Sl(w.pathCreationOptions||{defaultMaxSegmentLength:200}),kt(w.nightfallPlotYAxisRange||{min:-15,max:15})}catch(q){f(`Error restoring session: ${q instanceof Error?q.message:String(q)}`)}finally{h(null)}},[]),rt={layers:y,activeLayerId:U,isLoading:z,timeRange:b,hoveredCoords:O,showGraticule:W,viewState:we,graticuleDensity:se,activeTool:me,selectedPixel:G,timeSeriesData:Me,timeZoomDomain:$,daylightFractionHoverData:qe,flickeringLayerId:ut,showGrid:he,gridSpacing:Fe,gridColor:L,selectedCells:ye,selectionColor:Be,isPlaying:vt,isPaused:zl,playbackSpeed:Rl,importRequest:Pa,artifacts:cl,activeArtifactId:ea,artifactCreationMode:Sn,isAppendingWaypoints:jn,draggedInfo:xa,artifactDisplayOptions:en,nightfallPlotYAxisRange:_t,isCreatingExpression:ol,baseMapLayer:ba,primaryDataLayer:Lt,activeLayer:wn,proj:Nt,fullTimeDomain:nl,coordinateTransformer:Gl,snapToCellCorner:ja,calculateRectangleFromCellCorners:Kl,setLayers:A,setActiveLayerId:R,setIsLoading:h,setTimeRange:g,setHoveredCoords:X,setShowGraticule:re,setViewState:ue,setGraticuleDensity:P,onToolSelect:Qe,setSelectedPixel:ie,setTimeZoomDomain:Te,onToggleFlicker:ot,setShowGrid:Pe,setGridSpacing:v,setGridColor:ce,setSelectedCells:Le,setSelectionColor:Xe,setIsPlaying:yt,setIsPaused:Dl,onPlaybackSpeedChange:Ia,setImportRequest:tl,setArtifacts:xl,setActiveArtifactId:bl,setArtifactCreationMode:Tt,setIsAppendingWaypoints:ul,setDraggedInfo:Ft,setArtifactDisplayOptions:ll,pathCreationOptions:ta,setPathCreationOptions:Sl,onNightfallPlotYAxisRangeChange:kt,setIsCreatingExpression:qt,clearHoverState:Sa,onAddDataLayer:Nn,onAddDteCommsLayer:Z,onAddLpfCommsLayer:ee,onAddBaseMapLayer:T,onAddImageLayer:F,onUpdateLayer:d,onRemoveLayer:oe,onMoveLayerUp:je,onMoveLayerDown:I,onCalculateNightfallLayer:fe,onCalculateDaylightFractionLayer:K,onCreateExpressionLayer:de,onRecalculateExpressionLayer:J,handleManualTimeRangeChange:ve,onTogglePlay:Q,onUpdateArtifact:De,onRemoveArtifact:Ee,onFinishArtifactCreation:He,onStartAppendWaypoints:V,onClearSelection:$e,onZoomToSelection:st,onResetZoom:et,onExportConfig:Je,onImportConfig:jt,handleRestoreSession:ke,latRange:ic,lonRange:sc};return s.jsx(N0.Provider,{value:rt,children:u})},ti=u=>{if(u===0)return"0 hrs";const f=(u/24).toFixed(1);return`${u} hrs (${f} days)`},gl=({title:u,children:f,defaultOpen:p=!1})=>{const[r,y]=S.useState(p);return s.jsxs("div",{children:[s.jsxs("h3",{className:"text-base font-medium text-gray-300 mb-2 bg-gray-900/50 p-2 rounded-md cursor-pointer flex justify-between items-center",onClick:()=>y(!r),children:[s.jsx("span",{children:u}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${r?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&s.jsx("div",{className:"p-3 rounded-md space-y-4 animate-fade-in bg-gray-800/30",children:f})]})},ly=()=>{const{onAddDataLayer:u,onAddDteCommsLayer:f,onAddLpfCommsLayer:p,onAddBaseMapLayer:r,onAddImageLayer:y,isLoading:A}=pl(),[U,R]=S.useState(!1),z=S.useRef(null),h=S.useRef(null),b=S.useRef(null),g=S.useRef(null),O=S.useRef(null),X=S.useRef(null),[W,re]=S.useState(null),[we,ue]=S.useState(null),se=S.useRef(null),P=(G,ie)=>{var Me;(Me=G.target.files)!=null&&Me[0]&&ie(G.target.files[0]),R(!1)},me=async G=>{var ie;(ie=G.target.files)!=null&&ie[0]&&await y(G.target.files[0]),R(!1)},Qe=()=>{W&&we&&(r(W,we),re(null),ue(null),R(!1))};return S.useEffect(()=>{const G=ie=>{se.current&&!se.current.contains(ie.target)&&R(!1)};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]),s.jsxs("div",{className:"relative",ref:se,children:[s.jsxs("button",{onClick:()=>R(!U),disabled:!!A,className:"w-full bg-cyan-600 hover:bg-cyan-500 disabled:bg-gray-600 text-white font-semibold py-2 px-4 rounded-md text-sm transition-all flex items-center justify-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Layer"]}),U&&s.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full bg-gray-800 border border-gray-700 rounded-md shadow-lg z-10 p-3 space-y-2",children:[s.jsx("input",{type:"file",ref:z,onChange:G=>P(G,u),accept:".npy",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var G;return(G=z.current)==null?void 0:G.click()},className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md",children:"Data Layer (.npy)"}),s.jsx("input",{type:"file",ref:h,onChange:G=>P(G,f),accept:".npy",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var G;return(G=h.current)==null?void 0:G.click()},className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md",children:"DTE Comms Layer (.npy)"}),s.jsx("input",{type:"file",ref:b,onChange:G=>P(G,p),accept:".npy",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var G;return(G=b.current)==null?void 0:G.click()},className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md",children:"LPF Comms Layer (.npy)"}),s.jsx("input",{type:"file",ref:X,onChange:me,accept:".png,.jpg,.jpeg",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var G;return(G=X.current)==null?void 0:G.click()},className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md",children:"Image Layer (.png, .jpg)"}),s.jsxs("div",{className:"border-t border-gray-700 pt-2 space-y-2",children:[s.jsx("p",{className:"text-sm text-gray-400 px-3",children:"Base Map Layer"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"file",ref:g,onChange:G=>{var ie;return re(((ie=G.target.files)==null?void 0:ie[0])??null)},accept:".png",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var G;return(G=g.current)==null?void 0:G.click()},className:"w-full text-center px-3 py-2 text-xs bg-teal-700 hover:bg-teal-600 rounded-md truncate",title:W==null?void 0:W.name,children:W?W.name:"Select .png"}),s.jsx("input",{type:"file",ref:O,onChange:G=>{var ie;return ue(((ie=G.target.files)==null?void 0:ie[0])??null)},accept:".vrt",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var G;return(G=O.current)==null?void 0:G.click()},className:"w-full text-center px-3 py-2 text-xs bg-purple-700 hover:bg-purple-600 rounded-md truncate",title:we==null?void 0:we.name,children:we?we.name:"Select .vrt"})]}),s.jsx("button",{onClick:Qe,disabled:!W||!we,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-600 text-white font-semibold py-1 px-3 rounded-md text-sm transition-all",children:"Add Base Map"})]})]})]})},g0=u=>{const f=d3.color(u);if(!f)return{hex:"#000000",alpha:1};const{r:p,g:r,b:y,opacity:A}=f.rgb(),U=z=>("0"+Math.round(z).toString(16)).slice(-2);return{hex:`#${U(p)}${U(r)}${U(y)}`,alpha:A}},p0=(u,f)=>{const p=d3.color(u);if(!p)return`rgba(0, 0, 0, ${f})`;const{r,g:y,b:A}=p.rgb();return`rgba(${r}, ${y}, ${A}, ${f})`},ay=({stops:u,onStopsChange:f,units:p,layerRange:r})=>{const[y,A]=S.useState("0"),[U,R]=S.useState("#ffffff"),[z,h]=S.useState(1),b=()=>{const X=parseFloat(y);if(isNaN(X))return;const W=[...u,{value:X,color:p0(U,z)}];W.sort((re,we)=>re.value-we.value),f(W)},g=(X,W)=>{const re=[...u],we=re[X];if("value"in W){const ue=typeof W.value=="string"?parseFloat(W.value):W.value;if(isNaN(ue))return;re[X]={...we,value:ue},re.sort((se,P)=>se.value-P.value)}else{const{hex:ue,alpha:se}=g0(we.color),P="color"in W?W.color:ue,me="alpha"in W?W.alpha:se;re[X]={...we,color:p0(P,me)}}f(re)},O=X=>{f(u.filter((W,re)=>re!==X))};return s.jsxs("div",{className:"space-y-3 p-3 bg-gray-900/30 rounded-md",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Colormap Stops"}),s.jsx("div",{className:"space-y-2",children:u.map((X,W)=>{const{hex:re,alpha:we}=g0(X.color),ue=W===0,se=ue?p==="days"?(r.min/24).toFixed(1):r.min.toFixed(0):p==="days"?X.value.toFixed(1):X.value.toFixed(0);return s.jsxs("div",{className:"grid grid-cols-[20px_1fr_auto_auto_auto] items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-right pr-1 font-mono text-gray-400",children:!ue&&">="}),s.jsx("input",{type:"text",defaultValue:se,readOnly:ue,onBlur:ue?void 0:P=>{let me=parseFloat(P.target.value);isNaN(me)||g(W,{value:me})},className:"w-full bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600 disabled:bg-gray-800 disabled:text-gray-500",disabled:ue,title:`Value${p==="days"?" (days)":""}`},se+X.color),s.jsx("input",{type:"color",value:re,onChange:P=>g(W,{color:P.target.value}),className:"w-8 h-8 p-0 border-none rounded-md bg-transparent"}),s.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",defaultValue:we.toFixed(2),onBlur:P=>{let me=parseFloat(P.target.value);isNaN(me)&&(me=1),me<0&&(me=0),me>1&&(me=1),g(W,{alpha:me})},className:"w-16 bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600",placeholder:"Opacity"}),s.jsx("button",{disabled:ue,onClick:()=>O(W),className:"text-gray-500 hover:text-red-400 disabled:opacity-30 disabled:cursor-not-allowed ml-auto",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},W)})}),s.jsxs("div",{className:"border-t border-gray-600 pt-3 grid grid-cols-[20px_1fr_auto_auto_auto] items-center gap-2",children:[s.jsx("span",{}),s.jsx("input",{type:"number",step:p==="days"?.1:1,value:y,onChange:X=>A(X.target.value),className:"w-full bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600",placeholder:"Value"}),s.jsx("input",{type:"color",value:U,onChange:X=>R(X.target.value),className:"w-8 h-8 p-0 border-none rounded-md bg-transparent"}),s.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:z,onChange:X=>h(Number(X.target.value)),className:"w-16 bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600",placeholder:"Opacity"}),s.jsx("button",{onClick:b,className:"bg-teal-600 hover:bg-teal-500 text-white text-xs font-semibold py-1.5 px-2 rounded-md",children:"Add"})]})]})},ny=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),iy=u=>{switch(u){case"basemap":return"Basemap Layer";case"data":return"Data Layer";case"analysis":return"Analysis Layer";case"dte_comms":return"DTE Comms Layer";case"lpf_comms":return"LPF Comms Layer";case"image":return"Image Layer";default:return"Layer"}},sy=oc.memo(({layer:u,isActive:f,onSelect:p})=>{const{onUpdateLayer:r,onRemoveLayer:y,onMoveLayerUp:A,onMoveLayerDown:U,onCalculateNightfallLayer:R,onCalculateDaylightFractionLayer:z,daylightFractionHoverData:h,flickeringLayerId:b,onToggleFlicker:g,layers:O,onRecalculateExpressionLayer:X,isLoading:W}=pl(),[re,we]=S.useState(!1),[ue,se]=S.useState(""),P=u.type==="analysis"&&u.analysisType==="nightfall",me=u.type==="analysis"&&u.analysisType==="expression",Qe=P&&u.colormap==="Custom",G=u.type==="data"||u.type==="analysis"||u.type==="dte_comms"||u.type==="lpf_comms",ie=S.useMemo(()=>O.filter($=>$.type==="data"||$.type==="analysis"||$.type==="dte_comms"||$.type==="lpf_comms").filter($=>$.id!==u.id).map($=>uc($.name)),[O,u.id]),Me=()=>{u.type==="analysis"&&u.params.expression&&(se(u.params.expression),we(!0))},Ye=async()=>{ue.trim()&&X&&(await X(u.id,ue),we(!1))};return s.jsxs("div",{className:`bg-gray-800/60 rounded-lg border ${f?"border-cyan-500/50":"border-gray-700/80"}`,children:[s.jsxs("div",{className:"flex items-center p-2 gap-2",children:[s.jsx("button",{onClick:()=>r(u.id,{visible:!u.visible}),title:u.visible?"Hide Layer":"Show Layer",className:"text-gray-400 hover:text-white",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd",style:{opacity:u.visible?1:.3}})]})}),s.jsx("button",{onClick:()=>g(u.id),title:"Flicker Layer",className:`${u.id===b?"text-cyan-400":"text-gray-400 hover:text-white"}`,children:s.jsx(ny,{})}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("button",{onClick:()=>A(u.id),title:"Move Layer Up",className:"text-gray-400 hover:text-white p-0 h-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:()=>U(u.id),title:"Move Layer Down",className:"text-gray-400 hover:text-white p-0 h-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s.jsxs("div",{onClick:p,className:"flex-grow cursor-pointer truncate text-sm",children:[s.jsx("p",{className:"font-medium text-gray-200",title:u.name,children:u.name}),s.jsx("p",{className:"text-xs text-gray-400",children:iy(u.type)}),u.type==="analysis"&&u.analysisType==="expression"&&u.params.expression&&s.jsxs("p",{className:"text-xs text-gray-500 font-mono truncate mt-1",title:u.params.expression,children:["Expr: ",u.params.expression]})]}),s.jsx("button",{onClick:p,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${f?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:()=>y(u.id),title:"Remove Layer",className:"text-gray-500 hover:text-red-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),f&&s.jsxs("div",{className:"p-3 border-t border-gray-700 space-y-4 animate-fade-in",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-400",children:["Opacity: ",Math.round(u.opacity*100),"%"]}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:u.opacity,onChange:$=>r(u.id,{opacity:Number($.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),u.type==="image"&&s.jsxs("div",{className:"space-y-3 border-t border-gray-700 pt-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Transformation"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Scale X: ",u.scaleX.toFixed(2),"x"]}),s.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.01",value:u.scaleX,onChange:$=>r(u.id,{scaleX:Number($.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Scale Y: ",u.scaleY.toFixed(2),"x"]}),s.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.01",value:u.scaleY,onChange:$=>r(u.id,{scaleY:Number($.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Rotation: ",u.rotation.toFixed(0),""]}),s.jsx("input",{type:"range",min:"-180",max:"180",step:"1",value:u.rotation,onChange:$=>r(u.id,{rotation:Number($.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position X"}),s.jsx("input",{type:"number",step:"100",value:u.position[0].toFixed(0),onChange:$=>{const Te=[Number($.target.value),u.position[1]];r(u.id,{position:Te})},className:"w-full bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position Y"}),s.jsx("input",{type:"number",step:"100",value:u.position[1].toFixed(0),onChange:$=>{const Te=[u.position[0],Number($.target.value)];r(u.id,{position:Te})},className:"w-full bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"})]})]}),s.jsx("button",{onClick:()=>{r(u.id,{scaleX:1,scaleY:1,rotation:0})},className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-medium py-1.5 px-3 rounded-md text-xs transition-all",children:"Reset Transformation"}),s.jsx("button",{onClick:()=>{const $=document.createElement("canvas"),Te=u.originalWidth*u.scaleX,qe=u.originalHeight*u.scaleY;$.width=Te,$.height=qe;const Ie=$.getContext("2d");Ie.translate($.width/2,$.height/2),Ie.rotate(u.rotation*Math.PI/180),Ie.scale(u.scaleX,u.scaleY),Ie.drawImage(u.image,-u.originalWidth/2,-u.originalHeight/2,u.originalWidth,u.originalHeight),$.toBlob(ut=>{if(ut){const Ae=URL.createObjectURL(ut),E=document.createElement("a");E.href=Ae,E.download=`transformed_${u.fileName}`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(Ae)}},"image/png")},className:"w-full bg-green-600 hover:bg-green-500 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Export Transformed Image"})]})]}),G&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Colormap"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("select",{value:u.colormap,onChange:$=>r(u.id,{colormap:$.target.value}),className:"flex-grow bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-cyan-500 focus:border-cyan-500 block p-2.5",children:Zh.map($=>s.jsx("option",{value:$,children:$},$))}),s.jsxs("label",{className:"flex items-center gap-1.5 text-sm text-gray-400 cursor-pointer whitespace-nowrap",children:[s.jsx("input",{type:"checkbox",checked:!!u.colormapInverted,onChange:$=>r(u.id,{colormapInverted:$.target.checked}),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),"Invert"]})]})]}),u.colormap==="Custom"&&s.jsx(ay,{layerRange:u.range,stops:(u.customColormap||[]).map($=>({...$,value:Qe?$.value/24:$.value})),onStopsChange:$=>{const Te=$.map(qe=>({...qe,value:Qe?qe.value*24:qe.value}));r(u.id,{customColormap:Te})},units:Qe?"days":void 0}),u.colormap!=="Custom"&&s.jsxs("div",{className:"space-y-2 p-3 bg-gray-900/30 rounded-md",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Transparency Thresholds"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Lower "}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("input",{type:"number",step:"any",value:u.transparencyLowerThreshold??"",onChange:$=>{const Te=$.target.value===""?void 0:Number($.target.value);r(u.id,{transparencyLowerThreshold:Te})},placeholder:"None",className:"flex-1 bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"}),u.transparencyLowerThreshold!==void 0&&s.jsx("button",{onClick:()=>r(u.id,{transparencyLowerThreshold:void 0}),className:"text-gray-400 hover:text-red-400 flex-shrink-0",title:"Clear",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Upper "}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("input",{type:"number",step:"any",value:u.transparencyUpperThreshold??"",onChange:$=>{const Te=$.target.value===""?void 0:Number($.target.value);r(u.id,{transparencyUpperThreshold:Te})},placeholder:"None",className:"flex-1 bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"}),u.transparencyUpperThreshold!==void 0&&s.jsx("button",{onClick:()=>r(u.id,{transparencyUpperThreshold:void 0}),className:"text-gray-400 hover:text-red-400 flex-shrink-0",title:"Clear",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Values at or beyond thresholds become transparent"})]})]}),s.jsx("div",{className:"flex flex-col items-center",children:s.jsx(Qh,{colorMap:u.colormap,customColormap:u.customColormap,dataRange:P?{min:-(u.params.clipValue??0),max:u.params.clipValue??0}:u.range,units:u.type==="analysis"?u.analysisType==="nightfall"?"days":"%":void 0,inverted:u.colormapInverted,isThreshold:u.colormap==="Custom"})})]}),u.type==="analysis"&&u.analysisType==="daylight_fraction"&&h&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-900/40 rounded-md text-sm space-y-2 animate-fade-in",children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Hover Details"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Daylight Fraction:"}),s.jsxs("span",{className:"font-mono text-cyan-300",children:[h.fraction.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Total Daylight:"}),s.jsx("span",{className:"font-mono text-cyan-300",children:ti(h.dayHours)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Total Night:"}),s.jsx("span",{className:"font-mono text-cyan-300",children:ti(h.nightHours)})]}),s.jsxs("div",{className:"border-t border-gray-700/50 pt-2 mt-2 space-y-1",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Day Periods"}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Count:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:h.dayPeriods})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Longest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ti(h.longestDayPeriod)})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Shortest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ti(h.shortestDayPeriod)})]})]}),s.jsxs("div",{className:"border-t border-gray-700/50 pt-2 mt-2 space-y-1",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Night Periods"}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Count:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:h.nightPeriods})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Longest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ti(h.longestNightPeriod)})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Shortest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ti(h.shortestNightPeriod)})]})]})]}),u.type==="data"&&s.jsxs("div",{className:"border-t border-gray-700 pt-3 space-y-2",children:[s.jsx("button",{onClick:()=>R(u.id),className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Calculate Nightfall Forecast"}),s.jsx("button",{onClick:()=>z(u.id),className:"w-full bg-amber-600 hover:bg-amber-500 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Calculate Daylight Fraction"})]}),P&&s.jsxs("div",{className:"border-t border-gray-700 pt-3 space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Colormap Clipping"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400",children:["Clip colormap at: ",`${((u.params.clipValue??0)/24).toFixed(1)} days`]}),s.jsx("input",{type:"range",min:"0",max:"1000",step:"1",value:u.params.clipValue,onChange:$=>r(u.id,{params:{...u.params,clipValue:Number($.target.value)}}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500 mt-1"})]})]}),me&&s.jsxs("div",{className:"border-t border-gray-700 pt-3 space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Expression"}),re?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"New Expression"}),s.jsx("textarea",{value:ue,onChange:$=>se($.target.value),rows:3,className:"w-full bg-gray-700 text-white text-xs rounded-md p-1.5 border border-gray-600 font-mono",placeholder:"Enter expression..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Available Variables"}),s.jsx("div",{className:"bg-gray-800 p-2 rounded-md text-xs font-mono text-gray-400 flex flex-wrap gap-x-2 gap-y-1",children:ie.length>0?ie.map($=>s.jsx("span",{children:$},$)):s.jsx("span",{className:"text-gray-500",children:"No variables available"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>we(!1),className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-semibold py-1.5 px-3 rounded-md text-sm",children:"Cancel"}),s.jsx("button",{onClick:Ye,disabled:!ue.trim()||!!W,className:"flex-1 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold py-1.5 px-3 rounded-md text-sm",children:W&&W.toLowerCase().includes("expression")?"Calculating...":"Apply"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gray-900/40 p-2 rounded-md",children:s.jsx("p",{className:"text-xs font-mono text-gray-300 break-words",children:u.params.expression||"No expression defined"})}),s.jsx("button",{onClick:Me,disabled:!!W,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Edit Expression"})]})]})]})]})}),cy=()=>{const{layers:u,onCreateExpressionLayer:f,setIsCreatingExpression:p,isLoading:r}=pl(),[y,A]=S.useState("Expression Layer"),[U,R]=S.useState(""),z=S.useMemo(()=>u.filter(g=>g.type==="data"||g.type==="analysis"||g.type==="dte_comms"||g.type==="lpf_comms").map(g=>uc(g.name)),[u]),h=async()=>{y.trim()&&U.trim()&&await f(y,U)},b=!!r&&r.toLowerCase().includes("expression");return s.jsxs("div",{className:"p-3 bg-gray-900/50 border border-cyan-700 rounded-md text-sm text-cyan-200 space-y-4",children:[s.jsx("h3",{className:"text-base font-medium text-cyan-300",children:"Create Expression Layer"}),b&&s.jsxs("div",{className:"p-4 bg-cyan-900/50 border border-cyan-500 rounded-md text-center space-y-3 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs("svg",{className:"animate-spin h-5 w-5 text-cyan-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{className:"text-cyan-300 font-semibold",children:r})]}),s.jsx("p",{className:"text-xs text-cyan-400",children:"Please wait, this may take a while for large datasets..."})]}),z.length===0&&!b&&s.jsx("div",{className:"p-2 bg-red-900/30 border border-red-600/50 rounded-md text-xs text-red-200",children:"No data layers available. Please load data layers before creating expressions."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Layer Name"}),s.jsx("input",{type:"text",value:y,onChange:g=>A(g.target.value),disabled:b,className:"w-full bg-gray-700 text-white text-sm rounded-md p-1.5 border border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Expression"}),s.jsx("textarea",{value:U,onChange:g=>R(g.target.value),rows:4,disabled:b,className:"w-full bg-gray-700 text-white text-sm rounded-md p-1.5 border border-gray-600 font-mono disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"(Nightfall_Forecast > 0) AND (DTE_Comms == 1)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Available Variables"}),s.jsx("div",{className:"bg-gray-800 p-2 rounded-md text-xs font-mono text-gray-400 flex flex-wrap gap-x-3 gap-y-1",children:z.length>0?z.map(g=>s.jsx("span",{children:g},g)):s.jsx("span",{className:"text-gray-500",children:"No data layers available."})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>p(!1),disabled:b,className:"bg-gray-600 hover:bg-gray-500 disabled:bg-gray-800 disabled:cursor-not-allowed text-white font-semibold py-1.5 px-3 rounded-md text-sm",children:"Cancel"}),s.jsx("button",{onClick:h,disabled:!y.trim()||!U.trim()||b,className:"bg-cyan-600 hover:bg-cyan-500 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-semibold py-1.5 px-3 rounded-md text-sm",children:b?"Computing...":"Create"})]})]})},uy=()=>{const{layers:u,activeLayerId:f,setActiveLayerId:p,isCreatingExpression:r,setIsCreatingExpression:y,isLoading:A}=pl(),U=S.useMemo(()=>u.some(R=>R.type==="data"||R.type==="analysis"||R.type==="dte_comms"||R.type==="lpf_comms"),[u]);return r?s.jsx(cy,{}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Layer Management"}),s.jsx(ly,{}),!U&&s.jsx("div",{className:"p-2 bg-yellow-900/30 border border-yellow-600/50 rounded-md text-xs text-yellow-200",children:"Load a data layer before creating expression layers"}),s.jsx("button",{onClick:()=>y(!0),disabled:!!A||!U,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-4 rounded-md text-sm transition-all flex items-center justify-center gap-2",title:U?"Create a layer from an expression":"Load a data layer first",children:"Add Expression Layer"}),A&&s.jsx("div",{className:"text-sm text-cyan-300 text-center p-2 bg-gray-900/50 rounded-md",children:A}),s.jsx("div",{className:"space-y-2",children:u.length>0?[...u].reverse().map(R=>s.jsx(sy,{layer:R,isActive:R.id===f,onSelect:()=>p(R.id===f?null:R.id)},R.id)):s.jsx("p",{className:"text-sm text-gray-500 text-center p-4",children:"No layers loaded."})})]})},oy=oc.memo(({artifact:u,isActive:f,onSelect:p})=>{const{onUpdateArtifact:r,onRemoveArtifact:y,onStartAppendWaypoints:A}=pl(),U=(b,g)=>{r(u.id,{[b]:g})},R=(b,g,O)=>{const X=[...b.waypoints];X[g]={...X[g],...O},r(b.id,{waypoints:X})},z=(b,g,O,X)=>{const W=parseFloat(X);if(isNaN(W))return;const re=[...b.waypoints],we=re[g].geoPosition,ue=[O==="lon"?W:we[0],O==="lat"?W:we[1]];re[g]={...re[g],geoPosition:ue},r(b.id,{waypoints:re})},h=(b,g)=>{const O=b.waypoints.filter((X,W)=>W!==g);r(b.id,{waypoints:O})};return s.jsxs("div",{className:`bg-gray-800/60 rounded-lg border ${f?"border-cyan-500/50":"border-gray-700/80"}`,children:[s.jsxs("div",{className:"flex items-center p-2 gap-2",children:[s.jsx("button",{onClick:()=>U("visible",!u.visible),title:u.visible?"Hide":"Show",className:"text-gray-400 hover:text-white",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd",style:{opacity:u.visible?1:.3}})]})}),s.jsxs("div",{onClick:p,className:"flex-grow cursor-pointer truncate text-sm",children:[s.jsx("p",{className:"font-medium text-gray-200",title:u.name,children:u.name}),s.jsx("p",{className:"text-xs text-gray-400",children:u.type.charAt(0).toUpperCase()+u.type.slice(1)})]}),s.jsx("button",{onClick:p,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${f?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:()=>y(u.id),title:"Remove",className:"text-gray-500 hover:text-red-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),f&&s.jsxs("div",{className:"p-3 border-t border-gray-700 space-y-4 text-sm animate-fade-in",children:[s.jsxs(gl,{title:"General",defaultOpen:!0,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Name"}),s.jsx("input",{type:"text",value:u.name,onChange:b=>U("name",b.target.value),className:"w-40 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Color"}),s.jsx("input",{type:"color",value:u.color,onChange:b=>U("color",b.target.value),className:"w-10 h-8 p-0 border-none rounded-md bg-transparent cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block font-medium text-gray-300 mb-1",children:["Thickness: ",u.thickness,"px"]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"1",value:u.thickness,onChange:b=>U("thickness",Number(b.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]})]}),u.type==="circle"&&s.jsx(gl,{title:"Circle Properties",defaultOpen:!0,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Radius (m)"}),s.jsx("input",{type:"number",min:"0",value:u.radius,onChange:b=>r(u.id,{radius:Number(b.target.value)}),className:"w-24 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]})}),u.type==="rectangle"&&s.jsxs(gl,{title:"Rectangle Properties",defaultOpen:!0,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Width (m)"}),s.jsx("input",{type:"number",min:"0",value:u.width,onChange:b=>r(u.id,{width:Number(b.target.value)}),className:"w-24 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Height (m)"}),s.jsx("input",{type:"number",min:"0",value:u.height,onChange:b=>r(u.id,{height:Number(b.target.value)}),className:"w-24 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block font-medium text-gray-300 mb-1",children:["Rotation: ",u.rotation,""]}),s.jsx("input",{type:"range",min:"0",max:"360",step:"1",value:u.rotation,onChange:b=>r(u.id,{rotation:Number(b.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]})]}),u.type==="path"&&s.jsxs(s.Fragment,{children:[s.jsx(gl,{title:"Path Tools",children:s.jsx("button",{onClick:A,className:"w-full bg-teal-600 hover:bg-teal-500 text-white text-sm font-semibold py-1.5 px-2 rounded-md",children:"Add Waypoints"})}),s.jsx(gl,{title:"Path Waypoints",defaultOpen:!0,children:s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:u.waypoints.map((b,g)=>s.jsxs("div",{className:"bg-gray-900/40 p-1.5 rounded-md space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-mono text-gray-400",children:[g+1,"."]}),s.jsx("input",{type:"text",value:b.label,onChange:O=>R(u,g,{label:O.target.value}),className:"w-full bg-gray-700 text-white rounded p-1 border border-gray-600 text-sm",placeholder:"Label"}),s.jsx("button",{onClick:()=>h(u,g),title:"Remove Waypoint",className:"text-gray-500 hover:text-red-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),s.jsxs("div",{className:"flex items-center gap-2 pl-6",children:[s.jsx("input",{type:"number",step:"any",value:b.geoPosition[0],onChange:O=>z(u,g,"lon",O.target.value),className:"w-full bg-gray-700 text-white rounded p-1 border border-gray-600 text-xs",placeholder:"Lon",title:"Longitude"}),s.jsx("input",{type:"number",step:"any",value:b.geoPosition[1],onChange:O=>z(u,g,"lat",O.target.value),className:"w-full bg-gray-700 text-white rounded p-1 border border-gray-600 text-xs",placeholder:"Lat",title:"Latitude"})]})]},b.id))})})]})]})]})}),ry=()=>{const{artifacts:u,activeArtifactId:f,setActiveArtifactId:p,artifactCreationMode:r,setArtifactCreationMode:y,onFinishArtifactCreation:A,primaryDataLayer:U,baseMapLayer:R,isAppendingWaypoints:z,pathCreationOptions:h,setPathCreationOptions:b}=pl();return!!U||!!R?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Artifacts"}),r==="path"?s.jsxs("div",{className:"p-3 bg-cyan-900/50 border border-cyan-700 rounded-md text-sm text-cyan-200 space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Drawing Path:"})," Click on the map to add waypoints. Press 'Esc' or click finish when done."]}),s.jsx("button",{onClick:A,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-1.5 px-3 rounded-md text-sm transition-all",children:"Finish Drawing"})]}):z?s.jsxs("div",{className:"p-3 bg-teal-900/50 border border-teal-700 rounded-md text-sm text-teal-200 space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Appending to Path:"})," Click on the map to add new waypoints. Press 'Esc' or click finish to stop."]}),s.jsx("button",{onClick:A,className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-semibold py-1.5 px-3 rounded-md text-sm transition-all",children:"Finish Appending"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Add and manage annotations on the map. Click a button below, then click on the map to place an artifact."}),s.jsx(gl,{title:"Path Creation Settings",defaultOpen:!1,children:s.jsx("div",{className:"space-y-2",children:s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Max Segment Length (m):"}),s.jsx("input",{type:"number",min:"0",step:"100",value:h.defaultMaxSegmentLength??"",placeholder:"No limit",onChange:O=>{const X=O.target.value===""?null:parseFloat(O.target.value);b({defaultMaxSegmentLength:X})},className:"bg-gray-700 text-white rounded p-2 border border-gray-600 text-sm",title:"Maximum distance between waypoints. A visual guide circle will be shown during path creation."}),s.jsx("span",{className:"text-xs text-gray-500",children:"Set a limit before creating a path. Leave empty for no limit."})]})})}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{onClick:()=>y("circle"),className:"bg-teal-700 hover:bg-teal-600 text-white font-semibold py-2 px-2 rounded-md text-sm transition-all text-center",children:"Add Circle"}),s.jsx("button",{onClick:()=>y("rectangle"),className:"bg-indigo-700 hover:bg-indigo-600 text-white font-semibold py-2 px-2 rounded-md text-sm transition-all text-center",children:"Add Rect"}),s.jsx("button",{onClick:()=>y("path"),className:"bg-purple-700 hover:bg-purple-600 text-white font-semibold py-2 px-2 rounded-md text-sm transition-all text-center",children:"Add Path"})]})]}),s.jsx("div",{className:"space-y-2",children:u.length>0?[...u].reverse().map(O=>s.jsx(oy,{artifact:O,isActive:O.id===f,onSelect:()=>p(O.id===f?null:O.id)},O.id)):s.jsx("p",{className:"text-sm text-gray-500 text-center p-4",children:"No artifacts created."})})]}):s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Artifacts"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Load a basemap or data layer to add artifacts."})]})},fy=()=>{const{primaryDataLayer:u,selectedCells:f,selectionColor:p,setSelectionColor:r,onClearSelection:y}=pl();return!u?s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Measurement"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Load a data layer to select cells."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Cell Selection"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Click on the map to select or deselect individual cells."}),s.jsxs(gl,{title:"Selection Tools",defaultOpen:!0,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Selected cells:"}),s.jsx("span",{className:"font-mono text-cyan-300",children:f.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Highlight Color"}),s.jsx("input",{type:"color",value:p,onChange:U=>r(U.target.value),className:"w-10 h-8 p-0 border-none rounded-md bg-transparent cursor-pointer"})]}),s.jsx("button",{onClick:y,disabled:f.length===0,className:"w-full bg-red-600 hover:bg-red-500 disabled:bg-gray-600 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Clear Selection"})]})]})},dy=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),my=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),hy=()=>{const{primaryDataLayer:u,baseMapLayer:f,activeLayer:p,timeRange:r,showGraticule:y,setShowGraticule:A,graticuleDensity:U,setGraticuleDensity:R,selectedPixel:z,showGrid:h,setShowGrid:b,gridSpacing:g,setGridSpacing:O,gridColor:X,setGridColor:W,isPlaying:re,isPaused:we,playbackSpeed:ue,onTogglePlay:se,onPlaybackSpeedChange:P,onImportConfig:me,onExportConfig:Qe,artifactDisplayOptions:G,setArtifactDisplayOptions:ie,nightfallPlotYAxisRange:Me,onNightfallPlotYAxisRangeChange:Ye}=pl(),$=!!u||!!f,Te=S.useRef(null),qe=()=>{var Ae;return(Ae=Te.current)==null?void 0:Ae.click()},Ie=Ae=>{var E;(E=Ae.target.files)!=null&&E[0]&&(me(Ae.target.files[0]),Ae.target.value="")},ut=(p==null?void 0:p.type)==="analysis"&&p.analysisType==="nightfall";return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Configuration"}),s.jsxs(gl,{title:"Session Management",defaultOpen:!0,children:[s.jsx("input",{type:"file",ref:Te,onChange:Ie,accept:".json",style:{display:"none"}}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:qe,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Import Config"}),s.jsx("button",{onClick:Qe,disabled:!$,className:"w-full bg-teal-600 hover:bg-teal-500 disabled:bg-gray-600 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Export Config"})]})]}),$?s.jsxs(s.Fragment,{children:[ut&&s.jsxs(gl,{title:"Plot Options",defaultOpen:!0,children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Nightfall Plot Y-Axis Range"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Min (days)"}),s.jsx("input",{type:"number",step:"1",value:Me.min,onChange:Ae=>Ye({...Me,min:Number(Ae.target.value)}),className:"w-full bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600"}),s.jsx("label",{className:"text-xs text-gray-400",children:"Max (days)"}),s.jsx("input",{type:"number",step:"1",value:Me.max,onChange:Ae=>Ye({...Me,max:Number(Ae.target.value)}),className:"w-full bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600"})]})]}),s.jsx(gl,{title:"Time Animation",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:se,disabled:!re&&!we&&(!r||r.start>=r.end),className:"flex items-center justify-center gap-2 w-28 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",title:re?"Stop":we?"Resume Playback":!r||r.start>=r.end?"Select a time range on the slider to enable playback":"Play",children:[re?s.jsx(my,{}):s.jsx(dy,{}),s.jsx("span",{children:re?"Stop":we?"Resume":"Play"})]}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Speed: ",ue," FPS"]}),s.jsx("input",{type:"range",min:"1",max:"30",step:"1",value:ue,onChange:Ae=>P(Number(Ae.target.value)),disabled:re,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})]})]})}),s.jsxs(gl,{title:"View Options",defaultOpen:!0,children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y,onChange:Ae=>A(Ae.target.checked),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),s.jsx("span",{children:"Show Graticule"})]}),y&&s.jsxs("div",{className:"pt-3",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-400",children:["Density: ",U.toFixed(1),"x"]}),s.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:U,onChange:Ae=>R(Number(Ae.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]})]}),s.jsxs(gl,{title:"Artifact Display Options",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-400",children:["Waypoint Dot Size: ",G.waypointDotSize,"px"]}),s.jsx("input",{type:"range",min:"2",max:"20",step:"1",value:G.waypointDotSize,onChange:Ae=>ie({...G,waypointDotSize:Number(Ae.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-400",children:["Label Font Size: ",G.labelFontSize,"px"]}),s.jsx("input",{type:"range",min:"8",max:"24",step:"1",value:G.labelFontSize,onChange:Ae=>ie({...G,labelFontSize:Number(Ae.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-gray-300",children:[s.jsx("input",{type:"checkbox",checked:G.showSegmentLengths,onChange:Ae=>ie({...G,showSegmentLengths:Ae.target.checked}),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),s.jsx("span",{children:"Show Segment Lengths"})]})]}),s.jsxs(gl,{title:"Grid Overlay",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:h,onChange:Ae=>b(Ae.target.checked),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),s.jsx("span",{children:"Show Grid Overlay"})]}),h&&s.jsxs("div",{className:"pt-3 space-y-3 border-t border-gray-700/50 mt-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-400",children:["Spacing: ",g,"m"]}),s.jsx("input",{type:"range",min:"10",max:"1000",step:"10",value:g,onChange:Ae=>O(Number(Ae.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Color"}),s.jsx("input",{type:"color",value:X.slice(0,7),onChange:Ae=>W(Ae.target.value+"80"),className:"w-10 h-8 p-0 border-none rounded-md bg-transparent cursor-pointer"})]})]})]}),s.jsx(gl,{title:"Selected Pixel",defaultOpen:!0,children:s.jsx("div",{className:"text-sm space-y-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Pixel (X, Y):"}),s.jsx("span",{className:"font-mono text-green-400",children:z?`${z.x}, ${z.y}`:"---"})]})})})]}):s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Load a data layer or import a session to see more options."})]})},yy=()=>{const{activeTool:u}=pl(),f=()=>{switch(u){case"layers":return s.jsx(uy,{});case"artifacts":return s.jsx(ry,{});case"measurement":return s.jsx(fy,{});case"config":return s.jsx(hy,{});default:return null}};return s.jsx("aside",{className:"bg-gray-800/50 border-r border-gray-700 p-4 w-80 flex-shrink-0 flex flex-col gap-6 overflow-y-auto",children:f()})},bo="w-9 h-9 bg-gray-800/80 hover:bg-gray-700/90 text-gray-200 rounded-md flex items-center justify-center text-xl font-mono transition-colors shadow-lg border border-gray-600/50",gy=({onZoomIn:u,onZoomOut:f,onResetView:p})=>s.jsxs("div",{className:"absolute top-3 left-3 z-30 flex flex-col gap-1.5",children:[s.jsx("button",{onClick:u,className:bo,"aria-label":"Zoom In",title:"Zoom In",children:"+"}),s.jsx("button",{onClick:f,className:bo,"aria-label":"Zoom Out",title:"Zoom Out",children:"-"}),s.jsx("button",{onClick:p,className:bo,"aria-label":"Reset View",title:"Reset View",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 0h-4m4 0l-5-5"})})})]});class py{constructor(f){if(f<=0)throw new Error("Cache capacity must be positive");this.capacity=f,this.cache=new Map,this.accessOrder=[]}get(f){const p=this.cache.get(f);return p!==void 0&&this.updateAccessOrder(f),p}set(f,p){if(this.cache.has(f)){this.cache.set(f,p),this.updateAccessOrder(f);return}this.cache.size>=this.capacity&&this.evictLRU(),this.cache.set(f,p),this.accessOrder.push(f)}has(f){return this.cache.has(f)}delete(f){const p=this.cache.delete(f);return p&&(this.accessOrder=this.accessOrder.filter(r=>r!==f)),p}clear(){this.cache.clear(),this.accessOrder=[]}get size(){return this.cache.size}get maxSize(){return this.capacity}keys(){return[...this.accessOrder]}values(){return this.accessOrder.map(f=>this.cache.get(f))}getStats(){return{size:this.size,capacity:this.capacity,utilizationPercent:this.size/this.capacity*100}}updateAccessOrder(f){this.accessOrder=this.accessOrder.filter(p=>p!==f),this.accessOrder.push(f)}evictLRU(){if(this.accessOrder.length===0)return;const f=this.accessOrder[0];this.cache.delete(f),this.accessOrder.shift()}}class vy extends py{constructor(f,p=500){super(f),this.currentMemoryBytes=0,this.maxMemoryBytes=p*1024*1024}getCanvasMemorySize(f){return f.width*f.height*4}set(f,p){const r=this.getCanvasMemorySize(p);if(this.currentMemoryBytes+r>this.maxMemoryBytes)for(;this.currentMemoryBytes+r>this.maxMemoryBytes&&this.size>0;)this.evictOldest();if(r>this.maxMemoryBytes){console.warn(`Canvas too large for cache: ${(r/1024/1024).toFixed(2)}MB`);return}super.set(f,p),this.currentMemoryBytes+=r}delete(f){const p=this.get(f);return p&&(this.currentMemoryBytes-=this.getCanvasMemorySize(p)),super.delete(f)}clear(){super.clear(),this.currentMemoryBytes=0}evictOldest(){const f=this.keys();f.length>0&&this.delete(f[0])}getStats(){return{...super.getStats(),currentMemoryMB:this.currentMemoryBytes/1024/1024,maxMemoryMB:this.maxMemoryBytes/1024/1024,memoryUtilizationPercent:this.currentMemoryBytes/this.maxMemoryBytes*100}}}function So(u,f=16){const[p,r]=S.useState(u);return S.useEffect(()=>{const y=setTimeout(()=>{r(u)},f);return()=>{clearTimeout(y)}},[u,f]),p}const xy=u=>!u||u.length===0?"":u.map(f=>`${f.value}:${f.color}`).join("|"),by=(u,f,p=256)=>{const r=new Uint8ClampedArray(p*4),[y,A]=f,U=A-y;for(let R=0;R<p;R++){const z=y+U*R/(p-1),h=d3.color(u(z));if(h){const b=R*4;r[b]=h.r,r[b+1]=h.g,r[b+2]=h.b,r[b+3]=h.opacity*255}}return r},Sy=(u,f)=>{const r=O=>O*Math.PI/180,[y,A]=u,[U,R]=f,z=r(R-A),h=r(U-y),b=Math.sin(z/2)*Math.sin(z/2)+Math.cos(r(A))*Math.cos(r(R))*Math.sin(h/2)*Math.sin(h/2);return 6371e3*(2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b)))},jy=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[s.jsxs("svg",{className:"animate-spin h-10 w-10 text-cyan-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("p",{className:"mt-4",children:"Rendering..."})]}),wy=()=>{const{layers:u,timeRange:f,setHoveredCoords:p,setSelectedPixel:r,onFinishArtifactCreation:y,onUpdateArtifact:A,clearHoverState:U,latRange:R,lonRange:z,showGraticule:h,graticuleDensity:b,proj:g,viewState:O,setViewState:X,primaryDataLayer:W,baseMapLayer:re,showGrid:we,gridSpacing:ue,gridColor:se,activeTool:P,selectedCells:me,selectionColor:Qe,artifacts:G,artifactCreationMode:ie,draggedInfo:Me,setDraggedInfo:Ye,artifactDisplayOptions:$,isAppendingWaypoints:Te,coordinateTransformer:qe,snapToCellCorner:Ie,calculateRectangleFromCellCorners:ut,setActiveArtifactId:Ae,setArtifacts:E,setSelectedCells:k,activeLayerId:he,onUpdateLayer:Pe,pathCreationOptions:Fe,activeArtifactId:v}=pl(),L=(f==null?void 0:f.start)??0,ce=f,ye=!!W||!!re,Le=So(b,100),Be=So(we,50),Xe=So(ue,100),vt=S.useRef(null),yt=S.useRef(null),zl=S.useRef(null),Dl=S.useRef(null),Rl=S.useRef(null),Ia=S.useRef(null),[Qt,vl]=S.useState(!1),Ol=S.useRef(new vy(50,500)).current,Pa=S.useRef(!1),tl=S.useRef(!1),cl=S.useRef({x:0,y:0}),[xl,ea]=S.useState(null),[bl,Sn]=S.useState(null),[Tt,jn]=S.useState(null),[ul,xa]=S.useState(null),[Ft,en]=S.useState(null),[ll,ta]=S.useState(null);S.useEffect(()=>{ie!=="rectangle"&&xa(null)},[ie]);const Sl=S.useMemo(()=>{if(!W&&!re)return null;let Z=null;if(W&&g){const[T,F]=z,[d,oe]=R,je=[[T,d],[F,d],[F,oe],[T,oe]].map(I=>g.forward(I));Z={minX:Math.min(...je.map(I=>I[0])),maxX:Math.max(...je.map(I=>I[0])),minY:Math.min(...je.map(I=>I[1])),maxY:Math.max(...je.map(I=>I[1]))}}let ee=null;if(re){const T=re.vrt.geoTransform;ee={minX:T[0],maxX:T[0]+re.vrt.width*T[1],minY:T[3]+re.vrt.height*T[5],maxY:T[3]}}return Z&&ee?{minX:Math.min(Z.minX,ee.minX),maxX:Math.max(Z.maxX,ee.maxX),minY:Math.min(Z.minY,ee.minY),maxY:Math.max(Z.maxY,ee.maxY)}:Z||ee},[W,re,g,z,R]);S.useEffect(()=>{const Z=Rl.current;if(!Sl||!Z||O&&Pa.current)return;const{clientWidth:ee,clientHeight:T}=Z;if(ee===0||T===0)return;const F=Sl.maxX-Sl.minX,d=Sl.maxY-Sl.minY,oe=Math.min(ee/F,T/d)*.95,I={center:[Sl.minX+F/2,Sl.minY+d/2],scale:oe};ea(I),X(I),Pa.current=!0},[Sl,X,O]),S.useEffect(()=>{Pa.current=!1},[u]);const _t=S.useCallback((Z,ee)=>{const T=Rl.current;if(!T||!O)return null;const F=window.devicePixelRatio||1,{center:d,scale:oe}=O,je=(Z*F-T.width/2)/(oe*F)+d[0],I=-(ee*F-T.height/2)/(oe*F)+d[1];return[je,I]},[O]),kt=S.useCallback(Z=>{try{if(!O||!he||!Z)return null;const ee=u.find(He=>He.id===he&&He.type==="image");if(!ee||ee.type!=="image")return null;const T=ee;if(!T.originalWidth||!T.originalHeight||!T.scaleX||!T.scaleY||!T.position)return null;const F=T.originalWidth*T.scaleX,d=T.originalHeight*T.scaleY,oe=12/O.scale,je=Z[0]-T.position[0],I=Z[1]-T.position[1],fe=T.rotation*Math.PI/180,K=Math.cos(-fe),de=Math.sin(-fe),J=je*K-I*de,Q=je*de+I*K;if(Math.abs(J)<oe&&Math.abs(Q)<oe)return{layerId:T.id,handleType:"center"};const ve=[[-F/2,-d/2],[F/2,-d/2],[F/2,d/2],[-F/2,d/2]];for(let He=0;He<ve.length;He++){const[V,Ee]=ve[He];if(Math.abs(J-V)<oe&&Math.abs(Q-Ee)<oe)return{layerId:T.id,handleType:"corner",handleIndex:He}}const De=[[0,-d/2],[F/2,0],[0,d/2],[-F/2,0]];for(let He=0;He<De.length;He++){const[V,Ee]=De[He];if(Math.abs(J-V)<oe&&Math.abs(Q-Ee)<oe)return{layerId:T.id,handleType:"edge",handleIndex:He}}return null}catch(ee){return console.error("Error in getImageLayerHandle:",ee),null}},[O,u,he]);S.useEffect(()=>{const Z=vt.current;if(!Z)return;const ee=T=>{if(!O)return;T.preventDefault();const F=Z.getBoundingClientRect(),d=T.clientX-F.left,oe=T.clientY-F.top,je=_t(d,oe);if(!je)return;const I=1-T.deltaY*.001,fe=O.scale*I,K=window.devicePixelRatio||1,de=[je[0]-(d*K-Z.offsetWidth*K/2)/(fe*K),je[1]+(oe*K-Z.offsetHeight*K/2)/(fe*K)];X({scale:fe,center:de})};return Z.addEventListener("wheel",ee,{passive:!1}),()=>{Z.removeEventListener("wheel",ee)}},[O,_t,X]),S.useEffect(()=>{const Z=[yt.current,zl.current,Rl.current];if(Z.some(V=>!V)||!O||!ye)return;vl(!0);const ee=performance.now(),[T,F,d]=Z,oe=window.devicePixelRatio||1;[T,F,d].forEach(V=>{const{clientWidth:Ee,clientHeight:$e}=V.parentElement;V.width=Ee*oe,V.height=$e*oe});const je=T.getContext("2d"),I=F.getContext("2d"),fe=d.getContext("2d"),K=[je,I,fe],{center:de,scale:J}=O;K.forEach(V=>{V.clearRect(0,0,V.canvas.width,V.canvas.height),V.save(),V.translate(V.canvas.width/2,V.canvas.height/2);const Ee=J*oe;V.scale(Ee,-Ee),V.translate(-de[0],-de[1]),V.imageSmoothingEnabled=!1}),u.forEach(V=>{if(V.visible){if(V.type==="basemap"){const Ee=V.vrt.geoTransform;je.save(),je.globalAlpha=V.opacity,je.transform(Ee[1],Ee[4],Ee[2],Ee[5],Ee[0],Ee[3]),je.drawImage(V.image,0,0),je.restore()}else if(V.type==="image"){je.save(),je.globalAlpha=V.opacity,je.translate(V.position[0],V.position[1]);const Ee=V.rotation*Math.PI/180;je.rotate(Ee),je.scale(1,-1);const $e=V.originalWidth*V.scaleX,st=V.originalHeight*V.scaleY;je.drawImage(V.image,-$e/2,-st/2,$e,st),je.restore()}else if((V.type==="data"||V.type==="analysis"||V.type==="dte_comms"||V.type==="lpf_comms")&&g){let Ee;const $e=!!V.colormapInverted;let st;V.type==="analysis"&&V.analysisType==="daylight_fraction"&&ce?st=`${V.id}-${ce.start}-${ce.end}-${V.colormap}-${$e}`:(st=`${V.id}-${L}-${V.colormap}-${$e}-${V.range.min}-${V.range.max}`,V.type==="analysis"&&V.analysisType==="nightfall"&&(st+=`-${V.params.clipValue}`)),V.colormap==="Custom"&&(st+=`-${xy(V.customColormap)}`),V.transparencyLowerThreshold!==void 0&&(st+=`-lt${V.transparencyLowerThreshold}`),V.transparencyUpperThreshold!==void 0&&(st+=`-ut${V.transparencyUpperThreshold}`),Ee=st;let et=Ol.get(Ee);if(!et){const Re=V.dataset[V.type==="analysis"&&V.analysisType==="daylight_fraction"?0:L];if(!Re)return;const{width:be,height:te}=V.dimensions;et=document.createElement("canvas"),et.width=be,et.height=te;const Se=et.getContext("2d");let ge;const Ze=V.colormap==="Custom";V.type==="analysis"&&V.analysisType==="nightfall"?ge=[V.range.min,V.params.clipValue??V.range.max]:ge=[V.range.min,V.range.max];const Oe=x0(V.colormap,ge,V.colormapInverted,V.customColormap,Ze),pe=Se.createImageData(be,te),at=by(Oe,ge,256),[Ge,mt]=ge,Et=mt-Ge;for(let Xt=0;Xt<te;Xt++)for(let Gt=0;Gt<be;Gt++){const il=Re[Xt][Gt],Vt=(Xt*be+Gt)*4;let Kt=(il-Ge)/Et;Kt=Math.max(0,Math.min(1,Kt));const jl=Math.floor(Kt*255)*4;pe.data[Vt]=at[jl],pe.data[Vt+1]=at[jl+1],pe.data[Vt+2]=at[jl+2],pe.data[Vt+3]=at[jl+3],V.transparencyLowerThreshold!==void 0&&il<=V.transparencyLowerThreshold&&(pe.data[Vt+3]=0),V.transparencyUpperThreshold!==void 0&&il>=V.transparencyUpperThreshold&&(pe.data[Vt+3]=0)}Se.putImageData(pe,0,0),Ol.set(Ee,et)}I.save(),I.globalAlpha=V.opacity;const[ot,Je]=z,[jt,ke]=R,rt=g.forward([ot,ke]),w=g.forward([Je,ke]),Y=g.forward([ot,jt]),q=(w[0]-rt[0])/et.width,le=(w[1]-rt[1])/et.width,xe=(Y[0]-rt[0])/et.height,ae=(Y[1]-rt[1])/et.height,ne=rt[0],ze=rt[1];I.transform(q,le,xe,ae,ne,ze),I.drawImage(et,0,0),I.restore()}}});const{clientWidth:Q,clientHeight:ve}=d,De=_t(0,0),He=_t(Q*(window.devicePixelRatio||1),ve*(window.devicePixelRatio||1));if(De&&He){const[V,Ee]=[De[0],He[1]],[$e,st]=[He[0],De[1]];if(Be){fe.strokeStyle=se,fe.lineWidth=.8/(J*oe);const et=Math.ceil(V/Xe)*Xe,ot=Math.ceil(Ee/Xe)*Xe;fe.beginPath();for(let Je=et;Je<=$e;Je+=Xe)fe.moveTo(Je,Ee),fe.lineTo(Je,st);for(let Je=ot;Je<=st;Je+=Xe)fe.moveTo(V,Je),fe.lineTo($e,Je);fe.stroke()}if(h&&g){fe.strokeStyle="rgba(255, 255, 255, 0.4)",fe.lineWidth=1/(J*oe);const ot=[[0,0],[Q/2,0],[Q,0],[Q,ve/2],[Q,ve],[Q/2,ve],[0,ve],[0,ve/2]].map(te=>_t(te[0]*(window.devicePixelRatio||1),te[1]*(window.devicePixelRatio||1))).filter(te=>te!==null).map(te=>{try{return proj4("EPSG:4326",g).inverse(te)}catch{return null}}).filter(te=>te!==null);let Je=1,jt=1;if(ot.length>0){const te=Math.min(...ot.map(Oe=>Oe[0])),Se=Math.max(...ot.map(Oe=>Oe[0])),ge=Math.min(...ot.map(Oe=>Oe[1])),Ze=Math.max(...ot.map(Oe=>Oe[1]));Je=Math.abs(Se-te),Je>180&&(Je=360-Je),jt=Math.abs(Ze-ge)}const ke=te=>{if(te<=0)return 1;const Se=te/(5*Le),ge=Math.pow(10,Math.floor(Math.log10(Se))),Ze=Se/ge;return Ze<1.5?ge:Ze<3.5?2*ge:Ze<7.5?5*ge:10*ge},rt=ke(Je),w=ke(jt);console.log("[GRATICULE DEBUG] lonSpan:",Je,"latSpan:",jt,"lonStep:",rt,"latStep:",w);let Y=0,q=0;try{const te=proj4("EPSG:4326",g).inverse(O.center);Y=Math.round(te[0]/rt)*rt,q=Math.round(te[1]/w)*w}catch{Y=0,q=0}const le=(te,Se)=>{fe.save(),fe.translate(Se[0],Se[1]);const ge=1/(J*oe);fe.scale(ge,-ge),fe.fillStyle="rgba(255, 255, 255, 0.95)",fe.font="12px sans-serif",fe.strokeStyle="rgba(0, 0, 0, 0.8)",fe.lineWidth=2,fe.textAlign="left",fe.textBaseline="top",fe.strokeText(te,5,5),fe.fillText(te,5,5),fe.restore()};console.log("[GRATICULE] Drawing graticule - lonStep:",rt,"latStep:",w,"lonSpan:",Je,"latSpan:",jt);let xe=0,ae=0,ne=0;for(let te=-180;te<=180;te+=rt){xe++;const Se=xe===1;try{fe.beginPath();let ge=0;const Ze=[];for(let Oe=0;Oe<=100;Oe++){const pe=-90+Oe/100*180;try{const at=g.forward([te,pe]);isFinite(at[0])&&isFinite(at[1])&&(ge===0?fe.moveTo(at[0],at[1]):fe.lineTo(at[0],at[1]),ge++,Se&&Oe%25===0&&Ze.push({lat:pe,pt:at}))}catch{}}Se&&console.log("[GRATICULE] First lon line (lon="+te+") sample points:",Ze),ge>=2&&(fe.stroke(),ae++,ne+=ge)}catch(ge){console.warn("Failed to draw longitude line at",te,ge)}try{const ge=g.forward([te,q]);isFinite(ge[0])&&isFinite(ge[1])&&ge[0]>=V&&ge[0]<=$e&&ge[1]>=Ee&&ge[1]<=st&&le(`${te.toFixed(1)}`,ge)}catch{}}console.log("[GRATICULE] Longitude: attempted",xe,"drawn",ae,"total points",ne);let ze=0,Re=0,be=0;for(let te=-90;te<=90;te+=w){ze++;try{fe.beginPath();let Se=0;for(let ge=0;ge<=200;ge++){const Ze=-180+ge/200*360;try{const Oe=g.forward([Ze,te]);isFinite(Oe[0])&&isFinite(Oe[1])&&(Se===0?fe.moveTo(Oe[0],Oe[1]):fe.lineTo(Oe[0],Oe[1]),Se++)}catch{}}Se>=2&&(fe.stroke(),Re++,be+=Se)}catch(Se){console.warn("Failed to draw latitude line at",te,Se)}try{const Se=g.forward([Y,te]);isFinite(Se[0])&&isFinite(Se[1])&&Se[0]>=V&&Se[0]<=$e&&Se[1]>=Ee&&Se[1]<=st&&le(`${te.toFixed(1)}`,Se)}catch{}}console.log("[GRATICULE] Latitude: attempted",ze,"drawn",Re,"total points",be)}}K.forEach(V=>V.restore()),performance.now()-ee>16?requestAnimationFrame(()=>vl(!1)):vl(!1)},[u,L,h,Le,g,O,ye,R,z,_t,ce,Be,Xe,se]);const ol=S.useCallback(Z=>{if(!W||!g)return null;const{width:ee,height:T}=W.dimensions,[F,d]=z,[oe,je]=R,I=g.forward([F,je]),fe=g.forward([d,je]),K=g.forward([F,oe]),de=(fe[0]-I[0])/ee,J=(fe[1]-I[1])/ee,Q=(K[0]-I[0])/T,ve=(K[1]-I[1])/T,De=I[0],He=I[1],V=de*ve-J*Q;if(Math.abs(V)<1e-9)return null;try{const Ee=(ve*(Z.center[0]-De)-Q*(Z.center[1]-He))/V,$e=(de*(Z.center[1]-He)-J*(Z.center[0]-De))/V,st=Z.width/Math.sqrt(de*de+J*J),et=Z.height/Math.sqrt(Q*Q+ve*ve),ot=st/2,Je=et/2,jt=Math.round(Ee-ot),ke=Math.round(Ee+ot),rt=Math.round($e-Je),w=Math.round($e+Je);return[[jt,rt],[ke,rt],[ke,w],[jt,w]].map(([q,le])=>[de*q+Q*le+De,J*q+ve*le+He])}catch{return null}},[W,g,z,R]);S.useEffect(()=>{var fe;const Z=Dl.current;if(!Z||!O||!g){(fe=Z==null?void 0:Z.getContext("2d"))==null||fe.clearRect(0,0,Z.width,Z.height);return}const ee=window.devicePixelRatio||1,{clientWidth:T,clientHeight:F}=Z.parentElement;Z.width=T*ee,Z.height=F*ee;const d=Z.getContext("2d");d.clearRect(0,0,Z.width,Z.height);const{center:oe,scale:je}=O;d.save(),d.translate(d.canvas.width/2,d.canvas.height/2);const I=je*ee;if(d.scale(I,-I),d.translate(-oe[0],-oe[1]),G.forEach(K=>{if(!K.visible)return;if(d.strokeStyle=K.color,d.fillStyle=K.color,K.type==="circle"){const J=K.radius;d.lineWidth=K.thickness/I,d.beginPath(),d.arc(K.center[0],K.center[1],J,0,2*Math.PI),d.stroke()}else if(K.type==="rectangle"){const J=ol(K);J&&J.length===4&&(d.lineWidth=K.thickness/I,d.beginPath(),d.moveTo(J[0][0],J[0][1]),d.lineTo(J[1][0],J[1][1]),d.lineTo(J[2][0],J[2][1]),d.lineTo(J[3][0],J[3][1]),d.closePath(),d.stroke())}else if(K.type==="path"){if(K.waypoints.length===0)return;const J=K.waypoints.map(Q=>{try{return{...Q,projPos:g.forward(Q.geoPosition)}}catch{return{...Q,projPos:null}}}).filter(Q=>Q.projPos!==null);if(J.length>1){d.lineWidth=K.thickness/I,d.beginPath(),d.moveTo(J[0].projPos[0],J[0].projPos[1]);for(let Q=1;Q<J.length;Q++)d.lineTo(J[Q].projPos[0],J[Q].projPos[1]);d.stroke()}if(J.forEach(Q=>{d.beginPath();const ve=$.waypointDotSize/2/I;d.arc(Q.projPos[0],Q.projPos[1],ve,0,2*Math.PI),d.fill(),d.save(),d.translate(Q.projPos[0],Q.projPos[1]),d.scale(1/I,-1/I),d.fillStyle="#ffffff",d.font=`bold ${$.labelFontSize}px sans-serif`,d.textAlign="center",d.textBaseline="bottom",d.strokeStyle="rgba(0,0,0,0.8)",d.lineWidth=2.5,d.strokeText(Q.label,0,-($.waypointDotSize/2+2)),d.fillText(Q.label,0,-($.waypointDotSize/2+2)),d.restore()}),$.showSegmentLengths&&J.length>1)for(let Q=0;Q<J.length-1;Q++){const ve=J[Q],De=J[Q+1],He=De.projPos[0]-ve.projPos[0],V=De.projPos[1]-ve.projPos[1],Ee=Math.sqrt(He*He+V*V),$e=[(ve.projPos[0]+De.projPos[0])/2,(ve.projPos[1]+De.projPos[1])/2],st=`${Ee.toFixed(0)} m`;d.save(),d.translate($e[0],$e[1]);let et=Math.atan2(De.projPos[1]-ve.projPos[1],De.projPos[0]-ve.projPos[0]);(et<-Math.PI/2||et>Math.PI/2)&&(et+=Math.PI),d.rotate(et),d.scale(1/I,-1/I),d.font=`${$.labelFontSize}px sans-serif`;const ot=d.measureText(st),Je=4,jt=$.labelFontSize,ke=jt+Je,rt=ot.width+Je*2,w=-(jt/2+5);d.fillStyle="rgba(26, 32, 44, 0.7)",d.fillRect(-rt/2,w-ke/2,rt,ke),d.fillStyle="#fafafa",d.textAlign="center",d.textBaseline="middle",d.fillText(st,0,w),d.restore()}}d.save();const de=K.type==="path"?K.waypoints.length>0?g.forward(K.waypoints[0].geoPosition):null:K.center;de&&(d.translate(de[0],de[1]),d.scale(1/I,-1/I),d.fillStyle=K.color,d.font=`bold ${$.labelFontSize}px sans-serif`,d.textAlign="center",d.textBaseline="bottom",d.strokeStyle="rgba(0,0,0,0.7)",d.lineWidth=3,d.strokeText(K.name,0,-10),d.fillText(K.name,0,-10)),d.restore()}),ul&&Ft&&ie==="rectangle"&&Ie&&ut&&W){const K=Ie(Ft);if(K){const de=ut(ul,K);if(de){const J={id:"preview",type:"rectangle",name:"Preview",visible:!0,color:"#ff00ff",thickness:2,center:de.center,width:de.width,height:de.height,rotation:de.rotation},Q=ol(J);if(Q&&Q.length===4){d.save(),d.strokeStyle="#ff00ff",d.setLineDash([5/I,5/I]),d.lineWidth=2/I,d.beginPath(),d.moveTo(Q[0][0],Q[0][1]),d.lineTo(Q[1][0],Q[1][1]),d.lineTo(Q[2][0],Q[2][1]),d.lineTo(Q[3][0],Q[3][1]),d.closePath(),d.stroke(),d.restore(),d.save(),d.fillStyle="#ff00ff";const ve=10/I;[ul,K].forEach(De=>{d.fillRect(De[0]-ve/2,De[1]-ve/2,ve,ve)}),d.restore()}}}}if((ie==="path"||Te)&&Ft&&g&&v){const K=G.find(de=>de.id===v&&de.type==="path");if(K&&K.waypoints.length>0){const de=K.waypoints[K.waypoints.length-1],J=g.forward(de.geoPosition),Q=Fe.defaultMaxSegmentLength;let ve=Ft,De=null,He=0,V=!1;if(Q)try{const $e=de.geoPosition;De=Q;const st=Ft[0]-J[0],et=Ft[1]-J[1],ot=Math.sqrt(st*st+et*et);V=ot>De;const Je=proj4("EPSG:4326",g).inverse(Ft);if(He=Sy($e,[Je[0],Je[1]]),ot>De){const jt=De/ot;ve=[J[0]+st*jt,J[1]+et*jt]}}catch{}d.save(),d.strokeStyle=K.color,d.setLineDash([10/I,10/I]),d.lineWidth=K.thickness/I,d.beginPath(),d.moveTo(J[0],J[1]),d.lineTo(ve[0],ve[1]),d.stroke(),d.restore(),d.save(),d.fillStyle=K.color,d.globalAlpha=.6;const Ee=$.waypointDotSize/2/I;if(d.beginPath(),d.arc(ve[0],ve[1],Ee,0,2*Math.PI),d.fill(),d.restore(),Q&&De){d.save(),d.strokeStyle=K.color,d.setLineDash([15/I,10/I]),d.lineWidth=1/I,d.globalAlpha=.5,d.beginPath(),d.arc(J[0],J[1],De,0,2*Math.PI),d.stroke(),d.restore();try{d.save(),d.translate(Ft[0],Ft[1]),d.scale(1/I,-1/I);const $e=`${He.toFixed(0)} m`;d.fillStyle=V?"#ff5555":"#ffffff",d.font="bold 14px sans-serif",d.textAlign="left",d.textBaseline="bottom",d.strokeStyle="rgba(0,0,0,0.8)",d.lineWidth=2.5,d.strokeText($e,10,-10),d.fillText($e,10,-10),d.restore()}catch{}}}}if(he){const K=u.find(de=>de.id===he&&de.type==="image");if(K&&K.type==="image"){const de=K,J=de.originalWidth*de.scaleX,Q=de.originalHeight*de.scaleY;d.save(),d.translate(de.position[0],de.position[1]);const ve=de.rotation*Math.PI/180;d.rotate(ve),d.strokeStyle="#00ffff",d.lineWidth=2/I,d.strokeRect(-J/2,-Q/2,J,Q);const De=12/I;d.fillStyle="#00ffff",[[-J/2,-Q/2],[J/2,-Q/2],[J/2,Q/2],[-J/2,Q/2]].forEach(Ee=>{d.fillRect(Ee[0]-De/2,Ee[1]-De/2,De,De)}),d.fillStyle="#ffff00",[[0,-Q/2],[J/2,0],[0,Q/2],[-J/2,0]].forEach(Ee=>{d.beginPath(),d.arc(Ee[0],Ee[1],De/2,0,2*Math.PI),d.fill()}),d.fillStyle="#ff00ff",d.beginPath(),d.arc(0,0,De/2,0,2*Math.PI),d.fill(),d.restore()}}d.restore()},[G,O,g,$,ul,Ft,ie,Ie,ut,ol,W,u,he,Te,v,Fe]),S.useEffect(()=>{const Z=Ia.current;if(!Z||!O||!W||!g)return;const ee=window.devicePixelRatio||1,{clientWidth:T,clientHeight:F}=Z.parentElement;Z.width=T*ee,Z.height=F*ee;const d=Z.getContext("2d");if(d.clearRect(0,0,Z.width,Z.height),me.length===0)return;d.save();const{center:oe,scale:je}=O;d.translate(d.canvas.width/2,d.canvas.height/2);const I=je*ee;d.scale(I,-I),d.translate(-oe[0],-oe[1]);const[fe,K]=z,[de,J]=R,Q=g.forward([fe,J]),ve=g.forward([K,J]),De=g.forward([fe,de]),{width:He,height:V}=W.dimensions,Ee=(ve[0]-Q[0])/He,$e=(ve[1]-Q[1])/He,st=(De[0]-Q[0])/V,et=(De[1]-Q[1])/V,ot=Q[0],Je=Q[1];d.strokeStyle=Qe,d.lineWidth=2/(je*ee),d.beginPath();for(const jt of me){const ke=jt.x,rt=jt.y,w=[Ee*ke+st*rt+ot,$e*ke+et*rt+Je],Y=[Ee*(ke+1)+st*rt+ot,$e*(ke+1)+et*rt+Je],q=[Ee*(ke+1)+st*(rt+1)+ot,$e*(ke+1)+et*(rt+1)+Je],le=[Ee*ke+st*(rt+1)+ot,$e*ke+et*(rt+1)+Je];d.moveTo(w[0],w[1]),d.lineTo(Y[0],Y[1]),d.lineTo(q[0],q[1]),d.lineTo(le[0],le[1]),d.closePath()}d.stroke(),d.restore()},[me,Qe,O,W,g,z,R]);const qt=S.useCallback(Z=>{if(p(Z),!Z||!qe){r(null);return}const ee=qe(Z.lat,Z.lon);if(ee){const T=[...u].reverse().find(F=>F.visible&&(F.type==="data"||F.type==="analysis"||F.type==="dte_comms"||F.type==="lpf_comms"));r(T?{...ee,layerId:T.id}:null)}else r(null)},[qe,u,p,r]),ba=S.useCallback((Z,ee)=>{if(Z)if(ie==="path"){const T=G.find(F=>F.id===v&&F.type==="path");if(T){let F=[Z.lon,Z.lat];const d=Fe.defaultMaxSegmentLength;if(d&&T.waypoints.length>0){const je=T.waypoints[T.waypoints.length-1],I=g.forward(je.geoPosition),fe=ee[0]-I[0],K=ee[1]-I[1],de=Math.sqrt(fe*fe+K*K);if(de>d){const J=d/de,Q=[I[0]+fe*J,I[1]+K*J],ve=proj4("EPSG:4326",g).inverse(Q);F=[ve[0],ve[1]]}}const oe={id:`wp-${Date.now()}`,geoPosition:F,label:`WP${T.waypoints.length+1}`};A(v,{waypoints:[...T.waypoints,oe]})}else{const F=`path-${Date.now()}`,d={id:`wp-${Date.now()}`,geoPosition:[Z.lon,Z.lat],label:"WP1"},oe={id:F,type:"path",name:`Path ${G.length+1}`,visible:!0,color:"#ffff00",thickness:2,waypoints:[d]};E(je=>[...je,oe]),Ae(F)}}else if(ie){const T=`${ie}-${Date.now()}`;if(ie==="circle"){const F={id:T,type:"circle",name:`Circle ${G.length+1}`,visible:!0,color:"#00ffff",thickness:2,center:ee,radius:500};E(d=>[...d,F]),Ae(T),y()}else if(ie==="rectangle")if(ul){const F=Ie?Ie(ee):ee;if(ut){const d=ut(ul,F);if(d&&d.width>0&&d.height>0){const oe={id:T,type:"rectangle",name:`Rectangle ${G.length+1}`,visible:!0,color:"#ff00ff",thickness:2,center:d.center,width:d.width,height:d.height,rotation:d.rotation};E(je=>[...je,oe]),Ae(T)}}xa(null),y()}else{const F=Ie?Ie(ee):ee;xa(F)}}else if(Te){const T=G.find(F=>F.id===v);if(T&&T.type==="path"){let F=[Z.lon,Z.lat];const d=Fe.defaultMaxSegmentLength;if(d&&T.waypoints.length>0){const je=T.waypoints[T.waypoints.length-1],I=g.forward(je.geoPosition),fe=ee[0]-I[0],K=ee[1]-I[1],de=Math.sqrt(fe*fe+K*K);if(de>d){const J=d/de,Q=[I[0]+fe*J,I[1]+K*J],ve=proj4("EPSG:4326",g).inverse(Q);F=[ve[0],ve[1]]}}const oe={id:`wp-${Date.now()}`,geoPosition:F,label:`WP${T.waypoints.length+1}`};A(v,{waypoints:[...T.waypoints,oe]})}}else if(P==="measurement"){const T=qe?qe(Z.lat,Z.lon):null;T&&k(F=>{const d=F.findIndex(oe=>oe.x===T.x&&oe.y===T.y);return d>-1?[...F.slice(0,d),...F.slice(d+1)]:[...F,T]})}else bl?Ae(bl):Tt||Ae(null)},[ie,Te,P,G,v,y,E,Ae,A,qe,k,bl,Tt,ul,Ie,ut,Fe,g]),Lt=S.useCallback((Z,ee)=>{if(Te)return;const T=G.find(F=>F.id===Z.artifactId);if(!(!T||!g)){if(Z.waypointId)Ye({artifactId:Z.artifactId,waypointId:Z.waypointId,initialMousePos:ee});else if(T.type==="circle"||T.type==="rectangle")Ye({artifactId:Z.artifactId,initialMousePos:ee,initialCenter:T.center});else if(T.type==="path"){const F=T.waypoints.map(d=>g.forward(d.geoPosition));Ye({artifactId:Z.artifactId,initialMousePos:ee,initialWaypointProjPositions:F})}Ae(Z.artifactId)}},[G,g,Te,Ye,Ae]),wn=S.useCallback(Z=>{if(!(!Me||!g))if(Me.waypointId)E(ee=>ee.map(T=>{if(T.id===Me.artifactId&&T.type==="path")try{const F=g.inverse(Z),d=T.waypoints.map(oe=>oe.id===Me.waypointId?{...oe,geoPosition:F}:oe);return{...T,waypoints:d}}catch{return T}return T}));else{const ee=Z[0]-Me.initialMousePos[0],T=Z[1]-Me.initialMousePos[1];E(F=>F.map(d=>{if(d.id===Me.artifactId){if((d.type==="circle"||d.type==="rectangle")&&Me.initialCenter){const oe=[Me.initialCenter[0]+ee,Me.initialCenter[1]+T];if(d.type==="rectangle"&&Ie&&ut){const je=d.rotation*Math.PI/180,I=Math.cos(je),fe=Math.sin(je),K=[-d.width/2,-d.height/2],de=[oe[0]+K[0]*I-K[1]*fe,oe[1]+K[0]*fe+K[1]*I],J=Ie(de);if(J){const Q=[d.width/2,d.height/2],ve=[oe[0]+Q[0]*I-Q[1]*fe,oe[1]+Q[0]*fe+Q[1]*I],De=Ie(ve);if(De){const He=ut(J,De);if(He)return{...d,center:He.center,width:He.width,height:He.height,rotation:He.rotation}}}}return{...d,center:oe}}else if(d.type==="path"&&Me.initialWaypointProjPositions){const oe=d.waypoints.map((je,I)=>{const fe=Me.initialWaypointProjPositions[I],K=[fe[0]+ee,fe[1]+T];try{const de=g.inverse(K);return{...je,geoPosition:de}}catch{return je}});return{...d,waypoints:oe}}}return d}))}},[Me,g,E,Ie,ut]),Nt=S.useCallback(()=>{Ye(null)},[Ye]),Sa=S.useCallback(Z=>{const ee=_t(Z.nativeEvent.offsetX,Z.nativeEvent.offsetY);en(ee);try{if(ll&&ee){const T=ll,F=u.find(d=>d.id===T.layerId&&d.type==="image");if(F&&F.type==="image"){if(T.handleType==="center"){const d=ee[0]-T.initialMouseProj[0],oe=ee[1]-T.initialMouseProj[1];Pe(T.layerId,{position:[T.initialPosition[0]+d,T.initialPosition[1]+oe]})}else if(T.handleType==="corner"&&T.handleIndex!==void 0){const d=T.initialRotation*Math.PI/180,oe=Math.cos(-d),je=Math.sin(-d),I=T.initialMouseProj[0]-T.initialPosition[0],fe=T.initialMouseProj[1]-T.initialPosition[1],K=[I*oe-fe*je,I*je+fe*oe],de=ee[0]-T.initialPosition[0],J=ee[1]-T.initialPosition[1],Q=[de*oe-J*je,de*je+J*oe],ve=T.handleIndex,De=F.originalWidth*T.initialScaleX,He=F.originalHeight*T.initialScaleY;let V=T.initialScaleX,Ee=T.initialScaleY;ve===0||ve===3?V=T.initialScaleX*(1-2*(Q[0]-K[0])/De):V=T.initialScaleX*(1+2*(Q[0]-K[0])/De),ve===0||ve===1?Ee=T.initialScaleY*(1-2*(Q[1]-K[1])/He):Ee=T.initialScaleY*(1+2*(Q[1]-K[1])/He),V=Math.max(.1,Math.min(10,V)),Ee=Math.max(.1,Math.min(10,Ee)),Pe(T.layerId,{scaleX:V,scaleY:Ee})}else if(T.handleType==="edge"&&T.handleIndex!==void 0){const d=ee[0]-T.initialPosition[0],oe=ee[1]-T.initialPosition[1],je=Math.atan2(oe,d)*180/Math.PI,I=T.initialMouseProj[0]-T.initialPosition[0],fe=T.initialMouseProj[1]-T.initialPosition[1],K=Math.atan2(fe,I)*180/Math.PI;let de=T.initialRotation+(je-K);for(;de>180;)de-=360;for(;de<-180;)de+=360;Pe(T.layerId,{rotation:de})}}return}}catch(T){console.error("Error in image layer transformation:",T)}if(Me&&ee){wn(ee);return}if(tl.current&&O){const T=Z.clientX-cl.current.x,F=Z.clientY-cl.current.y,d=window.devicePixelRatio||1,oe=[O.center[0]-T/(O.scale*d),O.center[1]+F/(O.scale*d)];X({...O,center:oe}),cl.current={x:Z.clientX,y:Z.clientY}}if(ee&&g&&O){let T=null,F=null;if(ie===null&&!Te){const d=window.devicePixelRatio||1,oe=O.scale*d,I=$.waypointDotSize*.75/oe;for(let fe=G.length-1;fe>=0;fe--){const K=G[fe];if(!K.visible)continue;let de=!1;if(K.type==="path")for(const Q of K.waypoints)try{const ve=g.forward(Q.geoPosition);if(Math.sqrt(Math.pow(ee[0]-ve[0],2)+Math.pow(ee[1]-ve[1],2))<I){T={artifactId:K.id,waypointId:Q.id},de=!0;break}}catch{}if(de)break;let J=!1;if(K.type==="circle")Math.sqrt(Math.pow(ee[0]-K.center[0],2)+Math.pow(ee[1]-K.center[1],2))<=K.radius&&(J=!0);else if(K.type==="rectangle"){const Q=K.width,ve=K.height,De=-K.rotation*Math.PI/180,He=ee[0]-K.center[0],V=ee[1]-K.center[1],Ee=He*Math.cos(De)-V*Math.sin(De),$e=He*Math.sin(De)+V*Math.cos(De);Math.abs(Ee)<=Q/2&&Math.abs($e)<=ve/2&&(J=!0)}else K.type;if(J){F=K.id;break}}}jn(T),Sn(T?null:F);try{const[d,oe]=proj4("EPSG:4326",g).inverse(ee);qt({lat:oe,lon:d})}catch{U()}}else U(),Sn(null),jn(null)},[O,X,_t,g,qt,U,Me,wn,G,ie,$,Te,ll,u,Pe]),nl=Z=>{cl.current={x:Z.clientX,y:Z.clientY};const ee=_t(Z.nativeEvent.offsetX,Z.nativeEvent.offsetY);if(ee&&Z.button===0){try{const T=kt(ee);if(T){const F=u.find(d=>d.id===T.layerId&&d.type==="image");if(F&&F.type==="image"){ta({layerId:T.layerId,handleType:T.handleType,handleIndex:T.handleIndex,initialMouseProj:ee,initialPosition:F.position,initialScaleX:F.scaleX,initialScaleY:F.scaleY,initialRotation:F.rotation});return}}}catch(T){console.error("Error checking image layer handle:",T)}P==="artifacts"?Tt?Lt({artifactId:Tt.artifactId,waypointId:Tt.waypointId},ee):bl?Lt({artifactId:bl},ee):tl.current=!0:tl.current=!0}},Gl=Z=>{const ee=tl.current&&Math.abs(Z.clientX-cl.current.x)<2&&Math.abs(Z.clientY-cl.current.y)<2,T=tl.current;if(tl.current=!1,ll){ta(null);return}if(Me){Nt();return}if(T&&ee){const F=_t(Z.nativeEvent.offsetX,Z.nativeEvent.offsetY),d=g&&F?(()=>{try{const[oe,je]=proj4("EPSG:4326",g).inverse(F);return{lat:je,lon:oe}}catch{return null}})():null;F&&d&&ba(d,F)}},ja=()=>{tl.current=!1,U(),ll&&ta(null),Me&&Nt()},Kl=S.useCallback(Z=>{O&&X({...O,scale:O.scale*Z})},[O,X]),Jl=S.useCallback(()=>{xl&&X(xl)},[xl,X]),Nn=S.useMemo(()=>{if(ie||Te)return"crosshair";if(ll){if(ll.handleType==="center")return"move";if(ll.handleType==="corner")return"nwse-resize";if(ll.handleType==="edge")return"grab"}return Me?"grabbing":Tt||bl?"grab":P==="measurement"?"copy":tl.current?"grabbing":"default"},[ie,Te,Me,Tt,bl,P,tl.current,ll]);return ye?s.jsxs("div",{ref:vt,className:"w-full h-full relative",onMouseDown:nl,onMouseMove:Sa,onMouseUp:Gl,onMouseLeave:ja,style:{cursor:Nn},children:[Qt&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/50 z-50",children:s.jsx(jy,{})}),s.jsx("canvas",{ref:yt,className:"pixelated absolute inset-0 w-full h-full z-0"}),s.jsx("canvas",{ref:zl,className:"pixelated absolute inset-0 w-full h-full z-10"}),s.jsx("canvas",{ref:Dl,className:"absolute inset-0 w-full h-full z-20 pointer-events-none"}),s.jsx("canvas",{ref:Rl,className:"absolute inset-0 w-full h-full z-30 pointer-events-none"}),s.jsx("canvas",{ref:Ia,className:"absolute inset-0 w-full h-full z-40 pointer-events-none"}),s.jsx(gy,{onZoomIn:()=>Kl(1.5),onZoomOut:()=>Kl(1/1.5),onResetView:Jl})]}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-center text-gray-400 bg-gray-900/50 rounded-lg",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:"No Data Loaded"}),s.jsx("p",{className:"mt-2",children:"Use the Layers panel to load a basemap or data file."})]})})},Pl={top:10,right:30,bottom:20,left:50},Ny=()=>{const{primaryDataLayer:u,timeSeriesData:f,timeRange:p,fullTimeDomain:r,timeZoomDomain:y,onZoomToSelection:A,onResetZoom:U,activeLayer:R,nightfallPlotYAxisRange:z}=pl(),h=!!u,b=(f==null?void 0:f.range)??null,g=(R==null?void 0:R.type)==="analysis"&&R.analysisType==="nightfall"?"days":void 0,O=(R==null?void 0:R.type)==="analysis"&&R.analysisType==="nightfall"?z:void 0,X=((R==null?void 0:R.type)==="analysis"||(R==null?void 0:R.type)==="data"||(R==null?void 0:R.type)==="dte_comms"||(R==null?void 0:R.type)==="lpf_comms")&&R.colormap==="Custom"?R.customColormap:void 0,W=S.useRef(null),re=S.useRef(null),[we,ue]=S.useState({width:0,height:0});S.useEffect(()=>{const Me=re.current;if(!Me)return;const Ye=new ResizeObserver($=>{if($[0]){const{width:Te,height:qe}=$[0].contentRect;ue({width:Te,height:qe})}});return Ye.observe(Me),()=>Ye.disconnect()},[]);const se=we.width-Pl.left-Pl.right,P=we.height-Pl.top-Pl.bottom,me=S.useMemo(()=>{if(!(f!=null&&f.data))return[];const Me=g==="days";return f.data.map((Ye,$)=>{const Te=Wt($),qe=Me?Ye/24:Ye;return{date:Te,value:qe}})},[f,g]);S.useEffect(()=>{if(!h||!f||!b||!y||se<=0||P<=0){d3.select(W.current).selectAll("*").remove();return}const Me=d3.select(W.current);Me.selectAll("*").remove();const Ye=Me.append("g").attr("transform",`translate(${Pl.left},${Pl.top})`),$=g==="days";let Te;O?Te=[O.min,O.max]:Te=$?[b.min/24,b.max/24]:[b.min,b.max];const qe=d3.scaleUtc().domain(y).range([0,se]),Ie=d3.scaleLinear().domain(Te).range([P,0]).nice();if(Ye.append("clipPath").attr("id","clip").append("rect").attr("width",se).attr("height",P),p){const k=Wt(p.start),he=Wt(p.end);Ye.append("rect").attr("x",qe(k)).attr("y",0).attr("width",qe(he)-qe(k)).attr("height",P).attr("fill","rgba(79, 209, 197, 0.2)")}if(X){const k=[];for(let he=0;he<X.length;he++){const Pe=X[he],Fe=X[he+1],v=vt=>$?vt/24:vt,L=v(Pe.value),ce=Fe?v(Fe.value):Te[1],ye=Math.min(Te[1],ce),Le=Math.max(Te[0],L),Be=Ie(ye),Xe=Ie(Le)-Be;Xe>0&&k.push({y:Be,height:Xe,color:Pe.color})}Ye.append("g").attr("class","threshold-bands").attr("clip-path","url(#clip)").selectAll("rect").data(k).enter().append("rect").attr("x",0).attr("width",se).attr("y",he=>he.y).attr("height",he=>he.height).attr("fill",he=>he.color).attr("opacity",.2)}const ut=d3.line().x(k=>qe(k.date)).y(k=>Ie(k.value));Ye.append("path").datum(me).attr("clip-path","url(#clip)").attr("fill","none").attr("stroke","#4FD1C5").attr("stroke-width",1.5).attr("d",ut);const Ae=d3.axisBottom(qe).ticks(se/80).tickSizeOuter(0),E=d3.axisLeft(Ie).ticks(P/30).tickSize(-se).tickFormat(k=>$?`${k.valueOf().toFixed(1)} days`:k.valueOf().toString());Ye.append("g").attr("transform",`translate(0,${P})`).call(Ae).call(k=>k.select(".domain").remove()).call(k=>k.selectAll(".tick text").attr("fill","#90CDF4").style("font-size","10px")),Ye.append("g").call(E).call(k=>k.select(".domain").remove()).call(k=>k.selectAll(".tick line").attr("stroke-opacity",.1).attr("stroke-dasharray","2,2")).call(k=>k.selectAll(".tick text").attr("x",-4).attr("fill","#90CDF4").style("font-size","10px"))},[h,f,p,b,se,P,me,y,g,O,X]);const Qe=S.useMemo(()=>y&&r&&y[0].getTime()===r[0].getTime()&&y[1].getTime()===r[1].getTime(),[y,r]),G=S.useMemo(()=>{if(!p||!r)return null;if(p.start===p.end){const Me=Wt(p.start),Ye=720*60*1e3;return[new Date(Math.max(r[0].getTime(),Me.getTime()-Ye)),new Date(Math.min(r[1].getTime(),Me.getTime()+Ye))]}else return[Wt(p.start),Wt(p.end)]},[p,r]),ie=S.useMemo(()=>y&&G&&y[0].getTime()===G[0].getTime()&&y[1].getTime()===G[1].getTime(),[y,G]);return s.jsxs("section",{className:"bg-gray-800/70 border-t border-gray-700 h-32 flex-shrink-0 relative group",children:[h&&s.jsxs("div",{className:"absolute top-2 right-4 z-10 flex gap-2",children:[s.jsx("button",{onClick:A,disabled:ie,className:"text-xs bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed text-cyan-300 px-2 py-1 rounded-md transition-colors shadow-md",title:"Fit selected time range to view",children:"Zoom to Selection"}),s.jsx("button",{onClick:U,disabled:Qe,className:"text-xs bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed text-cyan-300 px-2 py-1 rounded-md transition-colors shadow-md",title:"Reset zoom to full time range",children:"Reset Zoom"})]}),s.jsx("div",{ref:re,className:"w-full h-full",children:h&&f?s.jsx("svg",{ref:W,width:we.width,height:we.height}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-sm",children:h?"Hover over the map to see a time series plot":"Load data to view plots"})})]})},My=()=>{const{primaryDataLayer:u,timeRange:f,handleManualTimeRangeChange:p,timeZoomDomain:r}=pl(),y=!!u,A=u?u.dimensions.time-1:0,U=S.useRef(null),R=S.useRef(null),z=S.useRef(null),[h,b]=S.useState(0),[g,O]=S.useState(null);S.useEffect(()=>{const se=R.current;if(!se)return;const P=new ResizeObserver(me=>{me[0]&&b(me[0].contentRect.width)});return P.observe(se),()=>P.disconnect()},[]);const X=S.useMemo(()=>h===0||!r?d3.scaleUtc():d3.scaleUtc().domain(r).range([Pl.left,h-Pl.right]),[r,h]),W=S.useMemo(()=>{if(!y||h<100||!r)return[];const[se,P]=r,me=(P.getTime()-se.getTime())/(1e3*60*60);let Qe,G;return me<=48?(Qe=X.ticks(d3.utcHour.every(3)),G=d3.utcFormat("%H:%M")):me<=720?(Qe=X.ticks(d3.utcDay.every(1)),G=d3.utcFormat("%d")):(Qe=X.ticks(d3.utcMonth.every(1)),G=d3.utcFormat("%b")),Qe.map(ie=>({date:ie,label:G(ie),isMajor:ie.getUTCHours()===0&&ie.getUTCMinutes()===0}))},[h,r,y,X]),re=S.useCallback((se,P=!1)=>{if(!y||!f)return;const me=U.current;if(!me)return;const Qe=me.getBoundingClientRect(),G=se.clientX-Qe.left,ie=X.invert(G),Me=Math.max(0,Math.min(A,Fh(ie)));if(P){const Ye=X(Wt(f.start)),$=X(Wt(f.end)),Te=Math.abs(G-Ye),qe=Math.abs(G-$),Ie=20;Te<qe&&Te<Ie?O("start"):qe<Ie?O("end"):Te<qe?O("start"):O("end")}else g&&(z.current!==null&&cancelAnimationFrame(z.current),z.current=requestAnimationFrame(()=>{p(g==="start"?{...f,start:Math.min(Me,f.end)}:{...f,end:Math.max(Me,f.start)}),z.current=null}))},[X,p,A,y,f,g]);S.useEffect(()=>{const se=()=>{O(null),z.current!==null&&(cancelAnimationFrame(z.current),z.current=null)},P=me=>{g&&re(me,!1)};return g&&(window.addEventListener("mousemove",P),window.addEventListener("mouseup",se)),()=>{window.removeEventListener("mousemove",P),window.removeEventListener("mouseup",se),z.current!==null&&(cancelAnimationFrame(z.current),z.current=null)}},[g,re]),S.useEffect(()=>{const se=P=>{if(!(!y||!f)){if(P.key==="ArrowLeft"){P.preventDefault();const me=Math.max(0,f.start-1);me!==f.start&&p({...f,start:me})}else if(P.key==="ArrowRight"){P.preventDefault();const me=Math.min(f.end,f.start+1);me!==f.start&&p({...f,start:me})}}};return window.addEventListener("keydown",se),()=>{window.removeEventListener("keydown",se)}},[y,f,p]);const we=f?X(Wt(f.start)):0,ue=f?X(Wt(f.end)):0;return s.jsx("section",{className:"bg-gray-800/70 backdrop-blur-sm border-t border-gray-700 w-full flex-shrink-0 z-40 h-[50px]",children:s.jsx("div",{ref:R,className:"w-full h-full relative",children:s.jsxs("svg",{ref:U,width:h,height:50,className:`absolute inset-0 ${y?"cursor-ew-resize":"opacity-50"}`,onMouseDown:se=>re(se,!0),children:[s.jsx("line",{x1:Pl.left,y1:25,x2:h-Pl.right,y2:25,stroke:"#4A5568",strokeWidth:"2"}),y&&W.map(({date:se,label:P,isMajor:me})=>{const Qe=X(se);return s.jsxs("g",{children:[s.jsx("line",{x1:Qe,y1:me?15:20,x2:Qe,y2:35,stroke:"#A0AEC0",strokeWidth:"1"}),P&&s.jsx("text",{x:Qe,y:12,fill:"#90CDF4",fontSize:"10",textAnchor:"middle",children:P})]},se.toISOString())}),y&&f&&h>0&&s.jsxs("g",{children:[s.jsx("rect",{x:we,y:"21",width:ue-we,height:"8",fill:"rgba(79, 209, 197, 0.5)"}),s.jsx("line",{x1:we,y1:10,x2:we,y2:40,stroke:"#4FD1C5",strokeWidth:"2"}),s.jsx("circle",{cx:we,cy:25,r:"6",fill:"#4FD1C5",stroke:"#1A202C",strokeWidth:"2"}),s.jsx("line",{x1:ue,y1:10,x2:ue,y2:40,stroke:"#4FD1C5",strokeWidth:"2"}),s.jsx("circle",{cx:ue,cy:25,r:"6",fill:"#4FD1C5",stroke:"#1A202C",strokeWidth:"2"})]})]})})})},Cy=({requiredFiles:u,onCancel:f,onConfirm:p})=>{const[r,y]=S.useState(null);return s.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg text-gray-200 border border-gray-700",children:[s.jsx("h2",{className:"text-xl font-bold text-cyan-300 mb-4",children:"Restore Session"}),s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"To continue, please provide the following data file(s) from your original session:"}),s.jsx("ul",{className:"list-disc list-inside bg-gray-900/50 p-3 rounded-md mb-4 text-sm font-mono",children:u.map(A=>s.jsx("li",{children:A},A))}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select all required files below."}),s.jsx("div",{children:s.jsx("input",{type:"file",multiple:!0,accept:".npy,.png,.vrt",onChange:A=>y(A.target.files),className:"w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-cyan-600 file:text-white hover:file:bg-cyan-500"})}),s.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[s.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-md text-sm font-semibold",children:"Cancel"}),s.jsx("button",{onClick:()=>r&&p(r),disabled:!r||r.length===0,className:"px-4 py-2 bg-teal-600 hover:bg-teal-500 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed rounded-md text-sm font-semibold",children:"Load Session"})]})]})})},$a=({label:u,value:f})=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-gray-400 text-xs",children:[u,":"]}),s.jsx("span",{className:"font-mono text-cyan-300 text-xs",children:f})]}),Ty=()=>{const{hoveredCoords:u,timeRange:f,primaryDataLayer:p}=pl();return p?s.jsxs("section",{className:"bg-gray-800/70 border-y border-gray-700 w-full flex-shrink-0 z-40 px-4 py-1 flex items-center justify-between flex-wrap gap-x-6 gap-y-1",children:[s.jsxs("div",{className:"flex items-center gap-x-4",children:[s.jsx($a,{label:"Lat",value:u?u.lat.toFixed(4):"---"}),s.jsx($a,{label:"Lon",value:u?u.lon.toFixed(4):"---"})]}),f?s.jsxs("div",{className:"flex items-center gap-x-4",children:[s.jsx($a,{label:"Start",value:y0(f.start)}),s.jsx($a,{label:"End",value:y0(f.end)}),s.jsx($a,{label:"Duration",value:`${f.end-f.start+1} hrs`})]}):s.jsxs("div",{className:"flex items-center gap-x-4",children:[s.jsx($a,{label:"Start",value:"---"}),s.jsx($a,{label:"End",value:"---"}),s.jsx($a,{label:"Duration",value:"---"})]})]}):null};class Qi extends S.Component{constructor(f){super(f),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleReload=()=>{window.location.reload()},this.handleClearStorage=()=>{confirm("This will clear all saved data and reload the page. Continue?")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},this.state={hasError:!1,error:null,errorInfo:null,copied:!1}}static getDerivedStateFromError(f){return{hasError:!0,error:f}}componentDidCatch(f,p){console.error("Error Boundary caught an error:",f,p),this.setState({error:f,errorInfo:p}),this.props.onError&&this.props.onError(f,p)}render(){var f;return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"h-screen w-screen bg-gray-900 text-gray-200 flex items-center justify-center p-8",children:s.jsxs("div",{className:"max-w-2xl w-full bg-gray-800 rounded-lg shadow-2xl p-8 border border-red-500/30",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("svg",{className:"w-12 h-12 text-red-500 mr-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("h1",{className:"text-3xl font-bold text-red-500",children:"Something Went Wrong"})]}),s.jsx("p",{className:"text-gray-300 mb-6 text-lg",children:"The application encountered an unexpected error. Don't worry, your work may still be recoverable."}),s.jsxs("details",{className:"mb-6 bg-gray-900/50 rounded p-4 border border-gray-700",children:[s.jsx("summary",{className:"cursor-pointer text-gray-400 hover:text-gray-200 font-medium mb-2",children:"View Technical Details"}),s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-red-400 mb-1",children:"Error:"}),s.jsx("pre",{className:"text-xs bg-black/30 p-3 rounded overflow-x-auto text-red-300",children:(f=this.state.error)==null?void 0:f.toString()})]}),this.state.errorInfo&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-400 mb-1",children:"Component Stack:"}),s.jsx("pre",{className:"text-xs bg-black/30 p-3 rounded overflow-x-auto text-yellow-300",children:this.state.errorInfo.componentStack})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 bg-cyan-600 hover:bg-cyan-500 text-white rounded font-medium transition-colors",children:"Try Again"}),s.jsx("button",{onClick:this.handleReload,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded font-medium transition-colors",children:"Reload Page"}),s.jsx("button",{onClick:this.handleClearStorage,className:"px-6 py-3 bg-red-600 hover:bg-red-500 text-white rounded font-medium transition-colors",children:"Clear Data & Reset"}),s.jsx("button",{onClick:()=>{var r,y;const p=`Error: ${(r=this.state.error)==null?void 0:r.toString()}

Stack: ${(y=this.state.errorInfo)==null?void 0:y.componentStack}`;navigator.clipboard.writeText(p),this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),2e3)},className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded font-medium transition-colors",children:this.state.copied?" Copied!":"Copy Error Details"})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-500/30 rounded",children:s.jsxs("p",{className:"text-sm text-blue-300",children:[s.jsx("strong",{children:"Tip:"}),' If this error persists, try clearing your browser cache or using "Clear Data & Reset" above.']})})]})}):this.props.children}}const Ey=({message:u,progress:f,onCancel:p,show:r})=>{if(!r)return null;const y=f===void 0;return s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl p-8 max-w-md w-full mx-4 border border-gray-700",children:[y&&s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("svg",{className:"animate-spin h-12 w-12 text-cyan-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),s.jsx("p",{className:"text-lg text-gray-200 text-center mb-4",children:u}),!y&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 mb-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 h-full transition-all duration-300 ease-out rounded-full",style:{width:`${Math.min(100,Math.max(0,f))}%`}})}),s.jsxs("p",{className:"text-sm text-gray-400 text-center",children:[Math.round(f),"%"]})]}),p&&s.jsx("button",{onClick:p,className:"mt-6 w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-200 rounded transition-colors",children:"Cancel"})]})})};function Ay(u,f=!0){const p=S.useCallback(r=>{if(!f)return;const y=r.target;if(!(y.tagName==="INPUT"||y.tagName==="TEXTAREA"||y.contentEditable==="true"))for(const A of u){const U=r.key.toLowerCase()===A.key.toLowerCase(),R=A.ctrl===void 0||r.ctrlKey===A.ctrl,z=A.shift===void 0||r.shiftKey===A.shift,h=A.alt===void 0||r.altKey===A.alt;if(U&&R&&z&&h){r.preventDefault(),A.action();break}}},[u,f]);S.useEffect(()=>{if(f)return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[p,f])}const zy=()=>{const{importRequest:u,handleRestoreSession:f,setImportRequest:p,activeTool:r,onToolSelect:y,primaryDataLayer:A,isLoading:U,onTogglePlay:R,handleManualTimeRangeChange:z,timeRange:h}=pl(),b=oc.useMemo(()=>{if(!U)return;const g=U.match(/(\d+)%/);return g?parseInt(g[1],10):void 0},[U]);return Ay([{key:" ",description:"Play/Pause time animation",action:()=>{A&&h&&R()}},{key:"ArrowLeft",description:"Previous time step",action:()=>{h&&h.start>0&&z({start:h.start-1,end:h.start-1})}},{key:"ArrowRight",description:"Next time step",action:()=>{h&&A&&h.start<A.dimensions.time-1&&z({start:h.start+1,end:h.start+1})}},{key:"1",description:"Switch to Layers tool",action:()=>y("layers")},{key:"2",description:"Switch to Pan tool",action:()=>y("pan")},{key:"3",description:"Switch to Zoom tool",action:()=>y("zoom")},{key:"4",description:"Switch to Cell Select tool",action:()=>y("cellSelect")},{key:"5",description:"Switch to Multi-Cell Select tool",action:()=>y("multiCellSelect")}],!U),s.jsxs("div",{className:"h-screen bg-gray-900 text-gray-200 flex flex-row font-sans overflow-hidden",children:[u&&s.jsx(Cy,{requiredFiles:u.requiredFiles,onCancel:()=>p(null),onConfirm:g=>f(u.config,g)}),s.jsx(Ey,{show:!!U,message:U||"",progress:b}),s.jsx(Vh,{activeTool:r,onToolSelect:y}),s.jsx(yy,{}),s.jsxs("main",{className:"flex-grow flex flex-col min-w-0",children:[s.jsx("section",{className:"flex-grow flex items-center justify-center bg-black/20 p-4 sm:p-6 lg:p-8 relative",children:s.jsx(Qi,{fallback:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"text-red-500 text-xl mb-4",children:"Canvas Error"}),s.jsx("p",{className:"text-gray-400",children:"The map canvas encountered an error. Try reloading the page."})]}),children:s.jsx(wy,{})})}),A&&s.jsxs(s.Fragment,{children:[s.jsx(Qi,{fallback:s.jsx("div",{className:"h-8 bg-gray-800"}),children:s.jsx(Ty,{})}),s.jsx(Qi,{fallback:s.jsx("div",{className:"h-48 bg-gray-800"}),children:s.jsx(Ny,{})}),s.jsx(Qi,{fallback:s.jsx("div",{className:"h-20 bg-gray-800"}),children:s.jsx(My,{})})]})]})]})},M0=document.getElementById("root");if(!M0)throw new Error("Could not find root element to mount to");const Dy=Bh.createRoot(M0);Dy.render(s.jsx(oc.StrictMode,{children:s.jsx(Qi,{children:s.jsx(Ih,{children:s.jsx(ty,{children:s.jsx(zy,{})})})})}));
