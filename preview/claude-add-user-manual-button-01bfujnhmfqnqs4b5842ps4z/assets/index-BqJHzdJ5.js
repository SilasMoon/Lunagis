(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))u(m);new MutationObserver(m=>{for(const S of m)if(S.type==="childList")for(const k of S.addedNodes)k.tagName==="LINK"&&k.rel==="modulepreload"&&u(k)}).observe(document,{childList:!0,subtree:!0});function d(m){const S={};return m.integrity&&(S.integrity=m.integrity),m.referrerPolicy&&(S.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?S.credentials="include":m.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function u(m){if(m.ep)return;m.ep=!0;const S=d(m);fetch(m.href,S)}})();function b0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yu={exports:{}},ti={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function Dm(){if(s0)return ti;s0=1;var r=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function d(u,m,S){var k=null;if(S!==void 0&&(k=""+S),m.key!==void 0&&(k=""+m.key),"key"in m){S={};for(var B in m)B!=="key"&&(S[B]=m[B])}else S=m;return m=S.ref,{$$typeof:r,type:u,key:k,ref:m!==void 0?m:null,props:S}}return ti.Fragment=f,ti.jsx=d,ti.jsxs=d,ti}var i0;function Rm(){return i0||(i0=1,yu.exports=Dm()),yu.exports}var s=Rm(),xu={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function Lm(){if(c0)return Ze;c0=1;var r=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),k=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.iterator;function _(x){return x===null||typeof x!="object"?null:(x=M&&x[M]||x["@@iterator"],typeof x=="function"?x:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},se=Object.assign,he={};function Me(x,H,ue){this.props=x,this.context=H,this.refs=he,this.updater=ue||V}Me.prototype.isReactComponent={},Me.prototype.setState=function(x,H){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,H,"setState")},Me.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Ue(){}Ue.prototype=Me.prototype;function ye(x,H,ue){this.props=x,this.context=H,this.refs=he,this.updater=ue||V}var ve=ye.prototype=new Ue;ve.constructor=ye,se(ve,Me.prototype),ve.isPureReactComponent=!0;var Ce=Array.isArray;function A(){}var O={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function oe(x,H,ue){var me=ue.ref;return{$$typeof:r,type:x,key:H,ref:me!==void 0?me:null,props:ue}}function X(x,H){return oe(x.type,H,x.props)}function xe(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function Se(x){var H={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ue){return H[ue]})}var ke=/\/+/g;function Ie(x,H){return typeof x=="object"&&x!==null&&x.key!=null?Se(""+x.key):H.toString(36)}function Ee(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(A,A):(x.status="pending",x.then(function(H){x.status==="pending"&&(x.status="fulfilled",x.value=H)},function(H){x.status==="pending"&&(x.status="rejected",x.reason=H)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function z(x,H,ue,me,He){var qe=typeof x;(qe==="undefined"||qe==="boolean")&&(x=null);var Ke=!1;if(x===null)Ke=!0;else switch(qe){case"bigint":case"string":case"number":Ke=!0;break;case"object":switch(x.$$typeof){case r:case f:Ke=!0;break;case v:return Ke=x._init,z(Ke(x._payload),H,ue,me,He)}}if(Ke)return He=He(x),Ke=me===""?"."+Ie(x,0):me,Ce(He)?(ue="",Ke!=null&&(ue=Ke.replace(ke,"$&/")+"/"),z(He,H,ue,"",function(Bt){return Bt})):He!=null&&(xe(He)&&(He=X(He,ue+(He.key==null||x&&x.key===He.key?"":(""+He.key).replace(ke,"$&/")+"/")+Ke)),H.push(He)),1;Ke=0;var Nt=me===""?".":me+":";if(Ce(x))for(var gt=0;gt<x.length;gt++)me=x[gt],qe=Nt+Ie(me,gt),Ke+=z(me,H,ue,qe,He);else if(gt=_(x),typeof gt=="function")for(x=gt.call(x),gt=0;!(me=x.next()).done;)me=me.value,qe=Nt+Ie(me,gt++),Ke+=z(me,H,ue,qe,He);else if(qe==="object"){if(typeof x.then=="function")return z(Ee(x),H,ue,me,He);throw H=String(x),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ke}function ae(x,H,ue){if(x==null)return x;var me=[],He=0;return z(x,me,"","",function(qe){return H.call(ue,qe,He++)}),me}function le(x){if(x._status===-1){var H=x._result;H=H(),H.then(function(ue){(x._status===0||x._status===-1)&&(x._status=1,x._result=ue)},function(ue){(x._status===0||x._status===-1)&&(x._status=2,x._result=ue)}),x._status===-1&&(x._status=0,x._result=H)}if(x._status===1)return x._result.default;throw x._result}var De=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Qe={map:ae,forEach:function(x,H,ue){ae(x,function(){H.apply(this,arguments)},ue)},count:function(x){var H=0;return ae(x,function(){H++}),H},toArray:function(x){return ae(x,function(H){return H})||[]},only:function(x){if(!xe(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Ze.Activity=N,Ze.Children=Qe,Ze.Component=Me,Ze.Fragment=d,Ze.Profiler=m,Ze.PureComponent=ye,Ze.StrictMode=u,Ze.Suspense=D,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(x){return O.H.useMemoCache(x)}},Ze.cache=function(x){return function(){return x.apply(null,arguments)}},Ze.cacheSignal=function(){return null},Ze.cloneElement=function(x,H,ue){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var me=se({},x.props),He=x.key;if(H!=null)for(qe in H.key!==void 0&&(He=""+H.key),H)!F.call(H,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&H.ref===void 0||(me[qe]=H[qe]);var qe=arguments.length-2;if(qe===1)me.children=ue;else if(1<qe){for(var Ke=Array(qe),Nt=0;Nt<qe;Nt++)Ke[Nt]=arguments[Nt+2];me.children=Ke}return oe(x.type,He,me)},Ze.createContext=function(x){return x={$$typeof:k,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:S,_context:x},x},Ze.createElement=function(x,H,ue){var me,He={},qe=null;if(H!=null)for(me in H.key!==void 0&&(qe=""+H.key),H)F.call(H,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(He[me]=H[me]);var Ke=arguments.length-2;if(Ke===1)He.children=ue;else if(1<Ke){for(var Nt=Array(Ke),gt=0;gt<Ke;gt++)Nt[gt]=arguments[gt+2];He.children=Nt}if(x&&x.defaultProps)for(me in Ke=x.defaultProps,Ke)He[me]===void 0&&(He[me]=Ke[me]);return oe(x,qe,He)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(x){return{$$typeof:B,render:x}},Ze.isValidElement=xe,Ze.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:le}},Ze.memo=function(x,H){return{$$typeof:g,type:x,compare:H===void 0?null:H}},Ze.startTransition=function(x){var H=O.T,ue={};O.T=ue;try{var me=x(),He=O.S;He!==null&&He(ue,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(A,De)}catch(qe){De(qe)}finally{H!==null&&ue.types!==null&&(H.types=ue.types),O.T=H}},Ze.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ze.use=function(x){return O.H.use(x)},Ze.useActionState=function(x,H,ue){return O.H.useActionState(x,H,ue)},Ze.useCallback=function(x,H){return O.H.useCallback(x,H)},Ze.useContext=function(x){return O.H.useContext(x)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(x,H){return O.H.useDeferredValue(x,H)},Ze.useEffect=function(x,H){return O.H.useEffect(x,H)},Ze.useEffectEvent=function(x){return O.H.useEffectEvent(x)},Ze.useId=function(){return O.H.useId()},Ze.useImperativeHandle=function(x,H,ue){return O.H.useImperativeHandle(x,H,ue)},Ze.useInsertionEffect=function(x,H){return O.H.useInsertionEffect(x,H)},Ze.useLayoutEffect=function(x,H){return O.H.useLayoutEffect(x,H)},Ze.useMemo=function(x,H){return O.H.useMemo(x,H)},Ze.useOptimistic=function(x,H){return O.H.useOptimistic(x,H)},Ze.useReducer=function(x,H,ue){return O.H.useReducer(x,H,ue)},Ze.useRef=function(x){return O.H.useRef(x)},Ze.useState=function(x){return O.H.useState(x)},Ze.useSyncExternalStore=function(x,H,ue){return O.H.useSyncExternalStore(x,H,ue)},Ze.useTransition=function(){return O.H.useTransition()},Ze.version="19.2.0",Ze}var r0;function Mu(){return r0||(r0=1,xu.exports=Lm()),xu.exports}var b=Mu();const xc=b0(b);var pu={exports:{}},ai={},vu={exports:{}},bu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function _m(){return u0||(u0=1,(function(r){function f(z,ae){var le=z.length;z.push(ae);e:for(;0<le;){var De=le-1>>>1,Qe=z[De];if(0<m(Qe,ae))z[De]=ae,z[le]=Qe,le=De;else break e}}function d(z){return z.length===0?null:z[0]}function u(z){if(z.length===0)return null;var ae=z[0],le=z.pop();if(le!==ae){z[0]=le;e:for(var De=0,Qe=z.length,x=Qe>>>1;De<x;){var H=2*(De+1)-1,ue=z[H],me=H+1,He=z[me];if(0>m(ue,le))me<Qe&&0>m(He,ue)?(z[De]=He,z[me]=le,De=me):(z[De]=ue,z[H]=le,De=H);else if(me<Qe&&0>m(He,le))z[De]=He,z[me]=le,De=me;else break e}}return ae}function m(z,ae){var le=z.sortIndex-ae.sortIndex;return le!==0?le:z.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var S=performance;r.unstable_now=function(){return S.now()}}else{var k=Date,B=k.now();r.unstable_now=function(){return k.now()-B}}var D=[],g=[],v=1,N=null,M=3,_=!1,V=!1,se=!1,he=!1,Me=typeof setTimeout=="function"?setTimeout:null,Ue=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;function ve(z){for(var ae=d(g);ae!==null;){if(ae.callback===null)u(g);else if(ae.startTime<=z)u(g),ae.sortIndex=ae.expirationTime,f(D,ae);else break;ae=d(g)}}function Ce(z){if(se=!1,ve(z),!V)if(d(D)!==null)V=!0,A||(A=!0,Se());else{var ae=d(g);ae!==null&&Ee(Ce,ae.startTime-z)}}var A=!1,O=-1,F=5,oe=-1;function X(){return he?!0:!(r.unstable_now()-oe<F)}function xe(){if(he=!1,A){var z=r.unstable_now();oe=z;var ae=!0;try{e:{V=!1,se&&(se=!1,Ue(O),O=-1),_=!0;var le=M;try{t:{for(ve(z),N=d(D);N!==null&&!(N.expirationTime>z&&X());){var De=N.callback;if(typeof De=="function"){N.callback=null,M=N.priorityLevel;var Qe=De(N.expirationTime<=z);if(z=r.unstable_now(),typeof Qe=="function"){N.callback=Qe,ve(z),ae=!0;break t}N===d(D)&&u(D),ve(z)}else u(D);N=d(D)}if(N!==null)ae=!0;else{var x=d(g);x!==null&&Ee(Ce,x.startTime-z),ae=!1}}break e}finally{N=null,M=le,_=!1}ae=void 0}}finally{ae?Se():A=!1}}}var Se;if(typeof ye=="function")Se=function(){ye(xe)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ie=ke.port2;ke.port1.onmessage=xe,Se=function(){Ie.postMessage(null)}}else Se=function(){Me(xe,0)};function Ee(z,ae){O=Me(function(){z(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(z){switch(M){case 1:case 2:case 3:var ae=3;break;default:ae=M}var le=M;M=ae;try{return z()}finally{M=le}},r.unstable_requestPaint=function(){he=!0},r.unstable_runWithPriority=function(z,ae){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var le=M;M=z;try{return ae()}finally{M=le}},r.unstable_scheduleCallback=function(z,ae,le){var De=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?De+le:De):le=De,z){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=le+Qe,z={id:v++,callback:ae,priorityLevel:z,startTime:le,expirationTime:Qe,sortIndex:-1},le>De?(z.sortIndex=le,f(g,z),d(D)===null&&z===d(g)&&(se?(Ue(O),O=-1):se=!0,Ee(Ce,le-De))):(z.sortIndex=Qe,f(D,z),V||_||(V=!0,A||(A=!0,Se()))),z},r.unstable_shouldYield=X,r.unstable_wrapCallback=function(z){var ae=M;return function(){var le=M;M=ae;try{return z.apply(this,arguments)}finally{M=le}}}})(bu)),bu}var o0;function Om(){return o0||(o0=1,vu.exports=_m()),vu.exports}var ju={exports:{}},ia={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function Um(){if(f0)return ia;f0=1;var r=Mu();function f(D){var g="https://react.dev/errors/"+D;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+D+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var u={d:{f:d,r:function(){throw Error(f(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function S(D,g,v){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:N==null?null:""+N,children:D,containerInfo:g,implementation:v}}var k=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function B(D,g){if(D==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ia.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=u,ia.createPortal=function(D,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(f(299));return S(D,g,null,v)},ia.flushSync=function(D){var g=k.T,v=u.p;try{if(k.T=null,u.p=2,D)return D()}finally{k.T=g,u.p=v,u.d.f()}},ia.preconnect=function(D,g){typeof D=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,u.d.C(D,g))},ia.prefetchDNS=function(D){typeof D=="string"&&u.d.D(D)},ia.preinit=function(D,g){if(typeof D=="string"&&g&&typeof g.as=="string"){var v=g.as,N=B(v,g.crossOrigin),M=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?u.d.S(D,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:N,integrity:M,fetchPriority:_}):v==="script"&&u.d.X(D,{crossOrigin:N,integrity:M,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ia.preinitModule=function(D,g){if(typeof D=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=B(g.as,g.crossOrigin);u.d.M(D,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&u.d.M(D)},ia.preload=function(D,g){if(typeof D=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,N=B(v,g.crossOrigin);u.d.L(D,v,{crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ia.preloadModule=function(D,g){if(typeof D=="string")if(g){var v=B(g.as,g.crossOrigin);u.d.m(D,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else u.d.m(D)},ia.requestFormReset=function(D){u.d.r(D)},ia.unstable_batchedUpdates=function(D,g){return D(g)},ia.useFormState=function(D,g,v){return k.H.useFormState(D,g,v)},ia.useFormStatus=function(){return k.H.useHostTransitionStatus()},ia.version="19.2.0",ia}var d0;function Hm(){if(d0)return ju.exports;d0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(f){console.error(f)}}return r(),ju.exports=Um(),ju.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Bm(){if(h0)return ai;h0=1;var r=Om(),f=Mu(),d=Hm();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function S(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function k(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function D(e){if(S(e)!==e)throw Error(u(188))}function g(e){var t=e.alternate;if(!t){if(t=S(e),t===null)throw Error(u(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===a)return D(n),e;if(i===l)return D(n),t;i=i.sibling}throw Error(u(188))}if(a.return!==l.return)a=n,l=i;else{for(var c=!1,o=n.child;o;){if(o===a){c=!0,a=n,l=i;break}if(o===l){c=!0,l=n,a=i;break}o=o.sibling}if(!c){for(o=i.child;o;){if(o===a){c=!0,a=i,l=n;break}if(o===l){c=!0,l=i,a=n;break}o=o.sibling}if(!c)throw Error(u(189))}}if(a.alternate!==l)throw Error(u(190))}if(a.tag!==3)throw Error(u(188));return a.stateNode.current===a?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var N=Object.assign,M=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),Me=Symbol.for("react.profiler"),Ue=Symbol.for("react.consumer"),ye=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),xe=Symbol.iterator;function Se(e){return e===null||typeof e!="object"?null:(e=xe&&e[xe]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Symbol.for("react.client.reference");function Ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case se:return"Fragment";case Me:return"Profiler";case he:return"StrictMode";case Ce:return"Suspense";case A:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case V:return"Portal";case ye:return e.displayName||"Context";case Ue:return(e._context.displayName||"Context")+".Consumer";case ve:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return t=e.displayName||null,t!==null?t:Ie(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return Ie(e(t))}catch{}}return null}var Ee=Array.isArray,z=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},De=[],Qe=-1;function x(e){return{current:e}}function H(e){0>Qe||(e.current=De[Qe],De[Qe]=null,Qe--)}function ue(e,t){Qe++,De[Qe]=e.current,e.current=t}var me=x(null),He=x(null),qe=x(null),Ke=x(null);function Nt(e,t){switch(ue(qe,t),ue(He,e),ue(me,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ed(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ed(t),e=Ad(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(me),ue(me,e)}function gt(){H(me),H(He),H(qe)}function Bt(e){e.memoizedState!==null&&ue(Ke,e);var t=me.current,a=Ad(t,e.type);t!==a&&(ue(He,e),ue(me,a))}function hl(e){He.current===e&&(H(me),H(He)),Ke.current===e&&(H(Ke),Fs._currentValue=le)}var wa,ll;function ha(e){if(wa===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);wa=t&&t[1]||"",ll=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wa+e+ll}var Ca=!1;function nl(e,t){if(!e||Ca)return"";Ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(L){var R=L}Reflect.construct(e,[],K)}else{try{K.call()}catch(L){R=L}e.call(K.prototype)}}else{try{throw Error()}catch(L){R=L}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(L){if(L&&R&&typeof L.stack=="string")return[L.stack,R.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),c=i[0],o=i[1];if(c&&o){var y=c.split(`
`),E=o.split(`
`);for(n=l=0;l<y.length&&!y[l].includes("DetermineComponentFrameRoot");)l++;for(;n<E.length&&!E[n].includes("DetermineComponentFrameRoot");)n++;if(l===y.length||n===E.length)for(l=y.length-1,n=E.length-1;1<=l&&0<=n&&y[l]!==E[n];)n--;for(;1<=l&&0<=n;l--,n--)if(y[l]!==E[n]){if(l!==1||n!==1)do if(l--,n--,0>n||y[l]!==E[n]){var Y=`
`+y[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=n);break}}}finally{Ca=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ha(a):""}function ms(e,t){switch(e.tag){case 26:case 27:case 5:return ha(e.type);case 16:return ha("Lazy");case 13:return e.child!==t&&t!==null?ha("Suspense Fallback"):ha("Suspense");case 19:return ha("SuspenseList");case 0:case 15:return nl(e.type,!1);case 11:return nl(e.type.render,!1);case 1:return nl(e.type,!0);case 31:return ha("Activity");default:return""}}function ca(e){try{var t="",a=null;do t+=ms(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ua=Object.prototype.hasOwnProperty,Yt=r.unstable_scheduleCallback,ml=r.unstable_cancelCallback,gl=r.unstable_shouldYield,ra=r.unstable_requestPaint,Mt=r.unstable_now,yl=r.unstable_getCurrentPriorityLevel,Ol=r.unstable_ImmediatePriority,Ha=r.unstable_UserBlockingPriority,sl=r.unstable_NormalPriority,$a=r.unstable_LowPriority,xl=r.unstable_IdlePriority,Fa=r.log,un=r.unstable_setDisableYieldValue,Gt=null,It=null;function zt(e){if(typeof Fa=="function"&&un(e),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(Gt,e)}catch{}}var Vt=Math.clz32?Math.clz32:on,ua=Math.log,Dn=Math.LN2;function on(e){return e>>>=0,e===0?32:31-(ua(e)/Dn|0)|0}var il=256,pl=262144,ma=4194304;function ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ia(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var o=l&134217727;return o!==0?(l=o&~i,l!==0?n=ga(l):(c&=o,c!==0?n=ga(c):a||(a=o&~e,a!==0&&(n=ga(a))))):(o=l&~i,o!==0?n=ga(o):c!==0?n=ga(c):a||(a=l&~e,a!==0&&(n=ga(a)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,a=t&-t,i>=a||i===32&&(a&4194048)!==0)?t:n}function Ba(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $t(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rn(){var e=ma;return ma<<=1,(ma&62914560)===0&&(ma=4194304),e}function Dt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function cl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ya(e,t,a,l,n,i){var c=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var o=e.entanglements,y=e.expirationTimes,E=e.hiddenUpdates;for(a=c&~a;0<a;){var Y=31-Vt(a),K=1<<Y;o[Y]=0,y[Y]=-1;var R=E[Y];if(R!==null)for(E[Y]=null,Y=0;Y<R.length;Y++){var L=R[Y];L!==null&&(L.lane&=-536870913)}a&=~K}l!==0&&Ln(e,l,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function Ln(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Vt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Z(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Vt(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function te(e,t){var a=t&-t;return a=(a&42)!==0?1:w(a),(a&(e.suspendedLanes|t))!==0?0:a}function w(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function I(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function h(){var e=ae.p;return e!==0?e:(e=window.event,e===void 0?32:Id(e.type))}function re(e,t){var a=ae.p;try{return ae.p=e,t()}finally{ae.p=a}}var fe=Math.random().toString(36).slice(2),J="__reactFiber$"+fe,ee="__reactProps$"+fe,W="__reactContainer$"+fe,ge="__reactEvents$"+fe,ce="__reactListeners$"+fe,ne="__reactHandles$"+fe,de="__reactResources$"+fe,pe="__reactMarker$"+fe;function we(e){delete e[J],delete e[ee],delete e[ge],delete e[ce],delete e[ne]}function U(e){var t=e[J];if(t)return t;for(var a=e.parentNode;a;){if(t=a[W]||a[J]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Ud(e);e!==null;){if(a=e[J])return a;e=Ud(e)}return t}e=a,a=e.parentNode}return null}function ie(e){if(e=e[J]||e[W]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ge(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function Ve(e){var t=e[de];return t||(t=e[de]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Re(e){e[pe]=!0}var xt=new Set,lt={};function ct(e,t){Pe(e,t),Pe(e+"Capture",t)}function Pe(e,t){for(lt[e]=t,e=0;e<t.length;e++)xt.add(t[e])}var ut=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rt={},wt={};function Lt(e){return Ua.call(wt,e)?!0:Ua.call(Rt,e)?!1:ut.test(e)?wt[e]=!0:(Rt[e]=!0,!1)}function Xe(e,t,a){if(Lt(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ya(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Zt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function sa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Q(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){a=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $(e){if(!e._valueTracker){var t=C(e)?"checked":"value";e._valueTracker=Q(e,t,""+e[t])}}function P(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=C(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function be(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var je=/[\n"\\]/g;function G(e){return e.replace(je,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _e(e,t,a,l,n,i,c,o){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+sa(t)):e.value!==""+sa(t)&&(e.value=""+sa(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?Ae(e,c,sa(t)):a!=null?Ae(e,c,sa(a)):l!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+sa(o):e.removeAttribute("name")}function Ye(e,t,a,l,n,i,c,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||a!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){$(e);return}a=a!=null?""+sa(a):"",t=t!=null?""+sa(t):a,o||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=o?e.checked:!!l,e.defaultChecked=!!l,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),$(e)}function Ae(e,t,a){t==="number"&&be(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Le(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+sa(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function $e(e,t,a){if(t!=null&&(t=""+sa(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+sa(a):""}function et(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(u(92));if(Ee(l)){if(1<l.length)throw Error(u(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=sa(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),$(e)}function Fe(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Te(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||nt.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ht(e,t,a){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&Te(e,n,l)}else for(var i in t)t.hasOwnProperty(i)&&Te(e,i,t[i])}function yt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ot=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _t(e){return kt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ea(){}var ka=null;function Ma(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xa=null,Ta=null;function vl(e){var t=ie(e);if(t&&(e=t.stateNode)){var a=e[ee]||null;e:switch(e=t.stateNode,t.type){case"input":if(_e(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+G(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[ee]||null;if(!n)throw Error(u(90));_e(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&P(l)}break e;case"textarea":$e(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Le(e,!!a.multiple,t,!1)}}}var Ul=!1;function gs(e,t,a){if(Ul)return e(t,a);Ul=!0;try{var l=e(t);return l}finally{if(Ul=!1,(xa!==null||Ta!==null)&&(Vi(),xa&&(t=xa,e=Ta,Ta=xa=null,vl(t),e)))for(t=0;t<e.length;t++)vl(e[t])}}function Hl(e,t){var a=e.stateNode;if(a===null)return null;var l=a[ee]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(u(231,t,typeof a));return a}var qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(qa)try{var fn={};Object.defineProperty(fn,"passive",{get:function(){_n=!0}}),window.addEventListener("test",fn,fn),window.removeEventListener("test",fn,fn)}catch{_n=!1}var Ea=null,Bl=null,On=null;function si(){if(On)return On;var e,t=Bl,a=t.length,l,n="value"in Ea?Ea.value:Ea.textContent,i=n.length;for(e=0;e<a&&t[e]===n[e];e++);var c=a-e;for(l=1;l<=c&&t[a-l]===n[i-l];l++);return On=n.slice(e,1<l?1-l:void 0)}function Un(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function Eu(){return!1}function pa(e){function t(a,l,n,i,c){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(a=e[o],this[o]=a?a(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ii:Eu,this.isPropagationStopped=Eu,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ci=pa(dn),ys=N({},dn,{view:0,detail:0}),A0=pa(ys),pc,vc,xs,ri=N({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(pc=e.screenX-xs.screenX,vc=e.screenY-xs.screenY):vc=pc=0,xs=e),pc)},movementY:function(e){return"movementY"in e?e.movementY:vc}}),Au=pa(ri),z0=N({},ri,{dataTransfer:0}),D0=pa(z0),R0=N({},ys,{relatedTarget:0}),bc=pa(R0),L0=N({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),_0=pa(L0),O0=N({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U0=pa(O0),H0=N({},dn,{data:0}),zu=pa(H0),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=k0[e])?!!t[e]:!1}function jc(){return q0}var X0=N({},ys,{key:function(e){if(e.key){var t=B0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Un(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Y0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jc,charCode:function(e){return e.type==="keypress"?Un(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Un(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G0=pa(X0),V0=N({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=pa(V0),Z0=N({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jc}),Q0=pa(Z0),K0=N({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),J0=pa(K0),W0=N({},ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$0=pa(W0),F0=N({},dn,{newState:0,oldState:0}),I0=pa(F0),P0=[9,13,27,32],Sc=qa&&"CompositionEvent"in window,ps=null;qa&&"documentMode"in document&&(ps=document.documentMode);var eh=qa&&"TextEvent"in window&&!ps,Ru=qa&&(!Sc||ps&&8<ps&&11>=ps),Lu=" ",_u=!1;function Ou(e,t){switch(e){case"keyup":return P0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function th(e,t){switch(e){case"compositionend":return Uu(t);case"keypress":return t.which!==32?null:(_u=!0,Lu);case"textInput":return e=t.data,e===Lu&&_u?null:e;default:return null}}function ah(e,t){if(Hn)return e==="compositionend"||!Sc&&Ou(e,t)?(e=si(),On=Bl=Ea=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ru&&t.locale!=="ko"?null:t.data;default:return null}}var lh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lh[e.type]:t==="textarea"}function Bu(e,t,a,l){xa?Ta?Ta.push(l):Ta=[l]:xa=l,t=Fi(t,"onChange"),0<t.length&&(a=new ci("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var vs=null,bs=null;function nh(e){Sd(e,0)}function ui(e){var t=Ge(e);if(P(t))return e}function Yu(e,t){if(e==="change")return t}var ku=!1;if(qa){var Nc;if(qa){var wc="oninput"in document;if(!wc){var qu=document.createElement("div");qu.setAttribute("oninput","return;"),wc=typeof qu.oninput=="function"}Nc=wc}else Nc=!1;ku=Nc&&(!document.documentMode||9<document.documentMode)}function Xu(){vs&&(vs.detachEvent("onpropertychange",Gu),bs=vs=null)}function Gu(e){if(e.propertyName==="value"&&ui(bs)){var t=[];Bu(t,bs,e,Ma(e)),gs(nh,t)}}function sh(e,t,a){e==="focusin"?(Xu(),vs=t,bs=a,vs.attachEvent("onpropertychange",Gu)):e==="focusout"&&Xu()}function ih(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ui(bs)}function ch(e,t){if(e==="click")return ui(t)}function rh(e,t){if(e==="input"||e==="change")return ui(t)}function uh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Aa=typeof Object.is=="function"?Object.is:uh;function js(e,t){if(Aa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Ua.call(t,n)||!Aa(e[n],t[n]))return!1}return!0}function Vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zu(e,t){var a=Vu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vu(a)}}function Qu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ku(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=be(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=be(e.document)}return t}function Cc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var oh=qa&&"documentMode"in document&&11>=document.documentMode,Bn=null,Mc=null,Ss=null,Tc=!1;function Ju(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Tc||Bn==null||Bn!==be(l)||(l=Bn,"selectionStart"in l&&Cc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ss&&js(Ss,l)||(Ss=l,l=Fi(Mc,"onSelect"),0<l.length&&(t=new ci("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Bn)))}function hn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Yn={animationend:hn("Animation","AnimationEnd"),animationiteration:hn("Animation","AnimationIteration"),animationstart:hn("Animation","AnimationStart"),transitionrun:hn("Transition","TransitionRun"),transitionstart:hn("Transition","TransitionStart"),transitioncancel:hn("Transition","TransitionCancel"),transitionend:hn("Transition","TransitionEnd")},Ec={},Wu={};qa&&(Wu=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function mn(e){if(Ec[e])return Ec[e];if(!Yn[e])return e;var t=Yn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Wu)return Ec[e]=t[a];return e}var $u=mn("animationend"),Fu=mn("animationiteration"),Iu=mn("animationstart"),fh=mn("transitionrun"),dh=mn("transitionstart"),hh=mn("transitioncancel"),Pu=mn("transitionend"),eo=new Map,Ac="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ac.push("scrollEnd");function Pa(e,t){eo.set(e,t),ct(t,[e])}var oi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xa=[],kn=0,zc=0;function fi(){for(var e=kn,t=zc=kn=0;t<e;){var a=Xa[t];Xa[t++]=null;var l=Xa[t];Xa[t++]=null;var n=Xa[t];Xa[t++]=null;var i=Xa[t];if(Xa[t++]=null,l!==null&&n!==null){var c=l.pending;c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n}i!==0&&to(a,n,i)}}function di(e,t,a,l){Xa[kn++]=e,Xa[kn++]=t,Xa[kn++]=a,Xa[kn++]=l,zc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Dc(e,t,a,l){return di(e,t,a,l),hi(e)}function gn(e,t){return di(e,null,null,t),hi(e)}function to(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,i=e.return;i!==null;)i.childLanes|=a,l=i.alternate,l!==null&&(l.childLanes|=a),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-Vt(a),e=i.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),i):null}function hi(e){if(50<Vs)throw Vs=0,kr=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qn={};function mh(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(e,t,a,l){return new mh(e,t,a,l)}function Rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bl(e,t){var a=e.alternate;return a===null?(a=za(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ao(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mi(e,t,a,l,n,i){var c=0;if(l=e,typeof e=="function")Rc(e)&&(c=1);else if(typeof e=="string")c=vm(e,a,me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=za(31,a,t,n),e.elementType=oe,e.lanes=i,e;case se:return yn(a.children,n,i,t);case he:c=8,n|=24;break;case Me:return e=za(12,a,t,n|2),e.elementType=Me,e.lanes=i,e;case Ce:return e=za(13,a,t,n),e.elementType=Ce,e.lanes=i,e;case A:return e=za(19,a,t,n),e.elementType=A,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ye:c=10;break e;case Ue:c=9;break e;case ve:c=11;break e;case O:c=14;break e;case F:c=16,l=null;break e}c=29,a=Error(u(130,e===null?"null":typeof e,"")),l=null}return t=za(c,a,t,n),t.elementType=e,t.type=l,t.lanes=i,t}function yn(e,t,a,l){return e=za(7,e,l,t),e.lanes=a,e}function Lc(e,t,a){return e=za(6,e,null,t),e.lanes=a,e}function lo(e){var t=za(18,null,null,0);return t.stateNode=e,t}function _c(e,t,a){return t=za(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var no=new WeakMap;function Ga(e,t){if(typeof e=="object"&&e!==null){var a=no.get(e);return a!==void 0?a:(t={value:e,source:t,stack:ca(t)},no.set(e,t),t)}return{value:e,source:t,stack:ca(t)}}var Xn=[],Gn=0,gi=null,Ns=0,Va=[],Za=0,Yl=null,rl=1,ul="";function jl(e,t){Xn[Gn++]=Ns,Xn[Gn++]=gi,gi=e,Ns=t}function so(e,t,a){Va[Za++]=rl,Va[Za++]=ul,Va[Za++]=Yl,Yl=e;var l=rl;e=ul;var n=32-Vt(l)-1;l&=~(1<<n),a+=1;var i=32-Vt(t)+n;if(30<i){var c=n-n%5;i=(l&(1<<c)-1).toString(32),l>>=c,n-=c,rl=1<<32-Vt(t)+n|a<<n|l,ul=i+e}else rl=1<<i|a<<n|l,ul=e}function Oc(e){e.return!==null&&(jl(e,1),so(e,1,0))}function Uc(e){for(;e===gi;)gi=Xn[--Gn],Xn[Gn]=null,Ns=Xn[--Gn],Xn[Gn]=null;for(;e===Yl;)Yl=Va[--Za],Va[Za]=null,ul=Va[--Za],Va[Za]=null,rl=Va[--Za],Va[Za]=null}function io(e,t){Va[Za++]=rl,Va[Za++]=ul,Va[Za++]=Yl,rl=t.id,ul=t.overflow,Yl=e}var ta=null,Tt=null,rt=!1,kl=null,Qa=!1,Hc=Error(u(519));function ql(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ws(Ga(t,e)),Hc}function co(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[J]=e,t[ee]=l,a){case"dialog":at("cancel",t),at("close",t);break;case"iframe":case"object":case"embed":at("load",t);break;case"video":case"audio":for(a=0;a<Qs.length;a++)at(Qs[a],t);break;case"source":at("error",t);break;case"img":case"image":case"link":at("error",t),at("load",t);break;case"details":at("toggle",t);break;case"input":at("invalid",t),Ye(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":at("invalid",t);break;case"textarea":at("invalid",t),et(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Md(t.textContent,a)?(l.popover!=null&&(at("beforetoggle",t),at("toggle",t)),l.onScroll!=null&&at("scroll",t),l.onScrollEnd!=null&&at("scrollend",t),l.onClick!=null&&(t.onclick=ea),t=!0):t=!1,t||ql(e,!0)}function ro(e){for(ta=e.return;ta;)switch(ta.tag){case 5:case 31:case 13:Qa=!1;return;case 27:case 3:Qa=!0;return;default:ta=ta.return}}function Vn(e){if(e!==ta)return!1;if(!rt)return ro(e),rt=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||tu(e.type,e.memoizedProps)),a=!a),a&&Tt&&ql(e),ro(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Tt=Od(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));Tt=Od(e)}else t===27?(t=Tt,tn(e.type)?(e=iu,iu=null,Tt=e):Tt=t):Tt=ta?Ja(e.stateNode.nextSibling):null;return!0}function xn(){Tt=ta=null,rt=!1}function Bc(){var e=kl;return e!==null&&(Sa===null?Sa=e:Sa.push.apply(Sa,e),kl=null),e}function ws(e){kl===null?kl=[e]:kl.push(e)}var Yc=x(null),pn=null,Sl=null;function Xl(e,t,a){ue(Yc,t._currentValue),t._currentValue=a}function Nl(e){e._currentValue=Yc.current,H(Yc)}function kc(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function qc(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var c=n.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=n;for(var y=0;y<t.length;y++)if(o.context===t[y]){i.lanes|=a,o=i.alternate,o!==null&&(o.lanes|=a),kc(i.return,a,e),l||(c=null);break e}i=o.next}}else if(n.tag===18){if(c=n.return,c===null)throw Error(u(341));c.lanes|=a,i=c.alternate,i!==null&&(i.lanes|=a),kc(c,a,e),c=null}else c=n.child;if(c!==null)c.return=n;else for(c=n;c!==null;){if(c===e){c=null;break}if(n=c.sibling,n!==null){n.return=c.return,c=n;break}c=c.return}n=c}}function Zn(e,t,a,l){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var c=n.alternate;if(c===null)throw Error(u(387));if(c=c.memoizedProps,c!==null){var o=n.type;Aa(n.pendingProps.value,c.value)||(e!==null?e.push(o):e=[o])}}else if(n===Ke.current){if(c=n.alternate,c===null)throw Error(u(387));c.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Fs):e=[Fs])}n=n.return}e!==null&&qc(t,e,a,l),t.flags|=262144}function yi(e){for(e=e.firstContext;e!==null;){if(!Aa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vn(e){pn=e,Sl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function aa(e){return uo(pn,e)}function xi(e,t){return pn===null&&vn(e),uo(e,t)}function uo(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Sl===null){if(e===null)throw Error(u(308));Sl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Sl=Sl.next=t;return a}var gh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},yh=r.unstable_scheduleCallback,xh=r.unstable_NormalPriority,Qt={$$typeof:ye,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xc(){return{controller:new gh,data:new Map,refCount:0}}function Cs(e){e.refCount--,e.refCount===0&&yh(xh,function(){e.controller.abort()})}var Ms=null,Gc=0,Qn=0,Kn=null;function ph(e,t){if(Ms===null){var a=Ms=[];Gc=0,Qn=Qr(),Kn={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Gc++,t.then(oo,oo),t}function oo(){if(--Gc===0&&Ms!==null){Kn!==null&&(Kn.status="fulfilled");var e=Ms;Ms=null,Qn=0,Kn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function vh(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var fo=z.S;z.S=function(e,t){$f=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ph(e,t),fo!==null&&fo(e,t)};var bn=x(null);function Vc(){var e=bn.current;return e!==null?e:Ct.pooledCache}function pi(e,t){t===null?ue(bn,bn.current):ue(bn,t.pool)}function ho(){var e=Vc();return e===null?null:{parent:Qt._currentValue,pool:e}}var Jn=Error(u(460)),Zc=Error(u(474)),vi=Error(u(542)),bi={then:function(){}};function mo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function go(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ea,ea),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xo(e),e;default:if(typeof t.status=="string")t.then(ea,ea);else{if(e=Ct,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xo(e),e}throw Sn=t,Jn}}function jn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Sn=a,Jn):a}}var Sn=null;function yo(){if(Sn===null)throw Error(u(459));var e=Sn;return Sn=null,e}function xo(e){if(e===Jn||e===vi)throw Error(u(483))}var Wn=null,Ts=0;function ji(e){var t=Ts;return Ts+=1,Wn===null&&(Wn=[]),go(Wn,e,t)}function Es(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Si(e,t){throw t.$$typeof===M?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function po(e){function t(j,p){if(e){var T=j.deletions;T===null?(j.deletions=[p],j.flags|=16):T.push(p)}}function a(j,p){if(!e)return null;for(;p!==null;)t(j,p),p=p.sibling;return null}function l(j){for(var p=new Map;j!==null;)j.key!==null?p.set(j.key,j):p.set(j.index,j),j=j.sibling;return p}function n(j,p){return j=bl(j,p),j.index=0,j.sibling=null,j}function i(j,p,T){return j.index=T,e?(T=j.alternate,T!==null?(T=T.index,T<p?(j.flags|=67108866,p):T):(j.flags|=67108866,p)):(j.flags|=1048576,p)}function c(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function o(j,p,T,q){return p===null||p.tag!==6?(p=Lc(T,j.mode,q),p.return=j,p):(p=n(p,T),p.return=j,p)}function y(j,p,T,q){var Oe=T.type;return Oe===se?Y(j,p,T.props.children,q,T.key):p!==null&&(p.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===F&&jn(Oe)===p.type)?(p=n(p,T.props),Es(p,T),p.return=j,p):(p=mi(T.type,T.key,T.props,null,j.mode,q),Es(p,T),p.return=j,p)}function E(j,p,T,q){return p===null||p.tag!==4||p.stateNode.containerInfo!==T.containerInfo||p.stateNode.implementation!==T.implementation?(p=_c(T,j.mode,q),p.return=j,p):(p=n(p,T.children||[]),p.return=j,p)}function Y(j,p,T,q,Oe){return p===null||p.tag!==7?(p=yn(T,j.mode,q,Oe),p.return=j,p):(p=n(p,T),p.return=j,p)}function K(j,p,T){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Lc(""+p,j.mode,T),p.return=j,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _:return T=mi(p.type,p.key,p.props,null,j.mode,T),Es(T,p),T.return=j,T;case V:return p=_c(p,j.mode,T),p.return=j,p;case F:return p=jn(p),K(j,p,T)}if(Ee(p)||Se(p))return p=yn(p,j.mode,T,null),p.return=j,p;if(typeof p.then=="function")return K(j,ji(p),T);if(p.$$typeof===ye)return K(j,xi(j,p),T);Si(j,p)}return null}function R(j,p,T,q){var Oe=p!==null?p.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return Oe!==null?null:o(j,p,""+T,q);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _:return T.key===Oe?y(j,p,T,q):null;case V:return T.key===Oe?E(j,p,T,q):null;case F:return T=jn(T),R(j,p,T,q)}if(Ee(T)||Se(T))return Oe!==null?null:Y(j,p,T,q,null);if(typeof T.then=="function")return R(j,p,ji(T),q);if(T.$$typeof===ye)return R(j,p,xi(j,T),q);Si(j,T)}return null}function L(j,p,T,q,Oe){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return j=j.get(T)||null,o(p,j,""+q,Oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case _:return j=j.get(q.key===null?T:q.key)||null,y(p,j,q,Oe);case V:return j=j.get(q.key===null?T:q.key)||null,E(p,j,q,Oe);case F:return q=jn(q),L(j,p,T,q,Oe)}if(Ee(q)||Se(q))return j=j.get(T)||null,Y(p,j,q,Oe,null);if(typeof q.then=="function")return L(j,p,T,ji(q),Oe);if(q.$$typeof===ye)return L(j,p,T,xi(p,q),Oe);Si(p,q)}return null}function Ne(j,p,T,q){for(var Oe=null,ft=null,ze=p,We=p=0,it=null;ze!==null&&We<T.length;We++){ze.index>We?(it=ze,ze=null):it=ze.sibling;var dt=R(j,ze,T[We],q);if(dt===null){ze===null&&(ze=it);break}e&&ze&&dt.alternate===null&&t(j,ze),p=i(dt,p,We),ft===null?Oe=dt:ft.sibling=dt,ft=dt,ze=it}if(We===T.length)return a(j,ze),rt&&jl(j,We),Oe;if(ze===null){for(;We<T.length;We++)ze=K(j,T[We],q),ze!==null&&(p=i(ze,p,We),ft===null?Oe=ze:ft.sibling=ze,ft=ze);return rt&&jl(j,We),Oe}for(ze=l(ze);We<T.length;We++)it=L(ze,j,We,T[We],q),it!==null&&(e&&it.alternate!==null&&ze.delete(it.key===null?We:it.key),p=i(it,p,We),ft===null?Oe=it:ft.sibling=it,ft=it);return e&&ze.forEach(function(cn){return t(j,cn)}),rt&&jl(j,We),Oe}function Be(j,p,T,q){if(T==null)throw Error(u(151));for(var Oe=null,ft=null,ze=p,We=p=0,it=null,dt=T.next();ze!==null&&!dt.done;We++,dt=T.next()){ze.index>We?(it=ze,ze=null):it=ze.sibling;var cn=R(j,ze,dt.value,q);if(cn===null){ze===null&&(ze=it);break}e&&ze&&cn.alternate===null&&t(j,ze),p=i(cn,p,We),ft===null?Oe=cn:ft.sibling=cn,ft=cn,ze=it}if(dt.done)return a(j,ze),rt&&jl(j,We),Oe;if(ze===null){for(;!dt.done;We++,dt=T.next())dt=K(j,dt.value,q),dt!==null&&(p=i(dt,p,We),ft===null?Oe=dt:ft.sibling=dt,ft=dt);return rt&&jl(j,We),Oe}for(ze=l(ze);!dt.done;We++,dt=T.next())dt=L(ze,j,We,dt.value,q),dt!==null&&(e&&dt.alternate!==null&&ze.delete(dt.key===null?We:dt.key),p=i(dt,p,We),ft===null?Oe=dt:ft.sibling=dt,ft=dt);return e&&ze.forEach(function(zm){return t(j,zm)}),rt&&jl(j,We),Oe}function St(j,p,T,q){if(typeof T=="object"&&T!==null&&T.type===se&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case _:e:{for(var Oe=T.key;p!==null;){if(p.key===Oe){if(Oe=T.type,Oe===se){if(p.tag===7){a(j,p.sibling),q=n(p,T.props.children),q.return=j,j=q;break e}}else if(p.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===F&&jn(Oe)===p.type){a(j,p.sibling),q=n(p,T.props),Es(q,T),q.return=j,j=q;break e}a(j,p);break}else t(j,p);p=p.sibling}T.type===se?(q=yn(T.props.children,j.mode,q,T.key),q.return=j,j=q):(q=mi(T.type,T.key,T.props,null,j.mode,q),Es(q,T),q.return=j,j=q)}return c(j);case V:e:{for(Oe=T.key;p!==null;){if(p.key===Oe)if(p.tag===4&&p.stateNode.containerInfo===T.containerInfo&&p.stateNode.implementation===T.implementation){a(j,p.sibling),q=n(p,T.children||[]),q.return=j,j=q;break e}else{a(j,p);break}else t(j,p);p=p.sibling}q=_c(T,j.mode,q),q.return=j,j=q}return c(j);case F:return T=jn(T),St(j,p,T,q)}if(Ee(T))return Ne(j,p,T,q);if(Se(T)){if(Oe=Se(T),typeof Oe!="function")throw Error(u(150));return T=Oe.call(T),Be(j,p,T,q)}if(typeof T.then=="function")return St(j,p,ji(T),q);if(T.$$typeof===ye)return St(j,p,xi(j,T),q);Si(j,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,p!==null&&p.tag===6?(a(j,p.sibling),q=n(p,T),q.return=j,j=q):(a(j,p),q=Lc(T,j.mode,q),q.return=j,j=q),c(j)):a(j,p)}return function(j,p,T,q){try{Ts=0;var Oe=St(j,p,T,q);return Wn=null,Oe}catch(ze){if(ze===Jn||ze===vi)throw ze;var ft=za(29,ze,null,j.mode);return ft.lanes=q,ft.return=j,ft}finally{}}}var Nn=po(!0),vo=po(!1),Gl=!1;function Qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zl(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(mt&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=hi(e),to(e,null,a),t}return di(e,l,t,a),hi(e)}function As(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Z(e,a)}}function Jc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,i=null;if(a=a.firstBaseUpdate,a!==null){do{var c={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};i===null?n=i=c:i=i.next=c,a=a.next}while(a!==null);i===null?n=i=t:i=i.next=t}else n=i=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Wc=!1;function zs(){if(Wc){var e=Kn;if(e!==null)throw e}}function Ds(e,t,a,l){Wc=!1;var n=e.updateQueue;Gl=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var y=o,E=y.next;y.next=null,c===null?i=E:c.next=E,c=y;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,o=Y.lastBaseUpdate,o!==c&&(o===null?Y.firstBaseUpdate=E:o.next=E,Y.lastBaseUpdate=y))}if(i!==null){var K=n.baseState;c=0,Y=E=y=null,o=i;do{var R=o.lane&-536870913,L=R!==o.lane;if(L?(st&R)===R:(l&R)===R){R!==0&&R===Qn&&(Wc=!0),Y!==null&&(Y=Y.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var Ne=e,Be=o;R=t;var St=a;switch(Be.tag){case 1:if(Ne=Be.payload,typeof Ne=="function"){K=Ne.call(St,K,R);break e}K=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Be.payload,R=typeof Ne=="function"?Ne.call(St,K,R):Ne,R==null)break e;K=N({},K,R);break e;case 2:Gl=!0}}R=o.callback,R!==null&&(e.flags|=64,L&&(e.flags|=8192),L=n.callbacks,L===null?n.callbacks=[R]:L.push(R))}else L={lane:R,tag:o.tag,payload:o.payload,callback:o.callback,next:null},Y===null?(E=Y=L,y=K):Y=Y.next=L,c|=R;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;L=o,o=L.next,L.next=null,n.lastBaseUpdate=L,n.shared.pending=null}}while(!0);Y===null&&(y=K),n.baseState=y,n.firstBaseUpdate=E,n.lastBaseUpdate=Y,i===null&&(n.shared.lanes=0),$l|=c,e.lanes=c,e.memoizedState=K}}function bo(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function jo(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)bo(a[e],t)}var $n=x(null),Ni=x(0);function So(e,t){e=Rl,ue(Ni,e),ue($n,t),Rl=e|t.baseLanes}function $c(){ue(Ni,Rl),ue($n,$n.current)}function Fc(){Rl=Ni.current,H($n),H(Ni)}var Da=x(null),Ka=null;function Ql(e){var t=e.alternate;ue(qt,qt.current&1),ue(Da,e),Ka===null&&(t===null||$n.current!==null||t.memoizedState!==null)&&(Ka=e)}function Ic(e){ue(qt,qt.current),ue(Da,e),Ka===null&&(Ka=e)}function No(e){e.tag===22?(ue(qt,qt.current),ue(Da,e),Ka===null&&(Ka=e)):Kl()}function Kl(){ue(qt,qt.current),ue(Da,Da.current)}function Ra(e){H(Da),Ka===e&&(Ka=null),H(qt)}var qt=x(0);function wi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||nu(a)||su(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wl=0,Je=null,bt=null,Kt=null,Ci=!1,Fn=!1,wn=!1,Mi=0,Rs=0,In=null,bh=0;function Ot(){throw Error(u(321))}function Pc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Aa(e[a],t[a]))return!1;return!0}function er(e,t,a,l,n,i){return wl=i,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?cf:gr,wn=!1,i=a(l,n),wn=!1,Fn&&(i=Co(t,a,l,n)),wo(e),i}function wo(e){z.H=Os;var t=bt!==null&&bt.next!==null;if(wl=0,Kt=bt=Je=null,Ci=!1,Rs=0,In=null,t)throw Error(u(300));e===null||Jt||(e=e.dependencies,e!==null&&yi(e)&&(Jt=!0))}function Co(e,t,a,l){Je=e;var n=0;do{if(Fn&&(In=null),Rs=0,Fn=!1,25<=n)throw Error(u(301));if(n+=1,Kt=bt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}z.H=rf,i=t(a,l)}while(Fn);return i}function jh(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?Ls(t):t,e=e.useState()[0],(bt!==null?bt.memoizedState:null)!==e&&(Je.flags|=1024),t}function tr(){var e=Mi!==0;return Mi=0,e}function ar(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function lr(e){if(Ci){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ci=!1}wl=0,Kt=bt=Je=null,Fn=!1,Rs=Mi=0,In=null}function oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Je.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function Xt(){if(bt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=bt.next;var t=Kt===null?Je.memoizedState:Kt.next;if(t!==null)Kt=t,bt=e;else{if(e===null)throw Je.alternate===null?Error(u(467)):Error(u(310));bt=e,e={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Kt===null?Je.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function Ti(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ls(e){var t=Rs;return Rs+=1,In===null&&(In=[]),e=go(In,e,t),t=Je,(Kt===null?t.memoizedState:Kt.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?cf:gr),e}function Ei(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ls(e);if(e.$$typeof===ye)return aa(e)}throw Error(u(438,String(e)))}function nr(e){var t=null,a=Je.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=Je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ti(),Je.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=X;return t.index++,a}function Cl(e,t){return typeof t=="function"?t(e):t}function Ai(e){var t=Xt();return sr(t,bt,e)}function sr(e,t,a){var l=e.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=a;var n=e.baseQueue,i=l.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}t.baseQueue=n=i,l.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var o=c=null,y=null,E=t,Y=!1;do{var K=E.lane&-536870913;if(K!==E.lane?(st&K)===K:(wl&K)===K){var R=E.revertLane;if(R===0)y!==null&&(y=y.next={lane:0,revertLane:0,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),K===Qn&&(Y=!0);else if((wl&R)===R){E=E.next,R===Qn&&(Y=!0);continue}else K={lane:0,revertLane:E.revertLane,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},y===null?(o=y=K,c=i):y=y.next=K,Je.lanes|=R,$l|=R;K=E.action,wn&&a(i,K),i=E.hasEagerState?E.eagerState:a(i,K)}else R={lane:K,revertLane:E.revertLane,gesture:E.gesture,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},y===null?(o=y=R,c=i):y=y.next=R,Je.lanes|=K,$l|=K;E=E.next}while(E!==null&&E!==t);if(y===null?c=i:y.next=o,!Aa(i,e.memoizedState)&&(Jt=!0,Y&&(a=Kn,a!==null)))throw a;e.memoizedState=i,e.baseState=c,e.baseQueue=y,l.lastRenderedState=i}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ir(e){var t=Xt(),a=t.queue;if(a===null)throw Error(u(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,i=t.memoizedState;if(n!==null){a.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);Aa(i,t.memoizedState)||(Jt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),a.lastRenderedState=i}return[i,l]}function Mo(e,t,a){var l=Je,n=Xt(),i=rt;if(i){if(a===void 0)throw Error(u(407));a=a()}else a=t();var c=!Aa((bt||n).memoizedState,a);if(c&&(n.memoizedState=a,Jt=!0),n=n.queue,ur(Ao.bind(null,l,n,e),[e]),n.getSnapshot!==t||c||Kt!==null&&Kt.memoizedState.tag&1){if(l.flags|=2048,Pn(9,{destroy:void 0},Eo.bind(null,l,n,a,t),null),Ct===null)throw Error(u(349));i||(wl&127)!==0||To(l,t,a)}return a}function To(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Je.updateQueue,t===null?(t=Ti(),Je.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Eo(e,t,a,l){t.value=a,t.getSnapshot=l,zo(t)&&Do(e)}function Ao(e,t,a){return a(function(){zo(t)&&Do(e)})}function zo(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Aa(e,a)}catch{return!0}}function Do(e){var t=gn(e,2);t!==null&&Na(t,e,2)}function cr(e){var t=oa();if(typeof e=="function"){var a=e;if(e=a(),wn){zt(!0);try{a()}finally{zt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:e},t}function Ro(e,t,a,l){return e.baseState=a,sr(e,bt,typeof l=="function"?l:Cl)}function Sh(e,t,a,l,n){if(Ri(e))throw Error(u(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};z.T!==null?a(!0):i.isTransition=!1,l(i),a=t.pending,a===null?(i.next=t.pending=i,Lo(t,i)):(i.next=a.next,t.pending=a.next=i)}}function Lo(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var i=z.T,c={};z.T=c;try{var o=a(n,l),y=z.S;y!==null&&y(c,o),_o(e,t,o)}catch(E){rr(e,t,E)}finally{i!==null&&c.types!==null&&(i.types=c.types),z.T=i}}else try{i=a(n,l),_o(e,t,i)}catch(E){rr(e,t,E)}}function _o(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Oo(e,t,l)},function(l){return rr(e,t,l)}):Oo(e,t,a)}function Oo(e,t,a){t.status="fulfilled",t.value=a,Uo(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Lo(e,a)))}function rr(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Uo(t),t=t.next;while(t!==l)}e.action=null}function Uo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ho(e,t){return t}function Bo(e,t){if(rt){var a=Ct.formState;if(a!==null){e:{var l=Je;if(rt){if(Tt){t:{for(var n=Tt,i=Qa;n.nodeType!==8;){if(!i){n=null;break t}if(n=Ja(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Tt=Ja(n.nextSibling),l=n.data==="F!";break e}}ql(l)}l=!1}l&&(t=a[0])}}return a=oa(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:t},a.queue=l,a=lf.bind(null,Je,l),l.dispatch=a,l=cr(!1),i=mr.bind(null,Je,!1,l.queue),l=oa(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Sh.bind(null,Je,n,i,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function Yo(e){var t=Xt();return ko(t,bt,e)}function ko(e,t,a){if(t=sr(e,t,Ho)[0],e=Ai(Cl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Ls(t)}catch(c){throw c===Jn?vi:c}else l=t;t=Xt();var n=t.queue,i=n.dispatch;return a!==t.memoizedState&&(Je.flags|=2048,Pn(9,{destroy:void 0},Nh.bind(null,n,a),null)),[l,i,e]}function Nh(e,t){e.action=t}function qo(e){var t=Xt(),a=bt;if(a!==null)return ko(t,a,e);Xt(),t=t.memoizedState,a=Xt();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Pn(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=Je.updateQueue,t===null&&(t=Ti(),Je.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Xo(){return Xt().memoizedState}function zi(e,t,a,l){var n=oa();Je.flags|=e,n.memoizedState=Pn(1|t,{destroy:void 0},a,l===void 0?null:l)}function Di(e,t,a,l){var n=Xt();l=l===void 0?null:l;var i=n.memoizedState.inst;bt!==null&&l!==null&&Pc(l,bt.memoizedState.deps)?n.memoizedState=Pn(t,i,a,l):(Je.flags|=e,n.memoizedState=Pn(1|t,i,a,l))}function Go(e,t){zi(8390656,8,e,t)}function ur(e,t){Di(2048,8,e,t)}function wh(e){Je.flags|=4;var t=Je.updateQueue;if(t===null)t=Ti(),Je.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Vo(e){var t=Xt().memoizedState;return wh({ref:t,nextImpl:e}),function(){if((mt&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function Zo(e,t){return Di(4,2,e,t)}function Qo(e,t){return Di(4,4,e,t)}function Ko(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jo(e,t,a){a=a!=null?a.concat([e]):null,Di(4,4,Ko.bind(null,t,e),a)}function or(){}function Wo(e,t){var a=Xt();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Pc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function $o(e,t){var a=Xt();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Pc(t,l[1]))return l[0];if(l=e(),wn){zt(!0);try{e()}finally{zt(!1)}}return a.memoizedState=[l,t],l}function fr(e,t,a){return a===void 0||(wl&1073741824)!==0&&(st&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=If(),Je.lanes|=e,$l|=e,a)}function Fo(e,t,a,l){return Aa(a,t)?a:$n.current!==null?(e=fr(e,a,l),Aa(e,t)||(Jt=!0),e):(wl&42)===0||(wl&1073741824)!==0&&(st&261930)===0?(Jt=!0,e.memoizedState=a):(e=If(),Je.lanes|=e,$l|=e,t)}function Io(e,t,a,l,n){var i=ae.p;ae.p=i!==0&&8>i?i:8;var c=z.T,o={};z.T=o,mr(e,!1,t,a);try{var y=n(),E=z.S;if(E!==null&&E(o,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var Y=vh(y,l);_s(e,t,Y,Oa(e))}else _s(e,t,l,Oa(e))}catch(K){_s(e,t,{then:function(){},status:"rejected",reason:K},Oa())}finally{ae.p=i,c!==null&&o.types!==null&&(c.types=o.types),z.T=c}}function Ch(){}function dr(e,t,a,l){if(e.tag!==5)throw Error(u(476));var n=Po(e).queue;Io(e,n,t,le,a===null?Ch:function(){return ef(e),a(l)})}function Po(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:le},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ef(e){var t=Po(e);t.next===null&&(t=e.alternate.memoizedState),_s(e,t.next.queue,{},Oa())}function hr(){return aa(Fs)}function tf(){return Xt().memoizedState}function af(){return Xt().memoizedState}function Mh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Oa();e=Vl(a);var l=Zl(t,e,a);l!==null&&(Na(l,t,a),As(l,t,a)),t={cache:Xc()},e.payload=t;return}t=t.return}}function Th(e,t,a){var l=Oa();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ri(e)?nf(t,a):(a=Dc(e,t,a,l),a!==null&&(Na(a,e,l),sf(a,t,l)))}function lf(e,t,a){var l=Oa();_s(e,t,a,l)}function _s(e,t,a,l){var n={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ri(e))nf(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,o=i(c,a);if(n.hasEagerState=!0,n.eagerState=o,Aa(o,c))return di(e,t,n,0),Ct===null&&fi(),!1}catch{}finally{}if(a=Dc(e,t,n,l),a!==null)return Na(a,e,l),sf(a,t,l),!0}return!1}function mr(e,t,a,l){if(l={lane:2,revertLane:Qr(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ri(e)){if(t)throw Error(u(479))}else t=Dc(e,a,l,2),t!==null&&Na(t,e,2)}function Ri(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function nf(e,t){Fn=Ci=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function sf(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Z(e,a)}}var Os={readContext:aa,use:Ei,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};Os.useEffectEvent=Ot;var cf={readContext:aa,use:Ei,useCallback:function(e,t){return oa().memoizedState=[e,t===void 0?null:t],e},useContext:aa,useEffect:Go,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,zi(4194308,4,Ko.bind(null,t,e),a)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){zi(4,2,e,t)},useMemo:function(e,t){var a=oa();t=t===void 0?null:t;var l=e();if(wn){zt(!0);try{e()}finally{zt(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=oa();if(a!==void 0){var n=a(t);if(wn){zt(!0);try{a(t)}finally{zt(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Th.bind(null,Je,e),[l.memoizedState,e]},useRef:function(e){var t=oa();return e={current:e},t.memoizedState=e},useState:function(e){e=cr(e);var t=e.queue,a=lf.bind(null,Je,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:or,useDeferredValue:function(e,t){var a=oa();return fr(a,e,t)},useTransition:function(){var e=cr(!1);return e=Io.bind(null,Je,e.queue,!0,!1),oa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=Je,n=oa();if(rt){if(a===void 0)throw Error(u(407));a=a()}else{if(a=t(),Ct===null)throw Error(u(349));(st&127)!==0||To(l,t,a)}n.memoizedState=a;var i={value:a,getSnapshot:t};return n.queue=i,Go(Ao.bind(null,l,i,e),[e]),l.flags|=2048,Pn(9,{destroy:void 0},Eo.bind(null,l,i,a,t),null),a},useId:function(){var e=oa(),t=Ct.identifierPrefix;if(rt){var a=ul,l=rl;a=(l&~(1<<32-Vt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Mi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=bh++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:hr,useFormState:Bo,useActionState:Bo,useOptimistic:function(e){var t=oa();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=mr.bind(null,Je,!0,a),a.dispatch=t,[e,t]},useMemoCache:nr,useCacheRefresh:function(){return oa().memoizedState=Mh.bind(null,Je)},useEffectEvent:function(e){var t=oa(),a={impl:e};return t.memoizedState=a,function(){if((mt&2)!==0)throw Error(u(440));return a.impl.apply(void 0,arguments)}}},gr={readContext:aa,use:Ei,useCallback:Wo,useContext:aa,useEffect:ur,useImperativeHandle:Jo,useInsertionEffect:Zo,useLayoutEffect:Qo,useMemo:$o,useReducer:Ai,useRef:Xo,useState:function(){return Ai(Cl)},useDebugValue:or,useDeferredValue:function(e,t){var a=Xt();return Fo(a,bt.memoizedState,e,t)},useTransition:function(){var e=Ai(Cl)[0],t=Xt().memoizedState;return[typeof e=="boolean"?e:Ls(e),t]},useSyncExternalStore:Mo,useId:tf,useHostTransitionStatus:hr,useFormState:Yo,useActionState:Yo,useOptimistic:function(e,t){var a=Xt();return Ro(a,bt,e,t)},useMemoCache:nr,useCacheRefresh:af};gr.useEffectEvent=Vo;var rf={readContext:aa,use:Ei,useCallback:Wo,useContext:aa,useEffect:ur,useImperativeHandle:Jo,useInsertionEffect:Zo,useLayoutEffect:Qo,useMemo:$o,useReducer:ir,useRef:Xo,useState:function(){return ir(Cl)},useDebugValue:or,useDeferredValue:function(e,t){var a=Xt();return bt===null?fr(a,e,t):Fo(a,bt.memoizedState,e,t)},useTransition:function(){var e=ir(Cl)[0],t=Xt().memoizedState;return[typeof e=="boolean"?e:Ls(e),t]},useSyncExternalStore:Mo,useId:tf,useHostTransitionStatus:hr,useFormState:qo,useActionState:qo,useOptimistic:function(e,t){var a=Xt();return bt!==null?Ro(a,bt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:nr,useCacheRefresh:af};rf.useEffectEvent=Vo;function yr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:N({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var xr={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Oa(),n=Vl(l);n.payload=t,a!=null&&(n.callback=a),t=Zl(e,n,l),t!==null&&(Na(t,e,l),As(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Oa(),n=Vl(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Zl(e,n,l),t!==null&&(Na(t,e,l),As(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Oa(),l=Vl(a);l.tag=2,t!=null&&(l.callback=t),t=Zl(e,l,a),t!==null&&(Na(t,e,a),As(t,e,a))}};function uf(e,t,a,l,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,c):t.prototype&&t.prototype.isPureReactComponent?!js(a,l)||!js(n,i):!0}function of(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&xr.enqueueReplaceState(t,t.state,null)}function Cn(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=N({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function ff(e){oi(e)}function df(e){console.error(e)}function hf(e){oi(e)}function Li(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function mf(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function pr(e,t,a){return a=Vl(a),a.tag=3,a.payload={element:null},a.callback=function(){Li(e,t)},a}function gf(e){return e=Vl(e),e.tag=3,e}function yf(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;e.payload=function(){return n(i)},e.callback=function(){mf(t,a,l)}}var c=a.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){mf(t,a,l),typeof n!="function"&&(Fl===null?Fl=new Set([this]):Fl.add(this));var o=l.stack;this.componentDidCatch(l.value,{componentStack:o!==null?o:""})})}function Eh(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Zn(t,a,n,!0),a=Da.current,a!==null){switch(a.tag){case 31:case 13:return Ka===null?Zi():a.alternate===null&&Ut===0&&(Ut=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===bi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Gr(e,l,n)),!1;case 22:return a.flags|=65536,l===bi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Gr(e,l,n)),!1}throw Error(u(435,a.tag))}return Gr(e,l,n),Zi(),!1}if(rt)return t=Da.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==Hc&&(e=Error(u(422),{cause:l}),ws(Ga(e,a)))):(l!==Hc&&(t=Error(u(423),{cause:l}),ws(Ga(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=Ga(l,a),n=pr(e.stateNode,l,n),Jc(e,n),Ut!==4&&(Ut=2)),!1;var i=Error(u(520),{cause:l});if(i=Ga(i,a),Gs===null?Gs=[i]:Gs.push(i),Ut!==4&&(Ut=2),t===null)return!0;l=Ga(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=pr(a.stateNode,l,e),Jc(a,e),!1;case 1:if(t=a.type,i=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Fl===null||!Fl.has(i))))return a.flags|=65536,n&=-n,a.lanes|=n,n=gf(n),yf(n,e,a,l),Jc(a,n),!1}a=a.return}while(a!==null);return!1}var vr=Error(u(461)),Jt=!1;function la(e,t,a,l){t.child=e===null?vo(t,null,a,l):Nn(t,e.child,a,l)}function xf(e,t,a,l,n){a=a.render;var i=t.ref;if("ref"in l){var c={};for(var o in l)o!=="ref"&&(c[o]=l[o])}else c=l;return vn(t),l=er(e,t,a,c,i,n),o=tr(),e!==null&&!Jt?(ar(e,t,n),Ml(e,t,n)):(rt&&o&&Oc(t),t.flags|=1,la(e,t,l,n),t.child)}function pf(e,t,a,l,n){if(e===null){var i=a.type;return typeof i=="function"&&!Rc(i)&&i.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=i,vf(e,t,i,l,n)):(e=mi(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Tr(e,n)){var c=i.memoizedProps;if(a=a.compare,a=a!==null?a:js,a(c,l)&&e.ref===t.ref)return Ml(e,t,n)}return t.flags|=1,e=bl(i,l),e.ref=t.ref,e.return=t,t.child=e}function vf(e,t,a,l,n){if(e!==null){var i=e.memoizedProps;if(js(i,l)&&e.ref===t.ref)if(Jt=!1,t.pendingProps=l=i,Tr(e,n))(e.flags&131072)!==0&&(Jt=!0);else return t.lanes=e.lanes,Ml(e,t,n)}return br(e,t,a,l,n)}function bf(e,t,a,l){var n=l.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|a:a,e!==null){for(l=t.child=e.child,n=0;l!==null;)n=n|l.lanes|l.childLanes,l=l.sibling;l=n&~i}else l=0,t.child=null;return jf(e,t,i,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&pi(t,i!==null?i.cachePool:null),i!==null?So(t,i):$c(),No(t);else return l=t.lanes=536870912,jf(e,t,i!==null?i.baseLanes|a:a,a,l)}else i!==null?(pi(t,i.cachePool),So(t,i),Kl(),t.memoizedState=null):(e!==null&&pi(t,null),$c(),Kl());return la(e,t,n,a),t.child}function Us(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function jf(e,t,a,l,n){var i=Vc();return i=i===null?null:{parent:Qt._currentValue,pool:i},t.memoizedState={baseLanes:a,cachePool:i},e!==null&&pi(t,null),$c(),No(t),e!==null&&Zn(e,t,l,!0),t.childLanes=n,null}function _i(e,t){return t=Ui({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sf(e,t,a){return Nn(t,e.child,null,a),e=_i(t,t.pendingProps),e.flags|=2,Ra(t),t.memoizedState=null,e}function Ah(e,t,a){var l=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(rt){if(l.mode==="hidden")return e=_i(t,l),t.lanes=536870912,Us(null,e);if(Ic(t),(e=Tt)?(e=_d(e,Qa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yl!==null?{id:rl,overflow:ul}:null,retryLane:536870912,hydrationErrors:null},a=lo(e),a.return=t,t.child=a,ta=t,Tt=null)):e=null,e===null)throw ql(t);return t.lanes=536870912,null}return _i(t,l)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(Ic(t),n)if(t.flags&256)t.flags&=-257,t=Sf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(Jt||Zn(e,t,a,!1),n=(a&e.childLanes)!==0,Jt||n){if(l=Ct,l!==null&&(c=te(l,a),c!==0&&c!==i.retryLane))throw i.retryLane=c,gn(e,c),Na(l,e,c),vr;Zi(),t=Sf(e,t,a)}else e=i.treeContext,Tt=Ja(c.nextSibling),ta=t,rt=!0,kl=null,Qa=!1,e!==null&&io(t,e),t=_i(t,l),t.flags|=4096;return t}return e=bl(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Oi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(u(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function br(e,t,a,l,n){return vn(t),a=er(e,t,a,l,void 0,n),l=tr(),e!==null&&!Jt?(ar(e,t,n),Ml(e,t,n)):(rt&&l&&Oc(t),t.flags|=1,la(e,t,a,n),t.child)}function Nf(e,t,a,l,n,i){return vn(t),t.updateQueue=null,a=Co(t,l,a,n),wo(e),l=tr(),e!==null&&!Jt?(ar(e,t,i),Ml(e,t,i)):(rt&&l&&Oc(t),t.flags|=1,la(e,t,a,i),t.child)}function wf(e,t,a,l,n){if(vn(t),t.stateNode===null){var i=qn,c=a.contextType;typeof c=="object"&&c!==null&&(i=aa(c)),i=new a(l,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=xr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=l,i.state=t.memoizedState,i.refs={},Qc(t),c=a.contextType,i.context=typeof c=="object"&&c!==null?aa(c):qn,i.state=t.memoizedState,c=a.getDerivedStateFromProps,typeof c=="function"&&(yr(t,a,c,l),i.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&xr.enqueueReplaceState(i,i.state,null),Ds(t,l,i,n),zs(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,y=Cn(a,o);i.props=y;var E=i.context,Y=a.contextType;c=qn,typeof Y=="object"&&Y!==null&&(c=aa(Y));var K=a.getDerivedStateFromProps;Y=typeof K=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,Y||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||E!==c)&&of(t,i,l,c),Gl=!1;var R=t.memoizedState;i.state=R,Ds(t,l,i,n),zs(),E=t.memoizedState,o||R!==E||Gl?(typeof K=="function"&&(yr(t,a,K,l),E=t.memoizedState),(y=Gl||uf(t,a,y,l,R,E,c))?(Y||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=E),i.props=l,i.state=E,i.context=c,l=y):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{i=t.stateNode,Kc(e,t),c=t.memoizedProps,Y=Cn(a,c),i.props=Y,K=t.pendingProps,R=i.context,E=a.contextType,y=qn,typeof E=="object"&&E!==null&&(y=aa(E)),o=a.getDerivedStateFromProps,(E=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==K||R!==y)&&of(t,i,l,y),Gl=!1,R=t.memoizedState,i.state=R,Ds(t,l,i,n),zs();var L=t.memoizedState;c!==K||R!==L||Gl||e!==null&&e.dependencies!==null&&yi(e.dependencies)?(typeof o=="function"&&(yr(t,a,o,l),L=t.memoizedState),(Y=Gl||uf(t,a,Y,l,R,L,y)||e!==null&&e.dependencies!==null&&yi(e.dependencies))?(E||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,L,y),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,L,y)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=L),i.props=l,i.state=L,i.context=y,l=Y):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),l=!1)}return i=l,Oi(e,t),l=(t.flags&128)!==0,i||l?(i=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&l?(t.child=Nn(t,e.child,null,n),t.child=Nn(t,null,a,n)):la(e,t,a,n),t.memoizedState=i.state,e=t.child):e=Ml(e,t,n),e}function Cf(e,t,a,l){return xn(),t.flags|=256,la(e,t,a,l),t.child}var jr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sr(e){return{baseLanes:e,cachePool:ho()}}function Nr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=_a),e}function Mf(e,t,a){var l=t.pendingProps,n=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(qt.current&2)!==0),c&&(n=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(rt){if(n?Ql(t):Kl(),(e=Tt)?(e=_d(e,Qa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Yl!==null?{id:rl,overflow:ul}:null,retryLane:536870912,hydrationErrors:null},a=lo(e),a.return=t,t.child=a,ta=t,Tt=null)):e=null,e===null)throw ql(t);return su(e)?t.lanes=32:t.lanes=536870912,null}var o=l.children;return l=l.fallback,n?(Kl(),n=t.mode,o=Ui({mode:"hidden",children:o},n),l=yn(l,n,a,null),o.return=t,l.return=t,o.sibling=l,t.child=o,l=t.child,l.memoizedState=Sr(a),l.childLanes=Nr(e,c,a),t.memoizedState=jr,Us(null,l)):(Ql(t),wr(t,o))}var y=e.memoizedState;if(y!==null&&(o=y.dehydrated,o!==null)){if(i)t.flags&256?(Ql(t),t.flags&=-257,t=Cr(e,t,a)):t.memoizedState!==null?(Kl(),t.child=e.child,t.flags|=128,t=null):(Kl(),o=l.fallback,n=t.mode,l=Ui({mode:"visible",children:l.children},n),o=yn(o,n,a,null),o.flags|=2,l.return=t,o.return=t,l.sibling=o,t.child=l,Nn(t,e.child,null,a),l=t.child,l.memoizedState=Sr(a),l.childLanes=Nr(e,c,a),t.memoizedState=jr,t=Us(null,l));else if(Ql(t),su(o)){if(c=o.nextSibling&&o.nextSibling.dataset,c)var E=c.dgst;c=E,l=Error(u(419)),l.stack="",l.digest=c,ws({value:l,source:null,stack:null}),t=Cr(e,t,a)}else if(Jt||Zn(e,t,a,!1),c=(a&e.childLanes)!==0,Jt||c){if(c=Ct,c!==null&&(l=te(c,a),l!==0&&l!==y.retryLane))throw y.retryLane=l,gn(e,l),Na(c,e,l),vr;nu(o)||Zi(),t=Cr(e,t,a)}else nu(o)?(t.flags|=192,t.child=e.child,t=null):(e=y.treeContext,Tt=Ja(o.nextSibling),ta=t,rt=!0,kl=null,Qa=!1,e!==null&&io(t,e),t=wr(t,l.children),t.flags|=4096);return t}return n?(Kl(),o=l.fallback,n=t.mode,y=e.child,E=y.sibling,l=bl(y,{mode:"hidden",children:l.children}),l.subtreeFlags=y.subtreeFlags&65011712,E!==null?o=bl(E,o):(o=yn(o,n,a,null),o.flags|=2),o.return=t,l.return=t,l.sibling=o,t.child=l,Us(null,l),l=t.child,o=e.child.memoizedState,o===null?o=Sr(a):(n=o.cachePool,n!==null?(y=Qt._currentValue,n=n.parent!==y?{parent:y,pool:y}:n):n=ho(),o={baseLanes:o.baseLanes|a,cachePool:n}),l.memoizedState=o,l.childLanes=Nr(e,c,a),t.memoizedState=jr,Us(e.child,l)):(Ql(t),a=e.child,e=a.sibling,a=bl(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=a,t.memoizedState=null,a)}function wr(e,t){return t=Ui({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ui(e,t){return e=za(22,e,null,t),e.lanes=0,e}function Cr(e,t,a){return Nn(t,e.child,null,a),e=wr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Tf(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),kc(e.return,t,a)}function Mr(e,t,a,l,n,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=a,c.tailMode=n,c.treeForkCount=i)}function Ef(e,t,a){var l=t.pendingProps,n=l.revealOrder,i=l.tail;l=l.children;var c=qt.current,o=(c&2)!==0;if(o?(c=c&1|2,t.flags|=128):c&=1,ue(qt,c),la(e,t,l,a),l=rt?Ns:0,!o&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tf(e,a,t);else if(e.tag===19)Tf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&wi(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Mr(t,!1,n,a,i,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&wi(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Mr(t,!0,a,null,i,l);break;case"together":Mr(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Ml(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),$l|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Zn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,a=bl(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=bl(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Tr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&yi(e)))}function zh(e,t,a){switch(t.tag){case 3:Nt(t,t.stateNode.containerInfo),Xl(t,Qt,e.memoizedState.cache),xn();break;case 27:case 5:Bt(t);break;case 4:Nt(t,t.stateNode.containerInfo);break;case 10:Xl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ic(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ql(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Mf(e,t,a):(Ql(t),e=Ml(e,t,a),e!==null?e.sibling:null);Ql(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Zn(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Ef(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ue(qt,qt.current),l)break;return null;case 22:return t.lanes=0,bf(e,t,a,t.pendingProps);case 24:Xl(t,Qt,e.memoizedState.cache)}return Ml(e,t,a)}function Af(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Jt=!0;else{if(!Tr(e,a)&&(t.flags&128)===0)return Jt=!1,zh(e,t,a);Jt=(e.flags&131072)!==0}else Jt=!1,rt&&(t.flags&1048576)!==0&&so(t,Ns,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=jn(t.elementType),t.type=e,typeof e=="function")Rc(e)?(l=Cn(e,l),t.tag=1,t=wf(null,t,e,l,a)):(t.tag=0,t=br(null,t,e,l,a));else{if(e!=null){var n=e.$$typeof;if(n===ve){t.tag=11,t=xf(null,t,e,l,a);break e}else if(n===O){t.tag=14,t=pf(null,t,e,l,a);break e}}throw t=Ie(e)||e,Error(u(306,t,""))}}return t;case 0:return br(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=Cn(l,t.pendingProps),wf(e,t,l,n,a);case 3:e:{if(Nt(t,t.stateNode.containerInfo),e===null)throw Error(u(387));l=t.pendingProps;var i=t.memoizedState;n=i.element,Kc(e,t),Ds(t,l,null,a);var c=t.memoizedState;if(l=c.cache,Xl(t,Qt,l),l!==i.cache&&qc(t,[Qt],a,!0),zs(),l=c.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Cf(e,t,l,a);break e}else if(l!==n){n=Ga(Error(u(424)),t),ws(n),t=Cf(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Tt=Ja(e.firstChild),ta=t,rt=!0,kl=null,Qa=!0,a=vo(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xn(),l===n){t=Ml(e,t,a);break e}la(e,t,l,a)}t=t.child}return t;case 26:return Oi(e,t),e===null?(a=kd(t.type,null,t.pendingProps,null))?t.memoizedState=a:rt||(a=t.type,e=t.pendingProps,l=Ii(qe.current).createElement(a),l[J]=t,l[ee]=e,na(l,a,e),Re(l),t.stateNode=l):t.memoizedState=kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Bt(t),e===null&&rt&&(l=t.stateNode=Hd(t.type,t.pendingProps,qe.current),ta=t,Qa=!0,n=Tt,tn(t.type)?(iu=n,Tt=Ja(l.firstChild)):Tt=n),la(e,t,t.pendingProps.children,a),Oi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&rt&&((n=l=Tt)&&(l=im(l,t.type,t.pendingProps,Qa),l!==null?(t.stateNode=l,ta=t,Tt=Ja(l.firstChild),Qa=!1,n=!0):n=!1),n||ql(t)),Bt(t),n=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,l=i.children,tu(n,i)?l=null:c!==null&&tu(n,c)&&(t.flags|=32),t.memoizedState!==null&&(n=er(e,t,jh,null,null,a),Fs._currentValue=n),Oi(e,t),la(e,t,l,a),t.child;case 6:return e===null&&rt&&((e=a=Tt)&&(a=cm(a,t.pendingProps,Qa),a!==null?(t.stateNode=a,ta=t,Tt=null,e=!0):e=!1),e||ql(t)),null;case 13:return Mf(e,t,a);case 4:return Nt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Nn(t,null,l,a):la(e,t,l,a),t.child;case 11:return xf(e,t,t.type,t.pendingProps,a);case 7:return la(e,t,t.pendingProps,a),t.child;case 8:return la(e,t,t.pendingProps.children,a),t.child;case 12:return la(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Xl(t,t.type,l.value),la(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,vn(t),n=aa(n),l=l(n),t.flags|=1,la(e,t,l,a),t.child;case 14:return pf(e,t,t.type,t.pendingProps,a);case 15:return vf(e,t,t.type,t.pendingProps,a);case 19:return Ef(e,t,a);case 31:return Ah(e,t,a);case 22:return bf(e,t,a,t.pendingProps);case 24:return vn(t),l=aa(Qt),e===null?(n=Vc(),n===null&&(n=Ct,i=Xc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=a),n=i),t.memoizedState={parent:l,cache:n},Qc(t),Xl(t,Qt,n)):((e.lanes&a)!==0&&(Kc(e,t),Ds(t,null,null,a),zs()),n=e.memoizedState,i=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Xl(t,Qt,l)):(l=i.cache,Xl(t,Qt,l),l!==n.cache&&qc(t,[Qt],a,!0))),la(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function Tl(e){e.flags|=4}function Er(e,t,a,l,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(ad())e.flags|=8192;else throw Sn=bi,Zc}else e.flags&=-16777217}function zf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zd(t))if(ad())e.flags|=8192;else throw Sn=bi,Zc}function Hi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Rn():536870912,e.lanes|=t,ls|=t)}function Hs(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Dh(e,t,a){var l=t.pendingProps;switch(Uc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Et(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Nl(Qt),gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Vn(t)?Tl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Bc())),Et(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Tl(t),i!==null?(Et(t),zf(t,i)):(Et(t),Er(t,n,null,l,a))):i?i!==e.memoizedState?(Tl(t),Et(t),zf(t,i)):(Et(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Tl(t),Et(t),Er(t,n,e,l,a)),null;case 27:if(hl(t),a=qe.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Tl(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return Et(t),null}e=me.current,Vn(t)?co(t):(e=Hd(n,l,a),t.stateNode=e,Tl(t))}return Et(t),null;case 5:if(hl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Tl(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return Et(t),null}if(i=me.current,Vn(t))co(t);else{var c=Ii(qe.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?i.multiple=!0:l.size&&(i.size=l.size);break;default:i=typeof l.is=="string"?c.createElement(n,{is:l.is}):c.createElement(n)}}i[J]=t,i[ee]=l;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch(na(i,n,l),n){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Tl(t)}}return Et(t),Er(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Tl(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(u(166));if(e=qe.current,Vn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=ta,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[J]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Md(e.nodeValue,a)),e||ql(t,!0)}else e=Ii(e).createTextNode(l),e[J]=t,t.stateNode=e}return Et(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Vn(t),a!==null){if(e===null){if(!l)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[J]=t}else xn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Et(t),e=!1}else a=Bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ra(t),t):(Ra(t),null);if((t.flags&128)!==0)throw Error(u(558))}return Et(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Vn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(u(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(u(317));n[J]=t}else xn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Et(t),n=!1}else n=Bc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Ra(t),t):(Ra(t),null)}return Ra(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Hi(t,t.updateQueue),Et(t),null);case 4:return gt(),e===null&&$r(t.stateNode.containerInfo),Et(t),null;case 10:return Nl(t.type),Et(t),null;case 19:if(H(qt),l=t.memoizedState,l===null)return Et(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Hs(l,!1);else{if(Ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=wi(e),i!==null){for(t.flags|=128,Hs(l,!1),e=i.updateQueue,t.updateQueue=e,Hi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ao(a,e),a=a.sibling;return ue(qt,qt.current&1|2),rt&&jl(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Mt()>Xi&&(t.flags|=128,n=!0,Hs(l,!1),t.lanes=4194304)}else{if(!n)if(e=wi(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Hi(t,e),Hs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!rt)return Et(t),null}else 2*Mt()-l.renderingStartTime>Xi&&a!==536870912&&(t.flags|=128,n=!0,Hs(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(e=l.last,e!==null?e.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Mt(),e.sibling=null,a=qt.current,ue(qt,n?a&1|2:a&1),rt&&jl(t,l.treeForkCount),e):(Et(t),null);case 22:case 23:return Ra(t),Fc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),a=t.updateQueue,a!==null&&Hi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&H(bn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Nl(Qt),Et(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function Rh(e,t){switch(Uc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Nl(Qt),gt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return hl(t),null;case 31:if(t.memoizedState!==null){if(Ra(t),t.alternate===null)throw Error(u(340));xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ra(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));xn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(qt),null;case 4:return gt(),null;case 10:return Nl(t.type),null;case 22:case 23:return Ra(t),Fc(),e!==null&&H(bn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Nl(Qt),null;case 25:return null;default:return null}}function Df(e,t){switch(Uc(t),t.tag){case 3:Nl(Qt),gt();break;case 26:case 27:case 5:hl(t);break;case 4:gt();break;case 31:t.memoizedState!==null&&Ra(t);break;case 13:Ra(t);break;case 19:H(qt);break;case 10:Nl(t.type);break;case 22:case 23:Ra(t),Fc(),e!==null&&H(bn);break;case 24:Nl(Qt)}}function Bs(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var i=a.create,c=a.inst;l=i(),c.destroy=l}a=a.next}while(a!==n)}}catch(o){vt(t,t.return,o)}}function Jl(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){var c=l.inst,o=c.destroy;if(o!==void 0){c.destroy=void 0,n=t;var y=a,E=o;try{E()}catch(Y){vt(n,y,Y)}}}l=l.next}while(l!==i)}}catch(Y){vt(t,t.return,Y)}}function Rf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{jo(t,a)}catch(l){vt(e,e.return,l)}}}function Lf(e,t,a){a.props=Cn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){vt(e,t,l)}}function Ys(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){vt(e,t,n)}}function ol(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){vt(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){vt(e,t,n)}else a.current=null}function _f(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){vt(e,e.return,n)}}function Ar(e,t,a){try{var l=e.stateNode;em(l,e.type,a,t),l[ee]=t}catch(n){vt(e,e.return,n)}}function Of(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&tn(e.type)||e.tag===4}function zr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Of(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&tn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ea));else if(l!==4&&(l===27&&tn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Dr(e,t,a),e=e.sibling;e!==null;)Dr(e,t,a),e=e.sibling}function Bi(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&tn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Bi(e,t,a),e=e.sibling;e!==null;)Bi(e,t,a),e=e.sibling}function Uf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);na(t,l,a),t[J]=e,t[ee]=a}catch(i){vt(e,e.return,i)}}var El=!1,Wt=!1,Rr=!1,Hf=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Lh(e,t){if(e=e.containerInfo,Pr=sc,e=Ku(e),Cc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{a.nodeType,i.nodeType}catch{a=null;break e}var c=0,o=-1,y=-1,E=0,Y=0,K=e,R=null;t:for(;;){for(var L;K!==a||n!==0&&K.nodeType!==3||(o=c+n),K!==i||l!==0&&K.nodeType!==3||(y=c+l),K.nodeType===3&&(c+=K.nodeValue.length),(L=K.firstChild)!==null;)R=K,K=L;for(;;){if(K===e)break t;if(R===a&&++E===n&&(o=c),R===i&&++Y===l&&(y=c),(L=K.nextSibling)!==null)break;K=R,R=K.parentNode}K=L}a=o===-1||y===-1?null:{start:o,end:y}}else a=null}a=a||{start:0,end:0}}else a=null;for(eu={focusedElem:e,selectionRange:a},sc=!1,Pt=t;Pt!==null;)if(t=Pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pt=e;else for(;Pt!==null;){switch(t=Pt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,a=t,n=i.memoizedProps,i=i.memoizedState,l=a.stateNode;try{var Ne=Cn(a.type,n);e=l.getSnapshotBeforeUpdate(Ne,i),l.__reactInternalSnapshotBeforeUpdate=e}catch(Be){vt(a,a.return,Be)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)lu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,Pt=e;break}Pt=t.return}}function Bf(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:zl(e,a),l&4&&Bs(5,a);break;case 1:if(zl(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(c){vt(a,a.return,c)}else{var n=Cn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){vt(a,a.return,c)}}l&64&&Rf(a),l&512&&Ys(a,a.return);break;case 3:if(zl(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{jo(e,t)}catch(c){vt(a,a.return,c)}}break;case 27:t===null&&l&4&&Uf(a);case 26:case 5:zl(e,a),t===null&&l&4&&_f(a),l&512&&Ys(a,a.return);break;case 12:zl(e,a);break;case 31:zl(e,a),l&4&&qf(e,a);break;case 13:zl(e,a),l&4&&Xf(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Xh.bind(null,a),rm(e,a))));break;case 22:if(l=a.memoizedState!==null||El,!l){t=t!==null&&t.memoizedState!==null||Wt,n=El;var i=Wt;El=l,(Wt=t)&&!i?Dl(e,a,(a.subtreeFlags&8772)!==0):zl(e,a),El=n,Wt=i}break;case 30:break;default:zl(e,a)}}function Yf(e){var t=e.alternate;t!==null&&(e.alternate=null,Yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&we(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var At=null,va=!1;function Al(e,t,a){for(a=a.child;a!==null;)kf(e,t,a),a=a.sibling}function kf(e,t,a){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Gt,a)}catch{}switch(a.tag){case 26:Wt||ol(a,t),Al(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Wt||ol(a,t);var l=At,n=va;tn(a.type)&&(At=a.stateNode,va=!1),Al(e,t,a),Js(a.stateNode),At=l,va=n;break;case 5:Wt||ol(a,t);case 6:if(l=At,n=va,At=null,Al(e,t,a),At=l,va=n,At!==null)if(va)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(a.stateNode)}catch(i){vt(a,t,i)}else try{At.removeChild(a.stateNode)}catch(i){vt(a,t,i)}break;case 18:At!==null&&(va?(e=At,Rd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),fs(e)):Rd(At,a.stateNode));break;case 4:l=At,n=va,At=a.stateNode.containerInfo,va=!0,Al(e,t,a),At=l,va=n;break;case 0:case 11:case 14:case 15:Jl(2,a,t),Wt||Jl(4,a,t),Al(e,t,a);break;case 1:Wt||(ol(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lf(a,t,l)),Al(e,t,a);break;case 21:Al(e,t,a);break;case 22:Wt=(l=Wt)||a.memoizedState!==null,Al(e,t,a),Wt=l;break;default:Al(e,t,a)}}function qf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fs(e)}catch(a){vt(t,t.return,a)}}}function Xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fs(e)}catch(a){vt(t,t.return,a)}}function _h(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Hf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Hf),t;default:throw Error(u(435,e.tag))}}function Yi(e,t){var a=_h(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var n=Gh.bind(null,e,l);l.then(n,n)}})}function ba(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],i=e,c=t,o=c;e:for(;o!==null;){switch(o.tag){case 27:if(tn(o.type)){At=o.stateNode,va=!1;break e}break;case 5:At=o.stateNode,va=!1;break e;case 3:case 4:At=o.stateNode.containerInfo,va=!0;break e}o=o.return}if(At===null)throw Error(u(160));kf(i,c,n),At=null,va=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Gf(t,e),t=t.sibling}var el=null;function Gf(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ba(t,e),ja(e),l&4&&(Jl(3,e,e.return),Bs(3,e),Jl(5,e,e.return));break;case 1:ba(t,e),ja(e),l&512&&(Wt||a===null||ol(a,a.return)),l&64&&El&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=el;if(ba(t,e),ja(e),l&512&&(Wt||a===null||ol(a,a.return)),l&4){var i=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[pe]||i[J]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),na(i,l,a),i[J]=e,Re(i),l=i;break e;case"link":var c=Gd("link","href",n).get(l+(a.href||""));if(c){for(var o=0;o<c.length;o++)if(i=c[o],i.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&i.getAttribute("rel")===(a.rel==null?null:a.rel)&&i.getAttribute("title")===(a.title==null?null:a.title)&&i.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){c.splice(o,1);break t}}i=n.createElement(l),na(i,l,a),n.head.appendChild(i);break;case"meta":if(c=Gd("meta","content",n).get(l+(a.content||""))){for(o=0;o<c.length;o++)if(i=c[o],i.getAttribute("content")===(a.content==null?null:""+a.content)&&i.getAttribute("name")===(a.name==null?null:a.name)&&i.getAttribute("property")===(a.property==null?null:a.property)&&i.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&i.getAttribute("charset")===(a.charSet==null?null:a.charSet)){c.splice(o,1);break t}}i=n.createElement(l),na(i,l,a),n.head.appendChild(i);break;default:throw Error(u(468,l))}i[J]=e,Re(i),l=i}e.stateNode=l}else Vd(n,e.type,e.stateNode);else e.stateNode=Xd(n,l,e.memoizedProps);else i!==l?(i===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):i.count--,l===null?Vd(n,e.type,e.stateNode):Xd(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ar(e,e.memoizedProps,a.memoizedProps)}break;case 27:ba(t,e),ja(e),l&512&&(Wt||a===null||ol(a,a.return)),a!==null&&l&4&&Ar(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ba(t,e),ja(e),l&512&&(Wt||a===null||ol(a,a.return)),e.flags&32){n=e.stateNode;try{Fe(n,"")}catch(Ne){vt(e,e.return,Ne)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Ar(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Rr=!0);break;case 6:if(ba(t,e),ja(e),l&4){if(e.stateNode===null)throw Error(u(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(Ne){vt(e,e.return,Ne)}}break;case 3:if(tc=null,n=el,el=Pi(t.containerInfo),ba(t,e),el=n,ja(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fs(t.containerInfo)}catch(Ne){vt(e,e.return,Ne)}Rr&&(Rr=!1,Vf(e));break;case 4:l=el,el=Pi(e.stateNode.containerInfo),ba(t,e),ja(e),el=l;break;case 12:ba(t,e),ja(e);break;case 31:ba(t,e),ja(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yi(e,l)));break;case 13:ba(t,e),ja(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qi=Mt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yi(e,l)));break;case 22:n=e.memoizedState!==null;var y=a!==null&&a.memoizedState!==null,E=El,Y=Wt;if(El=E||n,Wt=Y||y,ba(t,e),Wt=Y,El=E,ja(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||y||El||Wt||Mn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){y=a=t;try{if(i=y.stateNode,n)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{o=y.stateNode;var K=y.memoizedProps.style,R=K!=null&&K.hasOwnProperty("display")?K.display:null;o.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(Ne){vt(y,y.return,Ne)}}}else if(t.tag===6){if(a===null){y=t;try{y.stateNode.nodeValue=n?"":y.memoizedProps}catch(Ne){vt(y,y.return,Ne)}}}else if(t.tag===18){if(a===null){y=t;try{var L=y.stateNode;n?Ld(L,!0):Ld(y.stateNode,!1)}catch(Ne){vt(y,y.return,Ne)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Yi(e,a))));break;case 19:ba(t,e),ja(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yi(e,l)));break;case 30:break;case 21:break;default:ba(t,e),ja(e)}}function ja(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Of(l)){a=l;break}l=l.return}if(a==null)throw Error(u(160));switch(a.tag){case 27:var n=a.stateNode,i=zr(e);Bi(e,i,n);break;case 5:var c=a.stateNode;a.flags&32&&(Fe(c,""),a.flags&=-33);var o=zr(e);Bi(e,o,c);break;case 3:case 4:var y=a.stateNode.containerInfo,E=zr(e);Dr(e,E,y);break;default:throw Error(u(161))}}catch(Y){vt(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bf(e,t.alternate,t),t=t.sibling}function Mn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Jl(4,t,t.return),Mn(t);break;case 1:ol(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Lf(t,t.return,a),Mn(t);break;case 27:Js(t.stateNode);case 26:case 5:ol(t,t.return),Mn(t);break;case 22:t.memoizedState===null&&Mn(t);break;case 30:Mn(t);break;default:Mn(t)}e=e.sibling}}function Dl(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:Dl(n,i,a),Bs(4,i);break;case 1:if(Dl(n,i,a),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(E){vt(l,l.return,E)}if(l=i,n=l.updateQueue,n!==null){var o=l.stateNode;try{var y=n.shared.hiddenCallbacks;if(y!==null)for(n.shared.hiddenCallbacks=null,n=0;n<y.length;n++)bo(y[n],o)}catch(E){vt(l,l.return,E)}}a&&c&64&&Rf(i),Ys(i,i.return);break;case 27:Uf(i);case 26:case 5:Dl(n,i,a),a&&l===null&&c&4&&_f(i),Ys(i,i.return);break;case 12:Dl(n,i,a);break;case 31:Dl(n,i,a),a&&c&4&&qf(n,i);break;case 13:Dl(n,i,a),a&&c&4&&Xf(n,i);break;case 22:i.memoizedState===null&&Dl(n,i,a),Ys(i,i.return);break;case 30:break;default:Dl(n,i,a)}t=t.sibling}}function Lr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Cs(a))}function _r(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cs(e))}function tl(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zf(e,t,a,l),t=t.sibling}function Zf(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:tl(e,t,a,l),n&2048&&Bs(9,t);break;case 1:tl(e,t,a,l);break;case 3:tl(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Cs(e)));break;case 12:if(n&2048){tl(e,t,a,l),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,o=i.onPostCommit;typeof o=="function"&&o(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){vt(t,t.return,y)}}else tl(e,t,a,l);break;case 31:tl(e,t,a,l);break;case 13:tl(e,t,a,l);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?tl(e,t,a,l):ks(e,t):i._visibility&2?tl(e,t,a,l):(i._visibility|=2,es(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Lr(c,t);break;case 24:tl(e,t,a,l),n&2048&&_r(t.alternate,t);break;default:tl(e,t,a,l)}}function es(e,t,a,l,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,o=a,y=l,E=c.flags;switch(c.tag){case 0:case 11:case 15:es(i,c,o,y,n),Bs(8,c);break;case 23:break;case 22:var Y=c.stateNode;c.memoizedState!==null?Y._visibility&2?es(i,c,o,y,n):ks(i,c):(Y._visibility|=2,es(i,c,o,y,n)),n&&E&2048&&Lr(c.alternate,c);break;case 24:es(i,c,o,y,n),n&&E&2048&&_r(c.alternate,c);break;default:es(i,c,o,y,n)}t=t.sibling}}function ks(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:ks(a,l),n&2048&&Lr(l.alternate,l);break;case 24:ks(a,l),n&2048&&_r(l.alternate,l);break;default:ks(a,l)}t=t.sibling}}var qs=8192;function ts(e,t,a){if(e.subtreeFlags&qs)for(e=e.child;e!==null;)Qf(e,t,a),e=e.sibling}function Qf(e,t,a){switch(e.tag){case 26:ts(e,t,a),e.flags&qs&&e.memoizedState!==null&&bm(a,el,e.memoizedState,e.memoizedProps);break;case 5:ts(e,t,a);break;case 3:case 4:var l=el;el=Pi(e.stateNode.containerInfo),ts(e,t,a),el=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=qs,qs=16777216,ts(e,t,a),qs=l):ts(e,t,a));break;default:ts(e,t,a)}}function Kf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Pt=l,Wf(l,e)}Kf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jf(e),e=e.sibling}function Jf(e){switch(e.tag){case 0:case 11:case 15:Xs(e),e.flags&2048&&Jl(9,e,e.return);break;case 3:Xs(e);break;case 12:Xs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ki(e)):Xs(e);break;default:Xs(e)}}function ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Pt=l,Wf(l,e)}Kf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Jl(8,t,t.return),ki(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ki(t));break;default:ki(t)}e=e.sibling}}function Wf(e,t){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Jl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=e;Pt!==null;){l=Pt;var n=l.sibling,i=l.return;if(Yf(l),l===a){Pt=null;break e}if(n!==null){n.return=i,Pt=n;break e}Pt=i}}}var Oh={getCacheForType:function(e){var t=aa(Qt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return aa(Qt).controller.signal}},Uh=typeof WeakMap=="function"?WeakMap:Map,mt=0,Ct=null,tt=null,st=0,pt=0,La=null,Wl=!1,as=!1,Or=!1,Rl=0,Ut=0,$l=0,Tn=0,Ur=0,_a=0,ls=0,Gs=null,Sa=null,Hr=!1,qi=0,$f=0,Xi=1/0,Gi=null,Fl=null,Ft=0,Il=null,ns=null,Ll=0,Br=0,Yr=null,Ff=null,Vs=0,kr=null;function Oa(){return(mt&2)!==0&&st!==0?st&-st:z.T!==null?Qr():h()}function If(){if(_a===0)if((st&536870912)===0||rt){var e=pl;pl<<=1,(pl&3932160)===0&&(pl=262144),_a=e}else _a=536870912;return e=Da.current,e!==null&&(e.flags|=32),_a}function Na(e,t,a){(e===Ct&&(pt===2||pt===9)||e.cancelPendingCommit!==null)&&(ss(e,0),Pl(e,st,_a,!1)),cl(e,a),((mt&2)===0||e!==Ct)&&(e===Ct&&((mt&2)===0&&(Tn|=a),Ut===4&&Pl(e,st,_a,!1)),fl(e))}function Pf(e,t,a){if((mt&6)!==0)throw Error(u(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ba(e,t),n=l?Yh(e,t):Xr(e,t,!0),i=l;do{if(n===0){as&&!l&&Pl(e,t,0,!1);break}else{if(a=e.current.alternate,i&&!Hh(a)){n=Xr(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var o=e;n=Gs;var y=o.current.memoizedState.isDehydrated;if(y&&(ss(o,c).flags|=256),c=Xr(o,c,!1),c!==2){if(Or&&!y){o.errorRecoveryDisabledLanes|=i,Tn|=i,n=4;break e}i=Sa,Sa=n,i!==null&&(Sa===null?Sa=i:Sa.push.apply(Sa,i))}n=c}if(i=!1,n!==2)continue}}if(n===1){ss(e,0),Pl(e,t,0,!0);break}e:{switch(l=e,i=n,i){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:Pl(l,t,_a,!Wl);break e;case 2:Sa=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(n=qi+300-Mt(),10<n)){if(Pl(l,t,_a,!Wl),Ia(l,0,!0)!==0)break e;Ll=t,l.timeoutHandle=zd(ed.bind(null,l,a,Sa,Gi,Hr,t,_a,Tn,ls,Wl,i,"Throttled",-0,0),n);break e}ed(l,a,Sa,Gi,Hr,t,_a,Tn,ls,Wl,i,null,-0,0)}}break}while(!0);fl(e)}function ed(e,t,a,l,n,i,c,o,y,E,Y,K,R,L){if(e.timeoutHandle=-1,K=t.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},Qf(t,i,K);var Ne=(i&62914560)===i?qi-Mt():(i&4194048)===i?$f-Mt():0;if(Ne=jm(K,Ne),Ne!==null){Ll=i,e.cancelPendingCommit=Ne(rd.bind(null,e,t,i,a,l,n,c,o,y,Y,K,null,R,L)),Pl(e,i,c,!E);return}}rd(e,t,i,a,l,n,c,o,y)}function Hh(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],i=n.getSnapshot;n=n.value;try{if(!Aa(i(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pl(e,t,a,l){t&=~Ur,t&=~Tn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var i=31-Vt(n),c=1<<i;l[i]=-1,n&=~c}a!==0&&Ln(e,a,t)}function Vi(){return(mt&6)===0?(Zs(0),!1):!0}function qr(){if(tt!==null){if(pt===0)var e=tt.return;else e=tt,Sl=pn=null,lr(e),Wn=null,Ts=0,e=tt;for(;e!==null;)Df(e.alternate,e),e=e.return;tt=null}}function ss(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,lm(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ll=0,qr(),Ct=e,tt=a=bl(e.current,null),st=t,pt=0,La=null,Wl=!1,as=Ba(e,t),Or=!1,ls=_a=Ur=Tn=$l=Ut=0,Sa=Gs=null,Hr=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-Vt(l),i=1<<n;t|=e[n],l&=~i}return Rl=t,fi(),a}function td(e,t){Je=null,z.H=Os,t===Jn||t===vi?(t=yo(),pt=3):t===Zc?(t=yo(),pt=4):pt=t===vr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,La=t,tt===null&&(Ut=1,Li(e,Ga(t,e.current)))}function ad(){var e=Da.current;return e===null?!0:(st&4194048)===st?Ka===null:(st&62914560)===st||(st&536870912)!==0?e===Ka:!1}function ld(){var e=z.H;return z.H=Os,e===null?Os:e}function nd(){var e=z.A;return z.A=Oh,e}function Zi(){Ut=4,Wl||(st&4194048)!==st&&Da.current!==null||(as=!0),($l&134217727)===0&&(Tn&134217727)===0||Ct===null||Pl(Ct,st,_a,!1)}function Xr(e,t,a){var l=mt;mt|=2;var n=ld(),i=nd();(Ct!==e||st!==t)&&(Gi=null,ss(e,t)),t=!1;var c=Ut;e:do try{if(pt!==0&&tt!==null){var o=tt,y=La;switch(pt){case 8:qr(),c=6;break e;case 3:case 2:case 9:case 6:Da.current===null&&(t=!0);var E=pt;if(pt=0,La=null,is(e,o,y,E),a&&as){c=0;break e}break;default:E=pt,pt=0,La=null,is(e,o,y,E)}}Bh(),c=Ut;break}catch(Y){td(e,Y)}while(!0);return t&&e.shellSuspendCounter++,Sl=pn=null,mt=l,z.H=n,z.A=i,tt===null&&(Ct=null,st=0,fi()),c}function Bh(){for(;tt!==null;)sd(tt)}function Yh(e,t){var a=mt;mt|=2;var l=ld(),n=nd();Ct!==e||st!==t?(Gi=null,Xi=Mt()+500,ss(e,t)):as=Ba(e,t);e:do try{if(pt!==0&&tt!==null){t=tt;var i=La;t:switch(pt){case 1:pt=0,La=null,is(e,t,i,1);break;case 2:case 9:if(mo(i)){pt=0,La=null,id(t);break}t=function(){pt!==2&&pt!==9||Ct!==e||(pt=7),fl(e)},i.then(t,t);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:mo(i)?(pt=0,La=null,id(t)):(pt=0,La=null,is(e,t,i,7));break;case 5:var c=null;switch(tt.tag){case 26:c=tt.memoizedState;case 5:case 27:var o=tt;if(c?Zd(c):o.stateNode.complete){pt=0,La=null;var y=o.sibling;if(y!==null)tt=y;else{var E=o.return;E!==null?(tt=E,Qi(E)):tt=null}break t}}pt=0,La=null,is(e,t,i,5);break;case 6:pt=0,La=null,is(e,t,i,6);break;case 8:qr(),Ut=6;break e;default:throw Error(u(462))}}kh();break}catch(Y){td(e,Y)}while(!0);return Sl=pn=null,z.H=l,z.A=n,mt=a,tt!==null?0:(Ct=null,st=0,fi(),Ut)}function kh(){for(;tt!==null&&!gl();)sd(tt)}function sd(e){var t=Af(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,t===null?Qi(e):tt=t}function id(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Nf(a,t,t.pendingProps,t.type,void 0,st);break;case 11:t=Nf(a,t,t.pendingProps,t.type.render,t.ref,st);break;case 5:lr(t);default:Df(a,t),t=tt=ao(t,Rl),t=Af(a,t,Rl)}e.memoizedProps=e.pendingProps,t===null?Qi(e):tt=t}function is(e,t,a,l){Sl=pn=null,lr(t),Wn=null,Ts=0;var n=t.return;try{if(Eh(e,n,t,a,st)){Ut=1,Li(e,Ga(a,e.current)),tt=null;return}}catch(i){if(n!==null)throw tt=n,i;Ut=1,Li(e,Ga(a,e.current)),tt=null;return}t.flags&32768?(rt||l===1?e=!0:as||(st&536870912)!==0?e=!1:(Wl=e=!0,(l===2||l===9||l===3||l===6)&&(l=Da.current,l!==null&&l.tag===13&&(l.flags|=16384))),cd(t,e)):Qi(t)}function Qi(e){var t=e;do{if((t.flags&32768)!==0){cd(t,Wl);return}e=t.return;var a=Dh(t.alternate,t,Rl);if(a!==null){tt=a;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);Ut===0&&(Ut=5)}function cd(e,t){do{var a=Rh(e.alternate,e);if(a!==null){a.flags&=32767,tt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){tt=e;return}tt=e=a}while(e!==null);Ut=6,tt=null}function rd(e,t,a,l,n,i,c,o,y){e.cancelPendingCommit=null;do Ki();while(Ft!==0);if((mt&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(i=t.lanes|t.childLanes,i|=zc,Ya(e,a,i,c,o,y),e===Ct&&(tt=Ct=null,st=0),ns=t,Il=e,Ll=a,Br=i,Yr=n,Ff=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Vh(sl,function(){return hd(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,n=ae.p,ae.p=2,c=mt,mt|=4;try{Lh(e,t,a)}finally{mt=c,ae.p=n,z.T=l}}Ft=1,ud(),od(),fd()}}function ud(){if(Ft===1){Ft=0;var e=Il,t=ns,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=ae.p;ae.p=2;var n=mt;mt|=4;try{Gf(t,e);var i=eu,c=Ku(e.containerInfo),o=i.focusedElem,y=i.selectionRange;if(c!==o&&o&&o.ownerDocument&&Qu(o.ownerDocument.documentElement,o)){if(y!==null&&Cc(o)){var E=y.start,Y=y.end;if(Y===void 0&&(Y=E),"selectionStart"in o)o.selectionStart=E,o.selectionEnd=Math.min(Y,o.value.length);else{var K=o.ownerDocument||document,R=K&&K.defaultView||window;if(R.getSelection){var L=R.getSelection(),Ne=o.textContent.length,Be=Math.min(y.start,Ne),St=y.end===void 0?Be:Math.min(y.end,Ne);!L.extend&&Be>St&&(c=St,St=Be,Be=c);var j=Zu(o,Be),p=Zu(o,St);if(j&&p&&(L.rangeCount!==1||L.anchorNode!==j.node||L.anchorOffset!==j.offset||L.focusNode!==p.node||L.focusOffset!==p.offset)){var T=K.createRange();T.setStart(j.node,j.offset),L.removeAllRanges(),Be>St?(L.addRange(T),L.extend(p.node,p.offset)):(T.setEnd(p.node,p.offset),L.addRange(T))}}}}for(K=[],L=o;L=L.parentNode;)L.nodeType===1&&K.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<K.length;o++){var q=K[o];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}sc=!!Pr,eu=Pr=null}finally{mt=n,ae.p=l,z.T=a}}e.current=t,Ft=2}}function od(){if(Ft===2){Ft=0;var e=Il,t=ns,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=ae.p;ae.p=2;var n=mt;mt|=4;try{Bf(e,t.alternate,t)}finally{mt=n,ae.p=l,z.T=a}}Ft=3}}function fd(){if(Ft===4||Ft===3){Ft=0,ra();var e=Il,t=ns,a=Ll,l=Ff;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ft=5:(Ft=0,ns=Il=null,dd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Fl=null),I(a),t=t.stateNode,It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Gt,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,n=ae.p,ae.p=2,z.T=null;try{for(var i=e.onRecoverableError,c=0;c<l.length;c++){var o=l[c];i(o.value,{componentStack:o.stack})}}finally{z.T=t,ae.p=n}}(Ll&3)!==0&&Ki(),fl(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===kr?Vs++:(Vs=0,kr=e):Vs=0,Zs(0)}}function dd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Cs(t)))}function Ki(){return ud(),od(),fd(),hd()}function hd(){if(Ft!==5)return!1;var e=Il,t=Br;Br=0;var a=I(Ll),l=z.T,n=ae.p;try{ae.p=32>a?32:a,z.T=null,a=Yr,Yr=null;var i=Il,c=Ll;if(Ft=0,ns=Il=null,Ll=0,(mt&6)!==0)throw Error(u(331));var o=mt;if(mt|=4,Jf(i.current),Zf(i,i.current,c,a),mt=o,Zs(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Gt,i)}catch{}return!0}finally{ae.p=n,z.T=l,dd(e,t)}}function md(e,t,a){t=Ga(a,t),t=pr(e.stateNode,t,2),e=Zl(e,t,2),e!==null&&(cl(e,2),fl(e))}function vt(e,t,a){if(e.tag===3)md(e,e,a);else for(;t!==null;){if(t.tag===3){md(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fl===null||!Fl.has(l))){e=Ga(a,e),a=gf(2),l=Zl(t,a,2),l!==null&&(yf(a,l,t,e),cl(l,2),fl(l));break}}t=t.return}}function Gr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Uh;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(Or=!0,n.add(a),e=qh.bind(null,e,t,a),t.then(e,e))}function qh(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ct===e&&(st&a)===a&&(Ut===4||Ut===3&&(st&62914560)===st&&300>Mt()-qi?(mt&2)===0&&ss(e,0):Ur|=a,ls===st&&(ls=0)),fl(e)}function gd(e,t){t===0&&(t=Rn()),e=gn(e,t),e!==null&&(cl(e,t),fl(e))}function Xh(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),gd(e,a)}function Gh(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(u(314))}l!==null&&l.delete(t),gd(e,a)}function Vh(e,t){return Yt(e,t)}var Ji=null,cs=null,Vr=!1,Wi=!1,Zr=!1,en=0;function fl(e){e!==cs&&e.next===null&&(cs===null?Ji=cs=e:cs=cs.next=e),Wi=!0,Vr||(Vr=!0,Qh())}function Zs(e,t){if(!Zr&&Wi){Zr=!0;do for(var a=!1,l=Ji;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var c=l.suspendedLanes,o=l.pingedLanes;i=(1<<31-Vt(42|e)+1)-1,i&=n&~(c&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(a=!0,vd(l,i))}else i=st,i=Ia(l,l===Ct?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||Ba(l,i)||(a=!0,vd(l,i));l=l.next}while(a);Zr=!1}}function Zh(){yd()}function yd(){Wi=Vr=!1;var e=0;en!==0&&am()&&(e=en);for(var t=Mt(),a=null,l=Ji;l!==null;){var n=l.next,i=xd(l,t);i===0?(l.next=null,a===null?Ji=n:a.next=n,n===null&&(cs=a)):(a=l,(e!==0||(i&3)!==0)&&(Wi=!0)),l=n}Ft!==0&&Ft!==5||Zs(e),en!==0&&(en=0)}function xd(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-Vt(i),o=1<<c,y=n[c];y===-1?((o&a)===0||(o&l)!==0)&&(n[c]=$t(o,t)):y<=t&&(e.expiredLanes|=o),i&=~o}if(t=Ct,a=st,a=Ia(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(pt===2||pt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ml(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ba(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&ml(l),I(a)){case 2:case 8:a=Ha;break;case 32:a=sl;break;case 268435456:a=xl;break;default:a=sl}return l=pd.bind(null,e),a=Yt(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&ml(l),e.callbackPriority=2,e.callbackNode=null,2}function pd(e,t){if(Ft!==0&&Ft!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ki()&&e.callbackNode!==a)return null;var l=st;return l=Ia(e,e===Ct?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Pf(e,l,t),xd(e,Mt()),e.callbackNode!=null&&e.callbackNode===a?pd.bind(null,e):null)}function vd(e,t){if(Ki())return null;Pf(e,t,!0)}function Qh(){nm(function(){(mt&6)!==0?Yt(Ol,Zh):yd()})}function Qr(){if(en===0){var e=Qn;e===0&&(e=il,il<<=1,(il&261888)===0&&(il=256)),en=e}return en}function bd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_t(""+e)}function jd(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Kh(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var i=bd((n[ee]||null).action),c=l.submitter;c&&(t=(t=c[ee]||null)?bd(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var o=new ci("action","action",null,l,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(en!==0){var y=c?jd(n,c):new FormData(n);dr(a,{pending:!0,data:y,method:n.method,action:i},null,y)}}else typeof i=="function"&&(o.preventDefault(),y=c?jd(n,c):new FormData(n),dr(a,{pending:!0,data:y,method:n.method,action:i},i,y))},currentTarget:n}]})}}for(var Kr=0;Kr<Ac.length;Kr++){var Jr=Ac[Kr],Jh=Jr.toLowerCase(),Wh=Jr[0].toUpperCase()+Jr.slice(1);Pa(Jh,"on"+Wh)}Pa($u,"onAnimationEnd"),Pa(Fu,"onAnimationIteration"),Pa(Iu,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(fh,"onTransitionRun"),Pa(dh,"onTransitionStart"),Pa(hh,"onTransitionCancel"),Pa(Pu,"onTransitionEnd"),Pe("onMouseEnter",["mouseout","mouseover"]),Pe("onMouseLeave",["mouseout","mouseover"]),Pe("onPointerEnter",["pointerout","pointerover"]),Pe("onPointerLeave",["pointerout","pointerover"]),ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ct("onBeforeInput",["compositionend","keypress","textInput","paste"]),ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$h=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qs));function Sd(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var c=l.length-1;0<=c;c--){var o=l[c],y=o.instance,E=o.currentTarget;if(o=o.listener,y!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=E;try{i(n)}catch(Y){oi(Y)}n.currentTarget=null,i=y}else for(c=0;c<l.length;c++){if(o=l[c],y=o.instance,E=o.currentTarget,o=o.listener,y!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=E;try{i(n)}catch(Y){oi(Y)}n.currentTarget=null,i=y}}}}function at(e,t){var a=t[ge];a===void 0&&(a=t[ge]=new Set);var l=e+"__bubble";a.has(l)||(Nd(t,e,2,!1),a.add(l))}function Wr(e,t,a){var l=0;t&&(l|=4),Nd(a,e,l,t)}var $i="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[$i]){e[$i]=!0,xt.forEach(function(a){a!=="selectionchange"&&($h.has(a)||Wr(a,!1,e),Wr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$i]||(t[$i]=!0,Wr("selectionchange",!1,t))}}function Nd(e,t,a,l){switch(Id(t)){case 2:var n=wm;break;case 8:n=Cm;break;default:n=fu}a=n.bind(null,t,a,e),n=void 0,!_n||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function Fr(e,t,a,l,n){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var c=l.tag;if(c===3||c===4){var o=l.stateNode.containerInfo;if(o===n)break;if(c===4)for(c=l.return;c!==null;){var y=c.tag;if((y===3||y===4)&&c.stateNode.containerInfo===n)return;c=c.return}for(;o!==null;){if(c=U(o),c===null)return;if(y=c.tag,y===5||y===6||y===26||y===27){l=i=c;continue e}o=o.parentNode}}l=l.return}gs(function(){var E=i,Y=Ma(a),K=[];e:{var R=eo.get(e);if(R!==void 0){var L=ci,Ne=e;switch(e){case"keypress":if(Un(a)===0)break e;case"keydown":case"keyup":L=G0;break;case"focusin":Ne="focus",L=bc;break;case"focusout":Ne="blur",L=bc;break;case"beforeblur":case"afterblur":L=bc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=D0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Q0;break;case $u:case Fu:case Iu:L=_0;break;case Pu:L=J0;break;case"scroll":case"scrollend":L=A0;break;case"wheel":L=$0;break;case"copy":case"cut":case"paste":L=U0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Du;break;case"toggle":case"beforetoggle":L=I0}var Be=(t&4)!==0,St=!Be&&(e==="scroll"||e==="scrollend"),j=Be?R!==null?R+"Capture":null:R;Be=[];for(var p=E,T;p!==null;){var q=p;if(T=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||T===null||j===null||(q=Hl(p,j),q!=null&&Be.push(Ks(p,q,T))),St)break;p=p.return}0<Be.length&&(R=new L(R,Ne,null,a,Y),K.push({event:R,listeners:Be}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",R&&a!==ka&&(Ne=a.relatedTarget||a.fromElement)&&(U(Ne)||Ne[W]))break e;if((L||R)&&(R=Y.window===Y?Y:(R=Y.ownerDocument)?R.defaultView||R.parentWindow:window,L?(Ne=a.relatedTarget||a.toElement,L=E,Ne=Ne?U(Ne):null,Ne!==null&&(St=S(Ne),Be=Ne.tag,Ne!==St||Be!==5&&Be!==27&&Be!==6)&&(Ne=null)):(L=null,Ne=E),L!==Ne)){if(Be=Au,q="onMouseLeave",j="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(Be=Du,q="onPointerLeave",j="onPointerEnter",p="pointer"),St=L==null?R:Ge(L),T=Ne==null?R:Ge(Ne),R=new Be(q,p+"leave",L,a,Y),R.target=St,R.relatedTarget=T,q=null,U(Y)===E&&(Be=new Be(j,p+"enter",Ne,a,Y),Be.target=T,Be.relatedTarget=St,q=Be),St=q,L&&Ne)t:{for(Be=Fh,j=L,p=Ne,T=0,q=j;q;q=Be(q))T++;q=0;for(var Oe=p;Oe;Oe=Be(Oe))q++;for(;0<T-q;)j=Be(j),T--;for(;0<q-T;)p=Be(p),q--;for(;T--;){if(j===p||p!==null&&j===p.alternate){Be=j;break t}j=Be(j),p=Be(p)}Be=null}else Be=null;L!==null&&wd(K,R,L,Be,!1),Ne!==null&&St!==null&&wd(K,St,Ne,Be,!0)}}e:{if(R=E?Ge(E):window,L=R.nodeName&&R.nodeName.toLowerCase(),L==="select"||L==="input"&&R.type==="file")var ft=Yu;else if(Hu(R))if(ku)ft=rh;else{ft=ih;var ze=sh}else L=R.nodeName,!L||L.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?E&&yt(E.elementType)&&(ft=Yu):ft=ch;if(ft&&(ft=ft(e,E))){Bu(K,ft,a,Y);break e}ze&&ze(e,R,E),e==="focusout"&&E&&R.type==="number"&&E.memoizedProps.value!=null&&Ae(R,"number",R.value)}switch(ze=E?Ge(E):window,e){case"focusin":(Hu(ze)||ze.contentEditable==="true")&&(Bn=ze,Mc=E,Ss=null);break;case"focusout":Ss=Mc=Bn=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,Ju(K,a,Y);break;case"selectionchange":if(oh)break;case"keydown":case"keyup":Ju(K,a,Y)}var We;if(Sc)e:{switch(e){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Hn?Ou(e,a)&&(it="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(it="onCompositionStart");it&&(Ru&&a.locale!=="ko"&&(Hn||it!=="onCompositionStart"?it==="onCompositionEnd"&&Hn&&(We=si()):(Ea=Y,Bl="value"in Ea?Ea.value:Ea.textContent,Hn=!0)),ze=Fi(E,it),0<ze.length&&(it=new zu(it,e,null,a,Y),K.push({event:it,listeners:ze}),We?it.data=We:(We=Uu(a),We!==null&&(it.data=We)))),(We=eh?th(e,a):ah(e,a))&&(it=Fi(E,"onBeforeInput"),0<it.length&&(ze=new zu("onBeforeInput","beforeinput",null,a,Y),K.push({event:ze,listeners:it}),ze.data=We)),Kh(K,e,E,a,Y)}Sd(K,t)})}function Ks(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Fi(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Hl(e,a),n!=null&&l.unshift(Ks(e,n,i)),n=Hl(e,t),n!=null&&l.push(Ks(e,n,i))),e.tag===3)return l;e=e.return}return[]}function Fh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wd(e,t,a,l,n){for(var i=t._reactName,c=[];a!==null&&a!==l;){var o=a,y=o.alternate,E=o.stateNode;if(o=o.tag,y!==null&&y===l)break;o!==5&&o!==26&&o!==27||E===null||(y=E,n?(E=Hl(a,i),E!=null&&c.unshift(Ks(a,E,y))):n||(E=Hl(a,i),E!=null&&c.push(Ks(a,E,y)))),a=a.return}c.length!==0&&e.push({event:t,listeners:c})}var Ih=/\r\n?/g,Ph=/\u0000|\uFFFD/g;function Cd(e){return(typeof e=="string"?e:""+e).replace(Ih,`
`).replace(Ph,"")}function Md(e,t){return t=Cd(t),Cd(e)===t}function jt(e,t,a,l,n,i){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Fe(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Fe(e,""+l);break;case"className":ya(e,"class",l);break;case"tabIndex":ya(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ya(e,a,l);break;case"style":ht(e,l,i);break;case"data":if(t!=="object"){ya(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=_t(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(a==="formAction"?(t!=="input"&&jt(e,t,"name",n.name,n,null),jt(e,t,"formEncType",n.formEncType,n,null),jt(e,t,"formMethod",n.formMethod,n,null),jt(e,t,"formTarget",n.formTarget,n,null)):(jt(e,t,"encType",n.encType,n,null),jt(e,t,"method",n.method,n,null),jt(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=_t(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ea);break;case"onScroll":l!=null&&at("scroll",e);break;case"onScrollEnd":l!=null&&at("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=_t(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":at("beforetoggle",e),at("toggle",e),Xe(e,"popover",l);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xe(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ot.get(a)||a,Xe(e,a,l))}}function Ir(e,t,a,l,n,i){switch(a){case"style":ht(e,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(u(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Fe(e,l):(typeof l=="number"||typeof l=="bigint")&&Fe(e,""+l);break;case"onScroll":l!=null&&at("scroll",e);break;case"onScrollEnd":l!=null&&at("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lt.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),i=e[ee]||null,i=i!=null?i[a]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Xe(e,a,l)}}}function na(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",e),at("load",e);var l=!1,n=!1,i;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];if(c!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:jt(e,t,i,c,a,null)}}n&&jt(e,t,"srcSet",a.srcSet,a,null),l&&jt(e,t,"src",a.src,a,null);return;case"input":at("invalid",e);var o=i=c=n=null,y=null,E=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":n=Y;break;case"type":c=Y;break;case"checked":y=Y;break;case"defaultChecked":E=Y;break;case"value":i=Y;break;case"defaultValue":o=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(u(137,t));break;default:jt(e,t,l,Y,a,null)}}Ye(e,i,o,y,E,c,n,!1);return;case"select":at("invalid",e),l=c=i=null;for(n in a)if(a.hasOwnProperty(n)&&(o=a[n],o!=null))switch(n){case"value":i=o;break;case"defaultValue":c=o;break;case"multiple":l=o;default:jt(e,t,n,o,a,null)}t=i,a=c,e.multiple=!!l,t!=null?Le(e,!!l,t,!1):a!=null&&Le(e,!!l,a,!0);return;case"textarea":at("invalid",e),i=n=l=null;for(c in a)if(a.hasOwnProperty(c)&&(o=a[c],o!=null))switch(c){case"value":l=o;break;case"defaultValue":n=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(u(91));break;default:jt(e,t,c,o,a,null)}et(e,l,n,i);return;case"option":for(y in a)if(a.hasOwnProperty(y)&&(l=a[y],l!=null))switch(y){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:jt(e,t,y,l,a,null)}return;case"dialog":at("beforetoggle",e),at("toggle",e),at("cancel",e),at("close",e);break;case"iframe":case"object":at("load",e);break;case"video":case"audio":for(l=0;l<Qs.length;l++)at(Qs[l],e);break;case"image":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"embed":case"source":case"link":at("error",e),at("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(E in a)if(a.hasOwnProperty(E)&&(l=a[E],l!=null))switch(E){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:jt(e,t,E,l,a,null)}return;default:if(yt(t)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Ir(e,t,Y,l,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(l=a[o],l!=null&&jt(e,t,o,l,a,null))}function em(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,c=null,o=null,y=null,E=null,Y=null;for(L in a){var K=a[L];if(a.hasOwnProperty(L)&&K!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":y=K;default:l.hasOwnProperty(L)||jt(e,t,L,null,l,K)}}for(var R in l){var L=l[R];if(K=a[R],l.hasOwnProperty(R)&&(L!=null||K!=null))switch(R){case"type":i=L;break;case"name":n=L;break;case"checked":E=L;break;case"defaultChecked":Y=L;break;case"value":c=L;break;case"defaultValue":o=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(u(137,t));break;default:L!==K&&jt(e,t,R,L,l,K)}}_e(e,c,o,y,E,Y,i,n);return;case"select":L=c=o=R=null;for(i in a)if(y=a[i],a.hasOwnProperty(i)&&y!=null)switch(i){case"value":break;case"multiple":L=y;default:l.hasOwnProperty(i)||jt(e,t,i,null,l,y)}for(n in l)if(i=l[n],y=a[n],l.hasOwnProperty(n)&&(i!=null||y!=null))switch(n){case"value":R=i;break;case"defaultValue":o=i;break;case"multiple":c=i;default:i!==y&&jt(e,t,n,i,l,y)}t=o,a=c,l=L,R!=null?Le(e,!!a,R,!1):!!l!=!!a&&(t!=null?Le(e,!!a,t,!0):Le(e,!!a,a?[]:"",!1));return;case"textarea":L=R=null;for(o in a)if(n=a[o],a.hasOwnProperty(o)&&n!=null&&!l.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:jt(e,t,o,null,l,n)}for(c in l)if(n=l[c],i=a[c],l.hasOwnProperty(c)&&(n!=null||i!=null))switch(c){case"value":R=n;break;case"defaultValue":L=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(u(91));break;default:n!==i&&jt(e,t,c,n,l,i)}$e(e,R,L);return;case"option":for(var Ne in a)if(R=a[Ne],a.hasOwnProperty(Ne)&&R!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:jt(e,t,Ne,null,l,R)}for(y in l)if(R=l[y],L=a[y],l.hasOwnProperty(y)&&R!==L&&(R!=null||L!=null))switch(y){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:jt(e,t,y,R,l,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in a)R=a[Be],a.hasOwnProperty(Be)&&R!=null&&!l.hasOwnProperty(Be)&&jt(e,t,Be,null,l,R);for(E in l)if(R=l[E],L=a[E],l.hasOwnProperty(E)&&R!==L&&(R!=null||L!=null))switch(E){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(u(137,t));break;default:jt(e,t,E,R,l,L)}return;default:if(yt(t)){for(var St in a)R=a[St],a.hasOwnProperty(St)&&R!==void 0&&!l.hasOwnProperty(St)&&Ir(e,t,St,void 0,l,R);for(Y in l)R=l[Y],L=a[Y],!l.hasOwnProperty(Y)||R===L||R===void 0&&L===void 0||Ir(e,t,Y,R,l,L);return}}for(var j in a)R=a[j],a.hasOwnProperty(j)&&R!=null&&!l.hasOwnProperty(j)&&jt(e,t,j,null,l,R);for(K in l)R=l[K],L=a[K],!l.hasOwnProperty(K)||R===L||R==null&&L==null||jt(e,t,K,R,l,L)}function Td(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tm(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var n=a[l],i=n.transferSize,c=n.initiatorType,o=n.duration;if(i&&o&&Td(c)){for(c=0,o=n.responseEnd,l+=1;l<a.length;l++){var y=a[l],E=y.startTime;if(E>o)break;var Y=y.transferSize,K=y.initiatorType;Y&&Td(K)&&(y=y.responseEnd,c+=Y*(y<o?1:(o-E)/(y-E)))}if(--l,t+=8*(i+c)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Pr=null,eu=null;function Ii(e){return e.nodeType===9?e:e.ownerDocument}function Ed(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ad(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var au=null;function am(){var e=window.event;return e&&e.type==="popstate"?e===au?!1:(au=e,!0):(au=null,!1)}var zd=typeof setTimeout=="function"?setTimeout:void 0,lm=typeof clearTimeout=="function"?clearTimeout:void 0,Dd=typeof Promise=="function"?Promise:void 0,nm=typeof queueMicrotask=="function"?queueMicrotask:typeof Dd<"u"?function(e){return Dd.resolve(null).then(e).catch(sm)}:zd;function sm(e){setTimeout(function(){throw e})}function tn(e){return e==="head"}function Rd(e,t){var a=t,l=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(n),fs(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Js(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Js(a);for(var i=a.firstChild;i;){var c=i.nextSibling,o=i.nodeName;i[pe]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=c}}else a==="body"&&Js(e.ownerDocument.body);a=n}while(a);fs(t)}function Ld(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function lu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lu(a),we(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function im(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[pe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Ja(e.nextSibling),e===null)break}return null}function cm(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ja(e.nextSibling),e===null))return null;return e}function _d(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ja(e.nextSibling),e===null))return null;return e}function nu(e){return e.data==="$?"||e.data==="$~"}function su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function rm(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ja(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var iu=null;function Od(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Ja(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Ud(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Hd(e,t,a){switch(t=Ii(a),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Js(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);we(e)}var Wa=new Map,Bd=new Set;function Pi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _l=ae.d;ae.d={f:um,r:om,D:fm,C:dm,L:hm,m:mm,X:ym,S:gm,M:xm};function um(){var e=_l.f(),t=Vi();return e||t}function om(e){var t=ie(e);t!==null&&t.tag===5&&t.type==="form"?ef(t):_l.r(e)}var rs=typeof document>"u"?null:document;function Yd(e,t,a){var l=rs;if(l&&typeof t=="string"&&t){var n=G(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Bd.has(n)||(Bd.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),na(t,"link",e),Re(t),l.head.appendChild(t)))}}function fm(e){_l.D(e),Yd("dns-prefetch",e,null)}function dm(e,t){_l.C(e,t),Yd("preconnect",e,t)}function hm(e,t,a){_l.L(e,t,a);var l=rs;if(l&&e&&t){var n='link[rel="preload"][as="'+G(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+G(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+G(a.imageSizes)+'"]')):n+='[href="'+G(e)+'"]';var i=n;switch(t){case"style":i=us(e);break;case"script":i=os(e)}Wa.has(i)||(e=N({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Wa.set(i,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(Ws(i))||t==="script"&&l.querySelector($s(i))||(t=l.createElement("link"),na(t,"link",e),Re(t),l.head.appendChild(t)))}}function mm(e,t){_l.m(e,t);var a=rs;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+G(l)+'"][href="'+G(e)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=os(e)}if(!Wa.has(i)&&(e=N({rel:"modulepreload",href:e},t),Wa.set(i,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($s(i)))return}l=a.createElement("link"),na(l,"link",e),Re(l),a.head.appendChild(l)}}}function gm(e,t,a){_l.S(e,t,a);var l=rs;if(l&&e){var n=Ve(l).hoistableStyles,i=us(e);t=t||"default";var c=n.get(i);if(!c){var o={loading:0,preload:null};if(c=l.querySelector(Ws(i)))o.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Wa.get(i))&&cu(e,a);var y=c=l.createElement("link");Re(y),na(y,"link",e),y._p=new Promise(function(E,Y){y.onload=E,y.onerror=Y}),y.addEventListener("load",function(){o.loading|=1}),y.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ec(c,t,l)}c={type:"stylesheet",instance:c,count:1,state:o},n.set(i,c)}}}function ym(e,t){_l.X(e,t);var a=rs;if(a&&e){var l=Ve(a).hoistableScripts,n=os(e),i=l.get(n);i||(i=a.querySelector($s(n)),i||(e=N({src:e,async:!0},t),(t=Wa.get(n))&&ru(e,t),i=a.createElement("script"),Re(i),na(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function xm(e,t){_l.M(e,t);var a=rs;if(a&&e){var l=Ve(a).hoistableScripts,n=os(e),i=l.get(n);i||(i=a.querySelector($s(n)),i||(e=N({src:e,async:!0,type:"module"},t),(t=Wa.get(n))&&ru(e,t),i=a.createElement("script"),Re(i),na(i,"link",e),a.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function kd(e,t,a,l){var n=(n=qe.current)?Pi(n):null;if(!n)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=us(a.href),a=Ve(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=us(a.href);var i=Ve(n).hoistableStyles,c=i.get(e);if(c||(n=n.ownerDocument||n,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=n.querySelector(Ws(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Wa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wa.set(e,a),i||pm(n,e,a,c.state))),t&&l===null)throw Error(u(528,""));return c}if(t&&l!==null)throw Error(u(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=os(a),a=Ve(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function us(e){return'href="'+G(e)+'"'}function Ws(e){return'link[rel="stylesheet"]['+e+"]"}function qd(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function pm(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),na(t,"link",a),Re(t),e.head.appendChild(t))}function os(e){return'[src="'+G(e)+'"]'}function $s(e){return"script[async]"+e}function Xd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+G(a.href)+'"]');if(l)return t.instance=l,Re(l),l;var n=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Re(l),na(l,"style",n),ec(l,a.precedence,e),t.instance=l;case"stylesheet":n=us(a.href);var i=e.querySelector(Ws(n));if(i)return t.state.loading|=4,t.instance=i,Re(i),i;l=qd(a),(n=Wa.get(n))&&cu(l,n),i=(e.ownerDocument||e).createElement("link"),Re(i);var c=i;return c._p=new Promise(function(o,y){c.onload=o,c.onerror=y}),na(i,"link",l),t.state.loading|=4,ec(i,a.precedence,e),t.instance=i;case"script":return i=os(a.src),(n=e.querySelector($s(i)))?(t.instance=n,Re(n),n):(l=a,(n=Wa.get(i))&&(l=N({},a),ru(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),Re(n),na(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,ec(l,a.precedence,e));return t.instance}function ec(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,c=0;c<l.length;c++){var o=l[c];if(o.dataset.precedence===t)i=o;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var tc=null;function Gd(e,t,a){if(tc===null){var l=new Map,n=tc=new Map;n.set(a,l)}else n=tc,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var i=a[n];if(!(i[pe]||i[J]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var o=l.get(c);o?o.push(i):l.set(c,[i])}}return l}function Vd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function vm(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function bm(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=us(l.href),i=t.querySelector(Ws(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ac.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=i,Re(i);return}i=t.ownerDocument||t,l=qd(l),(n=Wa.get(n))&&cu(l,n),i=i.createElement("link"),Re(i);var c=i;c._p=new Promise(function(o,y){c.onload=o,c.onerror=y}),na(i,"link",l),a.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ac.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var uu=0;function jm(e,t){return e.stylesheets&&e.count===0&&nc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&uu===0&&(uu=62500*tm());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>uu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(n)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function nc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,t.forEach(Sm,e),lc=null,ac.call(e))}function Sm(e,t){if(!(t.state.loading&4)){var a=lc.get(e);if(a)var l=a.get(null);else{a=new Map,lc.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var c=n[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(a.set(c.dataset.precedence,c),l=c)}l&&a.set(null,l)}n=t.instance,c=n.getAttribute("data-precedence"),i=a.get(c)||l,i===l&&a.set(null,n),a.set(c,n),this.count++,l=ac.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Fs={$$typeof:ye,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Nm(e,t,a,l,n,i,c,o,y){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.hiddenUpdates=Dt(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function Qd(e,t,a,l,n,i,c,o,y,E,Y,K){return e=new Nm(e,t,a,c,y,E,Y,K,o),t=1,i===!0&&(t|=24),i=za(3,null,null,t),e.current=i,i.stateNode=e,t=Xc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:l,isDehydrated:a,cache:t},Qc(i),e}function Kd(e){return e?(e=qn,e):qn}function Jd(e,t,a,l,n,i){n=Kd(n),l.context===null?l.context=n:l.pendingContext=n,l=Vl(t),l.payload={element:a},i=i===void 0?null:i,i!==null&&(l.callback=i),a=Zl(e,l,t),a!==null&&(Na(a,e,t),As(a,e,t))}function Wd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ou(e,t){Wd(e,t),(e=e.alternate)&&Wd(e,t)}function $d(e){if(e.tag===13||e.tag===31){var t=gn(e,67108864);t!==null&&Na(t,e,67108864),ou(e,67108864)}}function Fd(e){if(e.tag===13||e.tag===31){var t=Oa();t=w(t);var a=gn(e,t);a!==null&&Na(a,e,t),ou(e,t)}}var sc=!0;function wm(e,t,a,l){var n=z.T;z.T=null;var i=ae.p;try{ae.p=2,fu(e,t,a,l)}finally{ae.p=i,z.T=n}}function Cm(e,t,a,l){var n=z.T;z.T=null;var i=ae.p;try{ae.p=8,fu(e,t,a,l)}finally{ae.p=i,z.T=n}}function fu(e,t,a,l){if(sc){var n=du(l);if(n===null)Fr(e,t,l,ic,a),Pd(e,l);else if(Tm(n,e,t,a,l))l.stopPropagation();else if(Pd(e,l),t&4&&-1<Mm.indexOf(e)){for(;n!==null;){var i=ie(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=ga(i.pendingLanes);if(c!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var y=1<<31-Vt(c);o.entanglements[1]|=y,c&=~y}fl(i),(mt&6)===0&&(Xi=Mt()+500,Zs(0))}}break;case 31:case 13:o=gn(i,2),o!==null&&Na(o,i,2),Vi(),ou(i,2)}if(i=du(l),i===null&&Fr(e,t,l,ic,a),i===n)break;n=i}n!==null&&l.stopPropagation()}else Fr(e,t,l,null,a)}}function du(e){return e=Ma(e),hu(e)}var ic=null;function hu(e){if(ic=null,e=U(e),e!==null){var t=S(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=k(t),e!==null)return e;e=null}else if(a===31){if(e=B(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ic=e,null}function Id(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yl()){case Ol:return 2;case Ha:return 8;case sl:case $a:return 32;case xl:return 268435456;default:return 32}default:return 32}}var mu=!1,an=null,ln=null,nn=null,Is=new Map,Ps=new Map,sn=[],Mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pd(e,t){switch(e){case"focusin":case"focusout":an=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(t.pointerId)}}function ei(e,t,a,l,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},t!==null&&(t=ie(t),t!==null&&$d(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Tm(e,t,a,l,n){switch(t){case"focusin":return an=ei(an,e,t,a,l,n),!0;case"dragenter":return ln=ei(ln,e,t,a,l,n),!0;case"mouseover":return nn=ei(nn,e,t,a,l,n),!0;case"pointerover":var i=n.pointerId;return Is.set(i,ei(Is.get(i)||null,e,t,a,l,n)),!0;case"gotpointercapture":return i=n.pointerId,Ps.set(i,ei(Ps.get(i)||null,e,t,a,l,n)),!0}return!1}function e0(e){var t=U(e.target);if(t!==null){var a=S(t);if(a!==null){if(t=a.tag,t===13){if(t=k(a),t!==null){e.blockedOn=t,re(e.priority,function(){Fd(a)});return}}else if(t===31){if(t=B(a),t!==null){e.blockedOn=t,re(e.priority,function(){Fd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=du(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);ka=l,a.target.dispatchEvent(l),ka=null}else return t=ie(a),t!==null&&$d(t),e.blockedOn=a,!1;t.shift()}return!0}function t0(e,t,a){cc(e)&&a.delete(t)}function Em(){mu=!1,an!==null&&cc(an)&&(an=null),ln!==null&&cc(ln)&&(ln=null),nn!==null&&cc(nn)&&(nn=null),Is.forEach(t0),Ps.forEach(t0)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,mu||(mu=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Em)))}var uc=null;function a0(e){uc!==e&&(uc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uc===e&&(uc=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(hu(l||a)===null)continue;break}var i=ie(a);i!==null&&(e.splice(t,3),t-=3,dr(i,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function fs(e){function t(y){return rc(y,e)}an!==null&&rc(an,e),ln!==null&&rc(ln,e),nn!==null&&rc(nn,e),Is.forEach(t),Ps.forEach(t);for(var a=0;a<sn.length;a++){var l=sn[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<sn.length&&(a=sn[0],a.blockedOn===null);)e0(a),a.blockedOn===null&&sn.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],i=a[l+1],c=n[ee]||null;if(typeof i=="function")c||a0(a);else if(c){var o=null;if(i&&i.hasAttribute("formAction")){if(n=i,c=i[ee]||null)o=c.formAction;else if(hu(n)!==null)continue}else o=c.action;typeof o=="function"?a[l+1]=o:(a.splice(l,3),l-=3),a0(a)}}}function l0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return n=c})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function gu(e){this._internalRoot=e}oc.prototype.render=gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var a=t.current,l=Oa();Jd(a,l,e,t,null,null)},oc.prototype.unmount=gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Vi(),t[W]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=h();e={blockedOn:null,target:e,priority:t};for(var a=0;a<sn.length&&t!==0&&t<sn[a].priority;a++);sn.splice(a,0,e),a===0&&e0(e)}};var n0=f.version;if(n0!=="19.2.0")throw Error(u(527,n0,"19.2.0"));ae.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Am={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Gt=fc.inject(Am),It=fc}catch{}}return ai.createRoot=function(e,t){if(!m(e))throw Error(u(299));var a=!1,l="",n=ff,i=df,c=hf;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Qd(e,1,!1,null,null,a,l,null,n,i,c,l0),e[W]=t.current,$r(e),new gu(t)},ai.hydrateRoot=function(e,t,a){if(!m(e))throw Error(u(299));var l=!1,n="",i=ff,c=df,o=hf,y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(i=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(o=a.onRecoverableError),a.formState!==void 0&&(y=a.formState)),t=Qd(e,1,!0,t,a??null,l,n,y,i,c,o,l0),t.context=Kd(null),a=t.current,l=Oa(),l=w(l),n=Vl(l),n.callback=null,Zl(a,n,l),a=l,t.current.lanes=a,cl(t,a),fl(t),e[W]=t.current,$r(e),new oc(t)},ai.version="19.2.0",ai}var m0;function Ym(){if(m0)return pu.exports;m0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(f){console.error(f)}}return r(),pu.exports=Bm(),pu.exports}var km=Ym();const qm=b0(km),Xm="/Lunagis/preview/claude-add-user-manual-button-01bfujnhmfqnqs4b5842ps4z/assets/LunaGis_logo-BRusqGwy.svg",li=({label:r,icon:f,isActive:d,onClick:u})=>s.jsxs("button",{onClick:u,title:r,"aria-label":r,"aria-current":d?"page":void 0,className:`w-full flex flex-col items-center justify-center p-2 rounded-lg transition-colors duration-200 ${d?"bg-cyan-500/20 text-cyan-300":"text-gray-400 hover:bg-gray-700/50 hover:text-gray-200"}`,children:[f,s.jsx("span",{className:"text-xs mt-1",children:r})]}),Gm=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2H5a2 2 0 00-2 2v2m14 0V9"})}),Vm=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.121 15.536c-1.171 1.952-3.07 1.952-4.242 0-1.172-1.953-1.172-5.119 0-7.072 1.171-1.952 3.07-1.952 4.242 0M8 12h8M12 8v8"})}),Zm=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Qm=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zm-7.518-.267A8.25 8.25 0 1120.25 10.5M8.288 14.212A5.25 5.25 0 1117.25 10.5"})}),Km=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5m-9-6h.008v.008H12v-.008zM12 15h.008v.008H12V15zm0 2.25h.008v.008H12v-.008zM9.75 15h.008v.008H9.75V15zm0 2.25h.008v.008H9.75v-.008zM7.5 15h.008v.008H7.5V15zm0 2.25h.008v.008H7.5v-.008zm6.75-4.5h.008v.008h-.008v-.008zm0 2.25h.008v.008h-.008V15zm0 2.25h.008v.008h-.008v-.008zm2.25-4.5h.008v.008H16.5v-.008zm0 2.25h.008v.008H16.5V15z"})}),Jm=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"})}),Wm=({activeTool:r,onToolSelect:f,onUserManualClick:d})=>s.jsxs("aside",{className:"bg-gray-800/50 border-r border-gray-700 py-2 flex-shrink-0 flex flex-col items-center gap-4",style:{width:"75x"},role:"navigation","aria-label":"Main navigation",children:[s.jsx("div",{className:"w-full flex items-center justify-center","aria-label":"Lunagis logo",children:s.jsx("img",{src:Xm,alt:"LunaGis",className:"h-auto object-contain",style:{width:"50px"}})}),s.jsx(li,{label:"Layers",icon:s.jsx(Gm,{}),isActive:r==="layers",onClick:()=>f("layers")}),s.jsx(li,{label:"Artifacts",icon:s.jsx(Qm,{}),isActive:r==="artifacts",onClick:()=>f("artifacts")}),s.jsx(li,{label:"Events",icon:s.jsx(Km,{}),isActive:r==="events",onClick:()=>f("events")}),s.jsx(li,{label:"Measure",icon:s.jsx(Vm,{}),isActive:r==="measurement",onClick:()=>f("measurement")}),s.jsx(li,{label:"Config",icon:s.jsx(Zm,{}),isActive:r==="config",onClick:()=>f("config")}),s.jsx("div",{className:"flex-grow"}),d&&s.jsxs("button",{onClick:d,title:"User Manual","aria-label":"User Manual",className:"w-full flex flex-col items-center justify-center p-2 rounded-lg transition-colors duration-200 text-gray-400 hover:bg-cyan-700/50 hover:text-cyan-300 border border-gray-700 hover:border-cyan-600",children:[s.jsx(Jm,{}),s.jsx("span",{className:"text-xs mt-1",children:"Manual"})]})]}),$m=["Viridis","Plasma","Inferno","Magma","Cividis","Turbo","Grayscale","Custom"];function j0(r,f,d,u,m){if(r==="Custom"&&u&&u.length>0){const B=[...u].sort((v,N)=>v.value-N.value);if(m){if(B.length===1)return()=>B[0].color;const v=B.map(_=>_.value).slice(1),N=B.map(_=>_.color);return d3.scaleThreshold().domain(v).range(N)}const D=d?[...u].reverse():u;return D.length===1?()=>D[0].color:d3.scaleLinear().domain(D.map(v=>v.value)).range(D.map(v=>v.color)).clamp(!0)}const S=(()=>{switch(r){case"Viridis":return d3.interpolateViridis;case"Plasma":return d3.interpolatePlasma;case"Inferno":return d3.interpolateInferno;case"Magma":return d3.interpolateMagma;case"Cividis":return d3.interpolateCividis;case"Turbo":return d3.interpolateTurbo;case"Grayscale":return d3.interpolateGreys;default:return d3.interpolateViridis}})(),k=d?B=>S(1-B):S;return d3.scaleSequential(f,k)}const dc=20,rn=200,Fm=({colorMap:r,dataRange:f,units:d,inverted:u,customColormap:m,isThreshold:S})=>{const k=b.useRef(null);b.useEffect(()=>{if(!f||!k.current)return;const v=k.current.getContext("2d");if(!v)return;const N=[f.min,f.max],M=j0(r,N,u,m,S);v.clearRect(0,0,dc,rn);for(let _=0;_<rn;_++){const V=1-_/rn,se=f.min+V*(f.max-f.min);v.fillStyle=M(se),v.fillRect(0,_,dc,1)}},[r,f,u,m,S]);const B=g=>d==="days"?(g/24).toFixed(1):g<100?g.toFixed(1):Math.round(g),D=b.useMemo(()=>{if(!f)return[];const{min:g,max:v}=f,N=v-g,M=new Map;M.set(v,{value:v,y:0}),M.set(g,{value:g,y:rn}),S&&m&&m.length>1&&m.forEach(V=>{if(V.value>g&&V.value<v){const se=rn*(1-(V.value-g)/N);M.set(V.value,{value:V.value,y:se})}});const _=Array.from(M.values());return _.sort((V,se)=>V.y-se.y),_},[f,S,m]);return f?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"relative",style:{height:rn,width:dc},children:s.jsx("canvas",{ref:k,width:dc,height:rn,className:"rounded-sm border border-gray-600 absolute"})}),s.jsxs("div",{className:"relative h-full",style:{height:rn,width:60},children:[D.map(({value:g,y:v})=>s.jsxs("div",{className:"absolute w-full right-0",style:{top:`${v}px`,transform:"translateY(-50%)"},children:[s.jsx("span",{className:"block border-t border-gray-500 w-3 -mr-3 absolute right-full top-1/2"}),s.jsx("span",{className:"text-xs font-mono text-gray-300",children:B(g)})]},g)),d&&s.jsx("span",{className:"absolute -bottom-4 right-1/2 translate-x-1/2 text-xs text-gray-400 mt-1",children:d})]})]}):null},S0=new Date("2030-01-01T00:00:00Z"),Ht=r=>{const f=new Date(S0.getTime());return f.setUTCHours(f.getUTCHours()+r),f},Im=r=>{const f=(r.getTime()-S0.getTime())/36e5;return Math.round(f)},An=r=>Ht(r).toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).replace(",",""),Pm=1e-10,En={">":{precedence:2,associativity:"Left"},">=":{precedence:2,associativity:"Left"},"<":{precedence:2,associativity:"Left"},"<=":{precedence:2,associativity:"Left"},"==":{precedence:2,associativity:"Left"},AND:{precedence:1,associativity:"Left"},OR:{precedence:1,associativity:"Left"},NOT:{precedence:3,associativity:"Right"}};function Tu(r){const f=[],d=/\s*(>=|<=|==|>|<|\(|\)|[a-zA-Z_][a-zA-Z0-9_]*|-?\d+(\.\d+)?|\S)\s*/g;let u;for(;(u=d.exec(r))!==null;){const m=u[1],S=m.toUpperCase();if(!isNaN(Number(m)))f.push({type:"LITERAL",value:Number(m)});else if(S in En)f.push({type:"OPERATOR",value:S});else if(m==="(")f.push({type:"LPAREN",value:m});else if(m===")")f.push({type:"RPAREN",value:m});else if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(m))f.push({type:"VARIABLE",value:m});else throw new Error(`Invalid token: ${m}`)}return f}function N0(r){const f=[],d=[];for(const u of r)if(u.type==="LITERAL"||u.type==="VARIABLE")f.push(u);else if(u.type==="OPERATOR"){const m=u.value;for(;d.length>0&&d[d.length-1].type==="OPERATOR";){const S=d[d.length-1].value;if(En[m].associativity==="Left"&&En[m].precedence<=En[S].precedence||En[m].associativity==="Right"&&En[m].precedence<En[S].precedence)f.push(d.pop());else break}d.push(u)}else if(u.type==="LPAREN")d.push(u);else if(u.type==="RPAREN"){for(;d.length>0&&d[d.length-1].type!=="LPAREN";)f.push(d.pop());if(d.length===0)throw new Error("Mismatched parentheses");d.pop()}for(;d.length>0;){const u=d.pop();if(u.type==="LPAREN")throw new Error("Mismatched parentheses");f.push(u)}return f}function w0(r,f){const d=[];for(const u of r)if(u.type==="LITERAL")d.push(u.value);else if(u.type==="VARIABLE"){const m=f[u.value];if(m===void 0)throw new Error(`Undefined variable: ${u.value}`);d.push(m)}else if(u.type==="OPERATOR"){if(u.value==="NOT"){if(d.length<1)throw new Error("Invalid expression for NOT operator");const k=d.pop();d.push(k?0:1);continue}if(d.length<2)throw new Error(`Invalid expression for operator ${u.value}`);const m=d.pop(),S=d.pop();switch(u.value){case">":d.push(S>m?1:0);break;case">=":d.push(S>=m?1:0);break;case"<":d.push(S<m?1:0);break;case"<=":d.push(S<=m?1:0);break;case"==":d.push(Math.abs(S-m)<Pm?1:0);break;case"AND":d.push(S&&m?1:0);break;case"OR":d.push(S||m?1:0);break;default:throw new Error(`Unknown operator: ${u.value}`)}}if(d.length!==1)throw new Error("The final expression stack is invalid");return d[0]}function eg(r){if(!r.trim())throw new Error("Empty expression");try{const f=Tu(r);return N0(f)}catch(f){throw f instanceof Error?new Error(`Expression compilation failed: ${f.message}`):new Error("An unknown error occurred during expression compilation.")}}function tg(r,f){return w0(r,f)}function ag(r,f){if(!r.trim())return 0;try{const d=Tu(r),u=N0(d);return w0(u,f)}catch(d){throw d instanceof Error?new Error(`Expression evaluation failed: ${d.message}`):new Error("An unknown error occurred during expression evaluation.")}}function lg(r){try{const f=Tu(r),d=new Set;for(const u of f)u.type==="VARIABLE"&&d.add(u.value);return Array.from(d)}catch{return[]}}class ng{constructor(f,d){this.prev=null,this.next=null,this.key=f,this.value=d}}class C0{constructor(f){if(this.head=null,this.tail=null,f<=0)throw new Error("Cache capacity must be positive");this.capacity=f,this.cache=new Map}get(f){const d=this.cache.get(f);if(d)return this.moveToHead(d),d.value}set(f,d){const u=this.cache.get(f);if(u){u.value=d,this.moveToHead(u);return}const m=new ng(f,d);this.cache.size>=this.capacity&&this.evictLRU(),this.addToHead(m),this.cache.set(f,m)}has(f){return this.cache.has(f)}delete(f){const d=this.cache.get(f);return d?(this.removeNode(d),this.cache.delete(f)):!1}clear(){this.cache.clear(),this.head=null,this.tail=null}get size(){return this.cache.size}get maxSize(){return this.capacity}keys(){const f=[];let d=this.tail;for(;d;)f.push(d.key),d=d.prev;return f}values(){const f=[];let d=this.tail;for(;d;)f.push(d.value),d=d.prev;return f}getStats(){return{size:this.size,capacity:this.capacity,utilizationPercent:this.size/this.capacity*100}}addToHead(f){f.prev=null,f.next=this.head,this.head&&(this.head.prev=f),this.head=f,this.tail||(this.tail=f)}removeNode(f){f.prev?f.prev.next=f.next:this.head=f.next,f.next?f.next.prev=f.prev:this.tail=f.prev}moveToHead(f){f!==this.head&&(this.removeNode(f),this.addToHead(f))}evictLRU(){if(!this.tail)return;const f=this.tail.key;this.removeNode(this.tail),this.cache.delete(f)}}class sg extends C0{constructor(f,d=500){super(f),this.currentMemoryBytes=0,this.maxMemoryBytes=d*1024*1024}getCanvasMemorySize(f){return f.width*f.height*4}set(f,d){const u=this.getCanvasMemorySize(d);if(this.has(f)){const m=super.get(f);m&&(this.currentMemoryBytes-=this.getCanvasMemorySize(m))}if(this.currentMemoryBytes+u>this.maxMemoryBytes)for(;this.currentMemoryBytes+u>this.maxMemoryBytes&&this.size>0;)this.evictOldest();if(u>this.maxMemoryBytes){console.warn(`Canvas too large for cache: ${(u/1024/1024).toFixed(2)}MB`);return}super.set(f,d),this.currentMemoryBytes+=u}delete(f){const d=this.cache.get(f);if(d){const u=d.value;this.currentMemoryBytes-=this.getCanvasMemorySize(u)}return super.delete(f)}clear(){super.clear(),this.currentMemoryBytes=0}evictOldest(){const f=this.keys();f.length>0&&this.delete(f[0])}getStats(){return{...super.getStats(),currentMemoryMB:this.currentMemoryBytes/1024/1024,maxMemoryMB:this.maxMemoryBytes/1024/1024,memoryUtilizationPercent:this.currentMemoryBytes/this.maxMemoryBytes*100}}}class zn{static forExpression(f,d){return`expr:${f}:${d.sort().join(",")}`}static forNightfall(f,d){return`nightfall:${f}:${d}`}static forDaylightFraction(f,d,u){return`daylight:${f}:${d}:${u.start}-${u.end}`}static hashDataset(f,d){const{time:u,height:m,width:S}=d;let k=`${u}x${m}x${S}`;if(u>0&&m>0&&S>0){const B=f[0];if(k+=`-${B[0][0]}`,k+=`-${B[0][S-1]}`,k+=`-${B[m-1][0]}`,k+=`-${B[m-1][S-1]}`,k+=`-${B[Math.floor(m/2)][Math.floor(S/2)]}`,u>1){const D=f[u-1];k+=`-${D[0][0]}`,k+=`-${D[m-1][S-1]}`}}return k}}class ig{constructor(f=10){this.cacheHits=0,this.cacheMisses=0,this.cache=new C0(f)}getExpression(f){const d=this.cache.get(f);return d?(this.cacheHits++,d):(this.cacheMisses++,null)}setExpression(f,d){this.cache.set(f,d)}getNightfall(f){const d=this.cache.get(f);return d?(this.cacheHits++,d):(this.cacheMisses++,null)}setNightfall(f,d){this.cache.set(f,d)}getDaylightFraction(f){const d=this.cache.get(f);return d?(this.cacheHits++,d):(this.cacheMisses++,null)}setDaylightFraction(f,d){this.cache.set(f,d)}invalidate(f){return this.cache.delete(f)}clear(){this.cache.clear(),this.cacheHits=0,this.cacheMisses=0}getStats(){const f=this.cache.getStats(),d=this.cacheHits+this.cacheMisses,u=d>0?this.cacheHits/d*100:0;return{...f,cacheHits:this.cacheHits,cacheMisses:this.cacheMisses,hitRate:u,totalRequests:d}}}const hs=new ig(10),yc=r=>r.replace(/[^a-zA-Z0-9_]/g,"_"),Su=async(r,f,d)=>{const u=lg(r),m=[];for(const F of u){const oe=f.find(X=>yc(X.name)===F);if(!oe||!("dataset"in oe))throw new Error(`Variable "${F}" does not correspond to a valid data layer.`);m.push(oe)}const S=m.map(F=>F.id),k=zn.forExpression(r,S),B=hs.getExpression(k);if(B)return d&&d("Using cached result... 100%"),B;if(m.length===0&&u.length>0)throw new Error(`No layers found for variables in expression: ${u.join(", ")}`);if(m.length===0&&u.length===0){const F=f.find(Ie=>"dataset"in Ie);if(!F)throw new Error("Cannot evaluate a constant expression without at least one data layer to define dimensions.");const{time:oe,height:X,width:xe}=F.dimensions,Se=ag(r,{});return{dataset:Array.from({length:oe},()=>Array.from({length:X},()=>new Array(xe).fill(Se))),range:{min:Se,max:Se},dimensions:{time:oe,height:X,width:xe}}}const D=m[0],{time:g,height:v,width:N}=D.dimensions;if(!m.every(F=>F.dimensions.time===g&&F.dimensions.height===v&&F.dimensions.width===N))throw new Error("All layers used in an expression must have the same dimensions.");const M=eg(r),_=m.map(F=>yc(F.name)),V=Array.from({length:g},()=>Array.from({length:v},()=>new Array(N).fill(0))),se=()=>new Promise(F=>setTimeout(F,0)),he={},Me=5e4;let Ue=0;const ye=g*v*N;let ve=-1;d&&(d("Calculating expression... 0%"),await se());for(let F=0;F<g;F++)for(let oe=0;oe<v;oe++)for(let X=0;X<N;X++){for(let Se=0;Se<m.length;Se++)he[_[Se]]=m[Se].dataset[F][oe][X];const xe=tg(M,he);if(V[F][oe][X]=xe,Ue++,Ue>=Me){if(d){const Se=F*v*N+oe*N+X+1,ke=Math.floor(Se/ye*100);ke!==ve&&(d(`Calculating expression... ${ke}%`),ve=ke)}await se(),Ue=0}}d&&d("Calculating expression... 100%");let Ce=1/0,A=-1/0;for(let F=0;F<g;F++)for(let oe=0;oe<v;oe++)for(let X=0;X<N;X++){const xe=V[F][oe][X];xe<Ce&&(Ce=xe),xe>A&&(A=xe)}Ce===A&&(A=Ce+1);const O={dataset:V,range:{min:Ce,max:A},dimensions:{time:g,height:v,width:N}};return hs.setExpression(k,O),O},Nu=(r,f,d,u)=>{const{height:m,width:S}=d;if(u){const g=zn.hashDataset(r,{time:r.length,height:m,width:S}),v=zn.forDaylightFraction(u,g,f),N=hs.getDaylightFraction(v);if(N)return N}const k=Array.from({length:m},()=>new Array(S).fill(0)),B=f.end-f.start+1;if(B<=0)return{slice:k,range:{min:0,max:100}};for(let g=0;g<m;g++)for(let v=0;v<S;v++){let N=0;for(let _=f.start;_<=f.end;_++){if(_>=r.length)continue;r[_][g][v]===1&&N++}const M=N/B*100;k[g][v]=M}const D={slice:k,range:{min:0,max:100}};if(u){const g=zn.hashDataset(r,{time:r.length,height:m,width:S}),v=zn.forDaylightFraction(u,g,f);hs.setDaylightFraction(v,D)}return D},g0=async r=>{const{dataset:f,dimensions:d}=r,{time:u,height:m,width:S}=d,k=zn.hashDataset(f,d),B=zn.forNightfall(r.id,k),D=hs.getNightfall(B);if(D)return D;const g=Array.from({length:u},()=>Array.from({length:m},()=>new Array(S).fill(0))),v=()=>new Promise(V=>setTimeout(V,0));let N=0,M=0;for(let V=0;V<m;V++){for(let se=0;se<S;se++){const he=f.map(Ce=>Ce[V][se]),Me=[];let Ue=!1,ye=-1;for(let Ce=0;Ce<u;Ce++){const A=he[Ce]===0;if(A&&!Ue)Ue=!0,ye=Ce;else if(!A&&Ue){Ue=!1;const O=Ce-ye;Me.push({start:ye,end:Ce,duration:O})}}if(Ue){const Ce=u-ye;Me.push({start:ye,end:u,duration:Ce})}let ve=0;for(let Ce=0;Ce<u;Ce++)if(he[Ce]===1){for(;ve<Me.length&&Me[ve].start<=Ce;)ve++;if(ve<Me.length){const A=Me[ve];g[Ce][V][se]=A.duration,A.duration>N&&(N=A.duration)}else g[Ce][V][se]=0}else{const A=Me.find(O=>Ce>=O.start&&Ce<O.end);if(A){const O=-A.duration;g[Ce][V][se]=O,O<M&&(M=O)}else g[Ce][V][se]=-1}}V%10===0&&await v()}const _={dataset:g,range:{min:M,max:N},maxDuration:N};return hs.setNightfall(B,_),_};function y0(r){const f=new DataView(r);if(String.fromCharCode(...new Uint8Array(r,0,6))!=="NUMPY")throw new Error("Not a valid .npy file: invalid magic string.");const u=f.getUint8(6);let m,S;if(u===1)S=f.getUint16(8,!0),m=10;else if(u===2)S=f.getUint32(8,!0),m=12;else throw new Error(`Unsupported .npy version: ${u}. Only v1 and v2 are supported.`);const B=new TextDecoder().decode(r.slice(m,m+S)).replace(/False/g,"false").replace(/True/g,"true").replace(/\(/g,"[").replace(/\)/g,"]").replace(/'/g,'"').replace(/,(\s*\])/g,"$1").replace(/,(\s*})/g,"$1"),D=JSON.parse(B),g=m+S,v=D.descr;let N;if(v.includes("f4")||v.includes("f32"))N=new Float32Array(r,g);else if(v.includes("f8")||v.includes("f64")){console.warn("Downcasting float64 to float32. Precision may be lost.");const M=new Float64Array(r,g);N=new Float32Array(M)}else if(v.includes("b1")||v.includes("?")){const M=new Uint8Array(r,g);N=new Float32Array(M.length);for(let _=0;_<M.length;_++)N[_]=M[_]}else throw new Error(`Unsupported dtype in .npy file: ${v}. Only float32, float64, and boolean are supported.`);return{header:D,data:N,shape:D.shape}}function x0(r){var f,d;try{const m=new DOMParser().parseFromString(r,"application/xml"),S=m.querySelector("parsererror");if(S)throw new Error("XML parsing error: "+S.textContent);const k=m.querySelector("VRTDataset");if(!k)throw new Error("<VRTDataset> tag not found.");const B=parseInt(k.getAttribute("rasterXSize")||"0",10),D=parseInt(k.getAttribute("rasterYSize")||"0",10),g=(f=m.querySelector("GeoTransform"))==null?void 0:f.textContent;if(!g)throw new Error("<GeoTransform> tag not found.");const v=g.split(",").map(Number);if(v.length!==6||v.some(isNaN))throw new Error("Invalid GeoTransform content.");const N=(d=m.querySelector("SRS"))==null?void 0:d.textContent;if(!N)throw new Error("<SRS> tag not found.");return{geoTransform:v,srs:N,width:B,height:D}}catch(u){return console.error("Failed to parse VRT file:",u),null}}const M0=b.createContext(null),cg=()=>{const r=b.useContext(M0);if(!r)throw new Error("useToast must be used within a ToastProvider");return r},rg=({children:r})=>{const[f,d]=b.useState([]),u=b.useCallback(v=>{const N=`toast-${Date.now()}-${Math.random()}`,M={id:N,duration:5e3,...v};d(_=>[..._,M]),M.duration&&setTimeout(()=>{m(N)},M.duration)},[]),m=b.useCallback(v=>{d(N=>N.filter(M=>M.id!==v))},[]),S=b.useCallback((v,N)=>{u({type:"success",message:v,title:N})},[u]),k=b.useCallback((v,N)=>{u({type:"error",message:v,title:N,duration:8e3})},[u]),B=b.useCallback((v,N)=>{u({type:"warning",message:v,title:N,duration:6e3})},[u]),D=b.useCallback((v,N)=>{u({type:"info",message:v,title:N})},[u]),g={showToast:u,showSuccess:S,showError:k,showWarning:B,showInfo:D,dismissToast:m};return s.jsxs(M0.Provider,{value:g,children:[r,s.jsx(ug,{toasts:f,onDismiss:m})]})},ug=({toasts:r,onDismiss:f})=>r.length===0?null:s.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-md pointer-events-none",children:r.map(d=>s.jsx(og,{toast:d,onDismiss:f},d.id))}),og=({toast:r,onDismiss:f})=>{const[d,u]=b.useState(!1),m=()=>{u(!0),setTimeout(()=>{f(r.id)},300)},S=()=>{const B="pointer-events-auto rounded-lg shadow-lg p-4 border";switch(r.type){case"success":return`${B} bg-green-900/95 border-green-500/50 text-green-100`;case"error":return`${B} bg-red-900/95 border-red-500/50 text-red-100`;case"warning":return`${B} bg-yellow-900/95 border-yellow-500/50 text-yellow-100`;case"info":return`${B} bg-blue-900/95 border-blue-500/50 text-blue-100`;default:return`${B} bg-gray-800/95 border-gray-500/50 text-gray-100`}},k=()=>{switch(r.type){case"success":return s.jsx("svg",{className:"w-6 h-6 text-green-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"error":return s.jsx("svg",{className:"w-6 h-6 text-red-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"warning":return s.jsx("svg",{className:"w-6 h-6 text-yellow-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case"info":return s.jsx("svg",{className:"w-6 h-6 text-blue-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return s.jsx("div",{className:`${S()} transition-all duration-300 ${d?"opacity-0 translate-x-full":"opacity-100 translate-x-0"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[k(),s.jsxs("div",{className:"flex-1 min-w-0",children:[r.title&&s.jsx("h4",{className:"font-semibold text-sm mb-1",children:r.title}),s.jsx("p",{className:"text-sm",children:r.message}),r.action&&s.jsx("button",{onClick:()=>{r.action.onClick(),m()},className:"mt-2 text-xs font-medium underline hover:no-underline",children:r.action.label})]}),s.jsx("button",{onClick:m,className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors","aria-label":"Dismiss",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})},hc=[-85.505,-85.26],mc=[28.97,32.53],gc=r=>new Promise((f,d)=>{const u=new Image;u.onload=()=>f(u),u.onerror=d,u.src=r}),T0=b.createContext(null),da=()=>{const r=b.useContext(T0);if(!r)throw new Error("useAppContext must be used within an AppProvider");return r},fg=({children:r})=>{const{showError:f,showWarning:d,showSuccess:u}=cg(),[m,S]=b.useState([]),[k,B]=b.useState(null),[D,g]=b.useState(null),[v,N]=b.useState(null),[M,_]=b.useState(null),[V,se]=b.useState(null),[he,Me]=b.useState(!0),[Ue,ye]=b.useState(null),[ve,Ce]=b.useState(1),[A,O]=b.useState("layers"),[F,oe]=b.useState(null),[X,xe]=b.useState(null),[Se,ke]=b.useState(null),[Ie,Ee]=b.useState(null),[z,ae]=b.useState(null),le=b.useRef(null),De=b.useRef(null),[Qe,x]=b.useState(!1),[H,ue]=b.useState(200),[me,He]=b.useState("#ffffff80"),[qe,Ke]=b.useState([]),[Nt,gt]=b.useState("#ffff00"),[Bt,hl]=b.useState(null),[wa,ll]=b.useState(!1),[ha,Ca]=b.useState(!1),[nl,ms]=b.useState(10),ca=b.useRef(null),Ua=b.useRef(0),Yt=b.useRef(null),[ml,gl]=b.useState(null),[ra,Mt]=b.useState([]),[yl,Ol]=b.useState(null),[Ha,sl]=b.useState(null),[$a,xl]=b.useState(!1),[Fa,un]=b.useState(null),[Gt,It]=b.useState({waypointDotSize:8,showSegmentLengths:!0,labelFontSize:14}),[zt,Vt]=b.useState({defaultMaxSegmentLength:200}),[ua,Dn]=b.useState({min:-15,max:15}),[on,il]=b.useState(!1),[pl,ma]=b.useState([]),[ga,Ia]=b.useState(null),Ba=b.useMemo(()=>m.find(C=>C.type==="basemap"),[m]),$t=b.useMemo(()=>m.find(C=>C.type==="data"),[m]),Rn=b.useMemo(()=>m.find(C=>C.id===k),[m,k]),Dt=b.useMemo(()=>Ba?proj4(Ba.vrt.srs):null,[Ba]),cl=()=>{se(null),oe(null)},Ya=b.useMemo(()=>$t?[Ht(0),Ht($t.dimensions.time-1)]:null,[$t]),Ln=b.useMemo(()=>{if(!$t)return null;const{width:C,height:Q}=$t.dimensions,[$,P]=mc,[be,je]=hc;if(Dt){const G=Dt.forward([$,je]),_e=Dt.forward([P,je]),Ye=Dt.forward([$,be]),Ae=(_e[0]-G[0])/C,Le=(_e[1]-G[1])/C,$e=(Ye[0]-G[0])/Q,et=(Ye[1]-G[1])/Q,Fe=G[0],nt=G[1],Te=Ae*et-Le*$e;return Math.abs(Te)<1e-9?null:(ht,yt)=>{try{const[ot,kt]=Dt.forward([yt,ht]),_t=(et*(ot-Fe)-$e*(kt-nt))/Te,ea=(Ae*(kt-nt)-Le*(ot-Fe))/Te,ka=Math.round(_t),Ma=Math.round(ea);return ka>=0&&ka<C&&Ma>=0&&Ma<Q?{x:ka,y:Ma}:null}catch{return null}}}return null},[Dt,$t]),Z=b.useMemo(()=>{if(!$t||!Dt)return null;const{width:C,height:Q}=$t.dimensions,[$,P]=mc,[be,je]=hc,G=Dt.forward([$,je]),_e=Dt.forward([P,je]),Ye=Dt.forward([$,be]),Ae=(_e[0]-G[0])/C,Le=(_e[1]-G[1])/C,$e=(Ye[0]-G[0])/Q,et=(Ye[1]-G[1])/Q,Fe=G[0],nt=G[1],Te=Ae*et-Le*$e;return Math.abs(Te)<1e-9?null:ht=>{try{const[yt,ot]=ht,kt=(et*(yt-Fe)-$e*(ot-nt))/Te,_t=(Ae*(ot-nt)-Le*(yt-Fe))/Te,ea=Math.round(kt),ka=Math.round(_t),Ma=Math.max(0,Math.min(C,ea)),xa=Math.max(0,Math.min(Q,ka)),Ta=Ae*Ma+$e*xa+Fe,vl=Le*Ma+et*xa+nt;return[Ta,vl]}catch{return null}}},[Dt,$t]),te=b.useMemo(()=>{if(!$t||!Dt)return null;const{width:C,height:Q}=$t.dimensions,[$,P]=mc,[be,je]=hc,G=Dt.forward([$,je]),_e=Dt.forward([P,je]),Ye=Dt.forward([$,be]),Ae=(_e[0]-G[0])/C,Le=(_e[1]-G[1])/C,$e=(Ye[0]-G[0])/Q,et=(Ye[1]-G[1])/Q,Fe=G[0],nt=G[1],Te=Ae*et-Le*$e;return Math.abs(Te)<1e-9?null:(ht,yt)=>{try{const ot=(et*(ht[0]-Fe)-$e*(ht[1]-nt))/Te,kt=(Ae*(ht[1]-nt)-Le*(ht[0]-Fe))/Te,_t=(et*(yt[0]-Fe)-$e*(yt[1]-nt))/Te,ea=(Ae*(yt[1]-nt)-Le*(yt[0]-Fe))/Te,ka=Math.abs(_t-ot),Ma=Math.abs(ea-kt),xa=Math.min(ot,_t),Ta=Math.min(kt,ea),vl=Math.max(ot,_t),Ul=Math.max(kt,ea),gs=[Ae*xa+$e*Ta+Fe,Le*xa+et*Ta+nt],Hl=[Ae*vl+$e*Ta+Fe,Le*vl+et*Ta+nt],qa=[Ae*vl+$e*Ul+Fe,Le*vl+et*Ul+nt],_n=[Ae*xa+$e*Ul+Fe,Le*xa+et*Ul+nt],fn=[(gs[0]+Hl[0]+qa[0]+_n[0])/4,(gs[1]+Hl[1]+qa[1]+_n[1])/4],Ea=[Ae*ka,Le*ka],Bl=[$e*Ma,et*Ma],On=Math.sqrt(Ea[0]*Ea[0]+Ea[1]*Ea[1]),si=Math.sqrt(Bl[0]*Bl[0]+Bl[1]*Bl[1]),Un=Math.atan2(Le,Ae)*180/Math.PI;return{center:fn,width:On,height:si,rotation:Un}}catch{return null}}},[Dt,$t]);b.useEffect(()=>{if(Bt){const C=[...m].reverse().find(Q=>Q.visible&&(Q.type==="data"||Q.type==="analysis"||Q.type==="dte_comms"||Q.type==="lpf_comms"));if(C)if(Bt.y<C.dimensions.height&&Bt.x<C.dimensions.width){const Q=C.dataset.map($=>{var P;return((P=$==null?void 0:$[Bt.y])==null?void 0:P[Bt.x])??0});xe({data:Q,range:C.range})}else xe(null);else xe(null)}else if(F){const C=m.find(Q=>Q.id===F.layerId);if((C==null?void 0:C.type)==="data"||(C==null?void 0:C.type)==="analysis"||(C==null?void 0:C.type)==="dte_comms"||(C==null?void 0:C.type)==="lpf_comms")if(F.y<C.dimensions.height&&F.x<C.dimensions.width){const Q=C.dataset.map($=>{var P;return((P=$==null?void 0:$[F.y])==null?void 0:P[F.x])??0});xe({data:Q,range:C.range})}else xe(null);else xe(null)}else xe(null)},[F,Bt,m]),b.useEffect(()=>{if(k&&F&&v){const C=m.find(Q=>Q.id===k);if((C==null?void 0:C.type)==="analysis"&&C.analysisType==="daylight_fraction"){const Q=m.find($=>$.id===C.sourceLayerId);if(Q){const{x:$,y:P}=F;if(P>=Q.dimensions.height||$>=Q.dimensions.width){Ee(null);return}const{start:be,end:je}=v,G=je-be+1;let _e=0,Ye=0,Ae=1/0,Le=0,$e=0,et=1/0,Fe=0,nt=null,Te=0;for(let ot=be;ot<=je;ot++){if(ot>=Q.dataset.length||!Q.dataset[ot])continue;const kt=Q.dataset[ot][P][$];kt===1&&_e++;const _t=kt===1?"day":"night";nt!==_t?(nt==="day"?(Le++,Te>Ye&&(Ye=Te),Te<Ae&&(Ae=Te)):nt==="night"&&(Fe++,Te>$e&&($e=Te),Te<et&&(et=Te)),nt=_t,Te=1):Te++}nt==="day"?(Le++,Te>Ye&&(Ye=Te),Te<Ae&&(Ae=Te)):nt==="night"&&(Fe++,Te>$e&&($e=Te),Te<et&&(et=Te));const ht=G-_e,yt=G>0?_e/G*100:0;Ee({fraction:yt,dayHours:_e,nightHours:ht,longestDayPeriod:Ye,shortestDayPeriod:Ae===1/0?0:Ae,dayPeriods:Le,longestNightPeriod:$e,shortestNightPeriod:et===1/0?0:et,nightPeriods:Fe});return}}}Ee(null)},[F,k,m,v]);const w=b.useCallback(async(C,Q)=>{if(!C)return;g(`Parsing "${C.name}"...`);const $=()=>new Promise(P=>setTimeout(P,0));try{const P=await C.arrayBuffer(),{data:be,shape:je,header:G}=y0(P);if(je.length!==3)throw new Error(`Expected a 3D array, but got ${je.length} dimensions.`);const[_e,Ye,Ae]=je;let Le=1/0,$e=-1/0;for(const Te of be)Te<Le&&(Le=Te),Te>$e&&($e=Te);const et=Array.from({length:Ae},()=>Array.from({length:_e},()=>new Array(Ye)));let Fe=0;if(G.fortran_order)for(let Te=0;Te<Ae;Te++){for(let ht=0;ht<Ye;ht++)for(let yt=0;yt<_e;yt++)et[Te][yt][ht]=be[Fe++];Te%100===0&&await $()}else for(let Te=0;Te<_e;Te++){for(let ht=0;ht<Ye;ht++)for(let yt=0;yt<Ae;yt++)et[yt][Te][ht]=be[Fe++];Te%10===0&&await $()}const nt={id:`${Q}-${Date.now()}`,name:C.name,type:Q,visible:!0,opacity:1,fileName:C.name,dataset:et,range:{min:Le,max:$e},colormap:"Viridis",colormapInverted:!1,customColormap:[{value:Le,color:"#000000"},{value:$e,color:"#ffffff"}],dimensions:{time:Ae,height:_e,width:Ye}};if(S(Te=>[...Te,nt]),B(nt.id),Q==="data"&&!$t){const Te={start:0,end:Ae-1};N(Te),_(0),ke([Ht(0),Ht(Ae-1)]),ye(null)}}catch(P){f(`Error loading file: ${P instanceof Error?P.message:String(P)}`)}finally{g(null)}},[$t]),I=b.useCallback(C=>w(C,"data"),[w]),h=b.useCallback(C=>w(C,"dte_comms"),[w]),re=b.useCallback(C=>w(C,"lpf_comms"),[w]),fe=b.useCallback(async(C,Q)=>{g(`Loading basemap "${C.name}"...`);try{const $=await Q.text(),P=x0($);if(!P)throw new Error("Failed to parse VRT file.");const be=URL.createObjectURL(C),je=await gc(be);URL.revokeObjectURL(be);const G={id:`basemap-${Date.now()}`,name:C.name,type:"basemap",visible:!0,opacity:1,image:je,vrt:P,pngFileName:C.name,vrtFileName:Q.name};S(_e=>[G,..._e]),B(G.id),ye(null)}catch($){f(`Error processing base map: ${$ instanceof Error?$.message:String($)}`)}finally{g(null)}},[]),J=b.useCallback(async(C,Q)=>{g(`Loading image "${C.name}"...`);try{const $=URL.createObjectURL(C),P=await gc($);URL.revokeObjectURL($);const be=Q||(Ue?Ue.center:[0,0]),je={id:`image-${Date.now()}`,name:C.name,type:"image",visible:!0,opacity:.7,image:P,fileName:C.name,position:be,scaleX:1,scaleY:1,rotation:0,originalWidth:P.width,originalHeight:P.height};S(G=>[...G,je]),B(je.id),u(`Image layer "${C.name}" added successfully`)}catch($){f(`Error loading image: ${$ instanceof Error?$.message:String($)}`)}finally{g(null)}},[Ue,u,f]),ee=b.useCallback((C,Q)=>{S($=>$.map(P=>P.id===C?{...P,...Q}:P))},[]),W=b.useCallback(C=>{S(Q=>Q.filter($=>$.id!==C)),k===C&&B(null)},[k]),ge=b.useCallback(C=>{S(Q=>{const $=Q.findIndex(be=>be.id===C);if($===-1||$>=Q.length-1)return Q;const P=[...Q];return[P[$],P[$+1]]=[P[$+1],P[$]],P})},[]),ce=b.useCallback(C=>{S(Q=>{const $=Q.findIndex(be=>be.id===C);if($<=0)return Q;const P=[...Q];return[P[$-1],P[$]]=[P[$],P[$-1]],P})},[]),ne=b.useCallback(async C=>{const Q=m.find(Le=>Le.id===C);if(!Q)return;g(`Forecasting nightfall for "${Q.name}"...`),await new Promise(Le=>setTimeout(Le,50));const{dataset:$,range:P,maxDuration:be}=await g0(Q),je="rgba(0,0,0,0)",G=336,_e=[{value:-1/0,color:je},{value:-G,color:"cyan"},{value:0,color:"yellow"},{value:G+.001,color:je}],Ye=Math.min(1e3,Math.ceil(be/24)*24||24),Ae={id:`analysis-${Date.now()}`,name:`Nightfall Forecast for ${Q.name}`,type:"analysis",analysisType:"nightfall",visible:!0,opacity:1,colormap:"Custom",colormapInverted:!1,dataset:$,range:P,dimensions:Q.dimensions,sourceLayerId:C,customColormap:_e,params:{clipValue:Ye}};S(Le=>[...Le,Ae]),B(Ae.id),g(null)},[m]),de=b.useCallback(C=>{const Q=m.find(G=>G.id===C);if(!Q||!v)return;const{slice:$,range:P}=Nu(Q.dataset,v,Q.dimensions,Q.id),be=Array.from({length:Q.dimensions.time},()=>$),je={id:`analysis-${Date.now()}`,name:`Daylight Fraction for ${Q.name}`,type:"analysis",analysisType:"daylight_fraction",visible:!0,opacity:1,colormap:"Turbo",dataset:be,range:P,dimensions:Q.dimensions,sourceLayerId:C,params:{}};S(G=>[...G,je]),B(je.id)},[m,v]),pe=b.useCallback(async(C,Q)=>{g(`Calculating expression "${C}"...`),await new Promise($=>setTimeout($,50));try{const{dataset:$,range:P,dimensions:be}=await Su(Q,m,G=>g(G)),je={id:`analysis-expr-${Date.now()}`,name:C,type:"analysis",analysisType:"expression",visible:!0,opacity:1,colormap:"Custom",dataset:$,range:P,dimensions:be,sourceLayerId:void 0,customColormap:[{value:-1/0,color:"rgba(0,0,0,0)"},{value:1,color:"#ffff00"}],params:{expression:Q}};S(G=>[...G,je]),B(je.id),il(!1)}catch($){f(`Expression Error: ${$ instanceof Error?$.message:String($)}`)}finally{g(null)}},[m]),we=b.useCallback(async(C,Q)=>{const $=m.find(P=>P.id===C);if(!$||$.type!=="analysis"||$.analysisType!=="expression"){f("Invalid layer for expression recalculation");return}g(`Recalculating expression "${$.name}"...`),await new Promise(P=>setTimeout(P,50));try{const{dataset:P,range:be,dimensions:je}=await Su(Q,m,G=>g(G));S(G=>G.map(_e=>_e.id===C?{..._e,dataset:P,range:be,dimensions:je,params:{..._e.params,expression:Q}}:_e))}catch(P){f(`Expression Error: ${P instanceof Error?P.message:String(P)}`)}finally{g(null)}},[m]);b.useEffect(()=>{v&&S(C=>{if(C.filter(be=>be.type==="analysis"&&be.analysisType==="daylight_fraction").length===0)return C;let $=!1;const P=C.map(be=>{if(be.type==="analysis"&&be.analysisType==="daylight_fraction"){const je=C.find(G=>G.id===be.sourceLayerId);if(je){const{slice:G,range:_e}=Nu(je.dataset,v,je.dimensions,je.id),Ye=Array.from({length:je.dimensions.time},()=>G);return $=!0,{...be,dataset:Ye,range:_e}}}return be});return $?P:C})},[v]),b.useEffect(()=>{if(!wa){ca.current&&(cancelAnimationFrame(ca.current),ca.current=null);return}const C=Q=>{Ua.current===0&&(Ua.current=Q);const $=Q-Ua.current,P=1e3/nl;$>=P&&(Ua.current=Q,_(be=>{if(be===null||!Yt.current)return be;let je=be+1;return je>Yt.current.end&&(je=Yt.current.start),je})),ca.current=requestAnimationFrame(C)};return ca.current=requestAnimationFrame(C),()=>{ca.current&&(cancelAnimationFrame(ca.current),ca.current=null,Ua.current=0)}},[wa,nl]);const U=b.useCallback(()=>{if(!wa){if(!ha){if(!v||v.start>=v.end)return;Yt.current={...v},_(v.start)}Ca(!1),ll(!0)}else Ca(!0),ll(!1)},[wa,ha,v]),ie=C=>{wa&&ll(!1),Ca(!1),Yt.current=null,N(C)},Ge=b.useCallback((C,Q)=>{Mt($=>$.map(P=>P.id===C?{...P,...Q}:P))},[]),Ve=b.useCallback(()=>{sl(null),xl(!1),Ol(null)},[]),Re=b.useCallback(()=>{xl(!0)},[]);b.useEffect(()=>{const C=Q=>{Q.key==="Escape"&&Ve()};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[Ve]);const xt=b.useCallback(C=>{Mt(Q=>Q.filter($=>$.id!==C)),yl===C&&Ol(null)},[yl]),lt=b.useCallback((C,Q)=>{ma($=>$.map(P=>P.id===C?{...P,...Q}:P))},[]),ct=b.useCallback(C=>{ma(Q=>Q.filter($=>$.id!==C)),ga===C&&Ia(null)},[ga]),Pe=b.useCallback(C=>{ma(Q=>[...Q,C]),Ia(C.id)},[]),ut=b.useCallback(()=>{Ke([])},[]),Rt=b.useCallback(()=>{if(!v||!Ya)return;let C;if(v.start===v.end){const Q=Ht(v.start),$=720*60*1e3;C=[new Date(Math.max(Ya[0].getTime(),Q.getTime()-$)),new Date(Math.min(Ya[1].getTime(),Q.getTime()+$))]}else C=[Ht(v.start),Ht(v.end)];ke(C)},[v,Ya]),wt=b.useCallback(()=>{Ya&&ke(Ya)},[Ya]),Lt=b.useCallback(C=>{const Q=z;if(le.current&&(clearInterval(le.current),le.current=null),Q&&De.current!==null&&ee(Q,{visible:De.current}),Q===C)ae(null),De.current=null;else{const $=m.find(P=>P.id===C);$&&(De.current=$.visible,ae(C))}},[m,z,ee]);b.useEffect(()=>(z&&(le.current=window.setInterval(()=>{S(C=>C.map(Q=>Q.id===z?{...Q,visible:!Q.visible}:Q))},400)),()=>{le.current&&(clearInterval(le.current),le.current=null)}),[z]);const Xe=b.useCallback(async()=>{if(m.length===0){d("Cannot export an empty session.");return}g("Exporting session...");try{const Q={version:1,layers:m.map(G=>{if(G.type==="basemap"){const{image:_e,...Ye}=G;return Ye}else if(G.type==="image"){const _e=document.createElement("canvas");_e.width=G.image.width,_e.height=G.image.height,_e.getContext("2d").drawImage(G.image,0,0);const Ae=_e.toDataURL("image/png"),{image:Le,...$e}=G;return{...$e,imageDataUrl:Ae}}else{const{dataset:_e,...Ye}=G;return Ye}}),activeLayerId:k,timeRange:v,timeZoomDomain:Se?[Se[0].toISOString(),Se[1].toISOString()]:null,viewState:Ue,showGraticule:he,graticuleDensity:ve,showGrid:Qe,gridSpacing:H,gridColor:me,selectedCells:qe,selectionColor:Nt,activeTool:A,artifacts:ra.map(G=>({...G})),artifactDisplayOptions:Gt,pathCreationOptions:zt,nightfallPlotYAxisRange:ua,events:pl.map(G=>({...G}))},$=JSON.stringify(Q,null,2),P=new Blob([$],{type:"application/json"}),be=URL.createObjectURL(P),je=document.createElement("a");je.href=be,je.download=`session_${new Date().toISOString()}.json`,document.body.appendChild(je),je.click(),document.body.removeChild(je),URL.revokeObjectURL(be)}catch(C){f(`Error exporting session: ${C instanceof Error?C.message:String(C)}`)}finally{g(null)}},[m,k,v,Se,Ue,he,ve,Qe,H,me,qe,Nt,A,ra,Gt,zt,ua]),ya=b.useCallback(C=>{g("Reading config file...");const Q=new FileReader;Q.onload=$=>{var P;try{const be=JSON.parse((P=$.target)==null?void 0:P.result);if(be.version!==1)throw new Error("Unsupported config version.");const je=[];for(const G of be.layers)G.type==="data"||G.type==="dte_comms"||G.type==="lpf_comms"?je.push(G.fileName):G.type==="basemap"&&(je.push(G.pngFileName),je.push(G.vrtFileName));je.length>0?gl({config:be,requiredFiles:je}):Zt(be,[])}catch(be){f(`Error reading config file: ${be instanceof Error?be.message:String(be)}`)}finally{g(null)}},Q.onerror=()=>{f("Failed to read the file."),g(null)},Q.readAsText(C)},[]),Zt=b.useCallback(async(C,Q)=>{var $;gl(null),g("Restoring session...");try{const P=new Map;Array.from(Q).forEach(G=>P.set(G.name,G)),S([]),N(null),ke(null),ye(null),Ke([]),Mt([]),ma([]);let be=[];for(const G of C.layers)if(G.type==="basemap"){const _e=P.get(G.pngFileName),Ye=P.get(G.vrtFileName);if(!_e)throw new Error(`Required file "${G.pngFileName}" was not provided.`);if(!Ye)throw new Error(`Required file "${G.vrtFileName}" was not provided.`);const Ae=await Ye.text(),Le=x0(Ae);if(!Le)throw new Error(`Failed to parse VRT file: ${Ye.name}`);const $e=URL.createObjectURL(_e),et=await gc($e);URL.revokeObjectURL($e);const Fe={...G,image:et,vrt:Le};be.push(Fe)}else if(G.type==="data"||G.type==="dte_comms"||G.type==="lpf_comms"){const _e=P.get(G.fileName);if(!_e)throw new Error(`Required file "${G.fileName}" was not provided.`);const Ye=await _e.arrayBuffer(),{data:Ae,shape:Le,header:$e}=y0(Ye),[et,Fe,nt]=Le,Te=Array.from({length:nt},()=>Array.from({length:et},()=>new Array(Fe)));let ht=0;if($e.fortran_order)for(let ot=0;ot<nt;ot++)for(let kt=0;kt<Fe;kt++)for(let _t=0;_t<et;_t++)Te[ot][_t][kt]=Ae[ht++];else for(let ot=0;ot<et;ot++)for(let kt=0;kt<Fe;kt++)for(let _t=0;_t<nt;_t++)Te[_t][ot][kt]=Ae[ht++];const yt={...G,dataset:Te};be.push(yt)}else if(G.type==="image"){const _e=await gc(G.imageDataUrl),{imageDataUrl:Ye,...Ae}=G,Le={...Ae,image:_e};be.push(Le)}let je=[...be];for(const G of C.layers)if(G.type==="analysis"){let _e,Ye;if(G.analysisType==="expression"&&G.params.expression){const{dataset:Ae}=await Su(G.params.expression,je,Le=>g(Le));_e=Ae,Ye={...G,dataset:_e}}else{const Ae=je.find(Le=>Le.id===G.sourceLayerId);if(!Ae)throw new Error(`Source layer with ID ${G.sourceLayerId} not found for analysis layer "${G.name}".`);if(G.analysisType==="nightfall"){const{dataset:Le}=await g0(Ae);_e=Le}else{const Le=C.timeRange||{start:0,end:Ae.dimensions.time-1},{slice:$e}=Nu(Ae.dataset,Le,Ae.dimensions,Ae.id);_e=Array.from({length:Ae.dimensions.time},()=>$e)}Ye={...G,dataset:_e}}je.push(Ye)}S(je),B(C.activeLayerId),N(C.timeRange),_((($=C.timeRange)==null?void 0:$.start)??null),ye(C.viewState),Me(C.showGraticule),Ce(C.graticuleDensity),x(C.showGrid),ue(C.gridSpacing),He(C.gridColor),Ke(C.selectedCells),gt(C.selectionColor),O(C.activeTool),Mt(C.artifacts||[]),ma(C.events||[]),C.timeZoomDomain&&ke([new Date(C.timeZoomDomain[0]),new Date(C.timeZoomDomain[1])]),It(C.artifactDisplayOptions||{waypointDotSize:8,showSegmentLengths:!0,labelFontSize:14}),Vt(C.pathCreationOptions||{defaultMaxSegmentLength:200}),Dn(C.nightfallPlotYAxisRange||{min:-15,max:15})}catch(P){f(`Error restoring session: ${P instanceof Error?P.message:String(P)}`)}finally{g(null)}},[]),sa={layers:m,activeLayerId:k,isLoading:D,timeRange:v,currentDateIndex:M,hoveredCoords:V,showGraticule:he,viewState:Ue,graticuleDensity:ve,activeTool:A,selectedPixel:F,timeSeriesData:X,timeZoomDomain:Se,daylightFractionHoverData:Ie,flickeringLayerId:z,showGrid:Qe,gridSpacing:H,gridColor:me,selectedCells:qe,selectionColor:Nt,selectedCellForPlot:Bt,isPlaying:wa,isPaused:ha,playbackSpeed:nl,importRequest:ml,artifacts:ra,activeArtifactId:yl,artifactCreationMode:Ha,isAppendingWaypoints:$a,draggedInfo:Fa,artifactDisplayOptions:Gt,nightfallPlotYAxisRange:ua,isCreatingExpression:on,events:pl,activeEventId:ga,baseMapLayer:Ba,primaryDataLayer:$t,activeLayer:Rn,proj:Dt,fullTimeDomain:Ya,coordinateTransformer:Ln,snapToCellCorner:Z,calculateRectangleFromCellCorners:te,setLayers:S,setActiveLayerId:B,setIsLoading:g,setTimeRange:N,setCurrentDateIndex:_,setHoveredCoords:se,setShowGraticule:Me,setViewState:ye,setGraticuleDensity:Ce,onToolSelect:O,setSelectedPixel:oe,setTimeZoomDomain:ke,onToggleFlicker:Lt,setShowGrid:x,setGridSpacing:ue,setGridColor:He,setSelectedCells:Ke,setSelectionColor:gt,setSelectedCellForPlot:hl,setIsPlaying:ll,setIsPaused:Ca,onPlaybackSpeedChange:ms,setImportRequest:gl,setArtifacts:Mt,setActiveArtifactId:Ol,setArtifactCreationMode:sl,setIsAppendingWaypoints:xl,setDraggedInfo:un,setArtifactDisplayOptions:It,pathCreationOptions:zt,setPathCreationOptions:Vt,onNightfallPlotYAxisRangeChange:Dn,setIsCreatingExpression:il,setEvents:ma,setActiveEventId:Ia,onUpdateEvent:lt,onRemoveEvent:ct,onAddEvent:Pe,clearHoverState:cl,onAddDataLayer:I,onAddDteCommsLayer:h,onAddLpfCommsLayer:re,onAddBaseMapLayer:fe,onAddImageLayer:J,onUpdateLayer:ee,onRemoveLayer:W,onMoveLayerUp:ge,onMoveLayerDown:ce,onCalculateNightfallLayer:ne,onCalculateDaylightFractionLayer:de,onCreateExpressionLayer:pe,onRecalculateExpressionLayer:we,handleManualTimeRangeChange:ie,onTogglePlay:U,onUpdateArtifact:Ge,onRemoveArtifact:xt,onFinishArtifactCreation:Ve,onStartAppendWaypoints:Re,onClearSelection:ut,onZoomToSelection:Rt,onResetZoom:wt,onExportConfig:Xe,onImportConfig:ya,handleRestoreSession:Zt,latRange:hc,lonRange:mc};return s.jsx(T0.Provider,{value:sa,children:r})},ds=r=>{if(r===0)return"0 hrs";const f=(r/24).toFixed(1);return`${r} hrs (${f} days)`},fa=({title:r,children:f,defaultOpen:d=!1})=>{const[u,m]=b.useState(d);return s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-300 mb-2 bg-gray-900/50 p-2 rounded-md cursor-pointer flex justify-between items-center",onClick:()=>m(!u),children:[s.jsx("span",{children:r}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${u?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),u&&s.jsx("div",{className:"p-3 rounded-md space-y-4 animate-fade-in bg-gray-800/30",children:f})]})},dg=()=>{const{onAddDataLayer:r,onAddDteCommsLayer:f,onAddLpfCommsLayer:d,onAddBaseMapLayer:u,onAddImageLayer:m,isLoading:S}=da(),[k,B]=b.useState(!1),D=b.useRef(null),g=b.useRef(null),v=b.useRef(null),N=b.useRef(null),M=b.useRef(null),_=b.useRef(null),[V,se]=b.useState(null),[he,Me]=b.useState(null),Ue=b.useRef(null),ye=(A,O)=>{var F;(F=A.target.files)!=null&&F[0]&&O(A.target.files[0]),B(!1)},ve=async A=>{var O;(O=A.target.files)!=null&&O[0]&&await m(A.target.files[0]),B(!1)},Ce=()=>{V&&he&&(u(V,he),se(null),Me(null),B(!1))};return b.useEffect(()=>{const A=O=>{Ue.current&&!Ue.current.contains(O.target)&&B(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]),s.jsxs("div",{className:"relative",ref:Ue,children:[s.jsxs("button",{onClick:()=>B(!k),disabled:!!S,className:"w-full bg-cyan-600 hover:bg-cyan-500 disabled:bg-gray-600 text-white font-semibold py-2 px-4 rounded-md text-xs transition-all flex items-center justify-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Layer"]}),k&&s.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full bg-gray-800 border border-gray-700 rounded-md shadow-lg z-10 p-3 space-y-2",children:[s.jsx("input",{type:"file",ref:D,onChange:A=>ye(A,r),accept:".npy",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var A;return(A=D.current)==null?void 0:A.click()},className:"w-full text-left px-3 py-2 text-xs text-gray-300 hover:bg-gray-700 rounded-md",children:"Data Layer (.npy)"}),s.jsx("input",{type:"file",ref:g,onChange:A=>ye(A,f),accept:".npy",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var A;return(A=g.current)==null?void 0:A.click()},className:"w-full text-left px-3 py-2 text-xs text-gray-300 hover:bg-gray-700 rounded-md",children:"DTE Comms Layer (.npy)"}),s.jsx("input",{type:"file",ref:v,onChange:A=>ye(A,d),accept:".npy",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var A;return(A=v.current)==null?void 0:A.click()},className:"w-full text-left px-3 py-2 text-xs text-gray-300 hover:bg-gray-700 rounded-md",children:"LPF Comms Layer (.npy)"}),s.jsx("input",{type:"file",ref:_,onChange:ve,accept:".png,.jpg,.jpeg",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var A;return(A=_.current)==null?void 0:A.click()},className:"w-full text-left px-3 py-2 text-xs text-gray-300 hover:bg-gray-700 rounded-md",children:"Image Layer (.png, .jpg)"}),s.jsxs("div",{className:"border-t border-gray-700 pt-2 space-y-2",children:[s.jsx("p",{className:"text-xs text-gray-400 px-3",children:"Base Map Layer"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"file",ref:N,onChange:A=>{var O;return se(((O=A.target.files)==null?void 0:O[0])??null)},accept:".png",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var A;return(A=N.current)==null?void 0:A.click()},className:"w-full text-center px-3 py-2 text-xs bg-teal-700 hover:bg-teal-600 rounded-md truncate",title:V==null?void 0:V.name,children:V?V.name:"Select .png"}),s.jsx("input",{type:"file",ref:M,onChange:A=>{var O;return Me(((O=A.target.files)==null?void 0:O[0])??null)},accept:".vrt",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var A;return(A=M.current)==null?void 0:A.click()},className:"w-full text-center px-3 py-2 text-xs bg-purple-700 hover:bg-purple-600 rounded-md truncate",title:he==null?void 0:he.name,children:he?he.name:"Select .vrt"})]}),s.jsx("button",{onClick:Ce,disabled:!V||!he,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-600 text-white font-semibold py-1 px-3 rounded-md text-xs transition-all",children:"Add Base Map"})]})]})]})},p0=r=>{const f=d3.color(r);if(!f)return{hex:"#000000",alpha:1};const{r:d,g:u,b:m,opacity:S}=f.rgb(),k=D=>("0"+Math.round(D).toString(16)).slice(-2);return{hex:`#${k(d)}${k(u)}${k(m)}`,alpha:S}},v0=(r,f)=>{const d=d3.color(r);if(!d)return`rgba(0, 0, 0, ${f})`;const{r:u,g:m,b:S}=d.rgb();return`rgba(${u}, ${m}, ${S}, ${f})`},hg=({stops:r,onStopsChange:f,units:d,layerRange:u})=>{const[m,S]=b.useState("0"),[k,B]=b.useState("#ffffff"),[D,g]=b.useState(1),v=()=>{const _=parseFloat(m);if(isNaN(_))return;const V=[...r,{value:_,color:v0(k,D)}];V.sort((se,he)=>se.value-he.value),f(V)},N=(_,V)=>{const se=[...r],he=se[_];if("value"in V){const Me=typeof V.value=="string"?parseFloat(V.value):V.value;if(isNaN(Me))return;se[_]={...he,value:Me},se.sort((Ue,ye)=>Ue.value-ye.value)}else{const{hex:Me,alpha:Ue}=p0(he.color),ye="color"in V?V.color:Me,ve="alpha"in V?V.alpha:Ue;se[_]={...he,color:v0(ye,ve)}}f(se)},M=_=>{f(r.filter((V,se)=>se!==_))};return s.jsxs("div",{className:"space-y-3 p-3 bg-gray-900/30 rounded-md",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-300",children:"Colormap Stops"}),s.jsx("div",{className:"space-y-2",children:r.map((_,V)=>{const{hex:se,alpha:he}=p0(_.color),Me=V===0,Ue=Me?d==="days"?(u.min/24).toFixed(1):u.min.toFixed(0):d==="days"?_.value.toFixed(1):_.value.toFixed(0);return s.jsxs("div",{className:"grid grid-cols-[20px_1fr_auto_auto_auto] items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-right pr-1 font-mono text-gray-400",children:!Me&&">="}),s.jsx("input",{type:"text",defaultValue:Ue,readOnly:Me,onBlur:Me?void 0:ye=>{let ve=parseFloat(ye.target.value);isNaN(ve)||N(V,{value:ve})},className:"w-full bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600 disabled:bg-gray-800 disabled:text-gray-500",disabled:Me,title:`Value${d==="days"?" (days)":""}`},Ue+_.color),s.jsx("input",{type:"color",value:se,onChange:ye=>N(V,{color:ye.target.value}),className:"w-8 h-8 p-0 border-none rounded-md bg-transparent"}),s.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",defaultValue:he.toFixed(2),onBlur:ye=>{let ve=parseFloat(ye.target.value);isNaN(ve)&&(ve=1),ve<0&&(ve=0),ve>1&&(ve=1),N(V,{alpha:ve})},className:"w-16 bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600",placeholder:"Opacity"}),s.jsx("button",{disabled:Me,onClick:()=>M(V),className:"text-gray-500 hover:text-red-400 disabled:opacity-30 disabled:cursor-not-allowed ml-auto",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},V)})}),s.jsxs("div",{className:"border-t border-gray-600 pt-3 grid grid-cols-[20px_1fr_auto_auto_auto] items-center gap-2",children:[s.jsx("span",{}),s.jsx("input",{type:"number",step:d==="days"?.1:1,value:m,onChange:_=>S(_.target.value),className:"w-full bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600",placeholder:"Value"}),s.jsx("input",{type:"color",value:k,onChange:_=>B(_.target.value),className:"w-8 h-8 p-0 border-none rounded-md bg-transparent"}),s.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:D,onChange:_=>g(Number(_.target.value)),className:"w-16 bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600",placeholder:"Opacity"}),s.jsx("button",{onClick:v,className:"bg-teal-600 hover:bg-teal-500 text-white text-xs font-semibold py-1.5 px-2 rounded-md",children:"Add"})]})]})},mg=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),gg=r=>{switch(r){case"basemap":return"Basemap Layer";case"data":return"Data Layer";case"analysis":return"Analysis Layer";case"dte_comms":return"DTE Comms Layer";case"lpf_comms":return"LPF Comms Layer";case"image":return"Image Layer";default:return"Layer"}},yg=xc.memo(({layer:r,isActive:f,onSelect:d})=>{const{onUpdateLayer:u,onRemoveLayer:m,onMoveLayerUp:S,onMoveLayerDown:k,onCalculateNightfallLayer:B,onCalculateDaylightFractionLayer:D,daylightFractionHoverData:g,flickeringLayerId:v,onToggleFlicker:N,layers:M,onRecalculateExpressionLayer:_,isLoading:V}=da(),[se,he]=b.useState(!1),[Me,Ue]=b.useState(""),ye=r.type==="analysis"&&r.analysisType==="nightfall",ve=r.type==="analysis"&&r.analysisType==="expression",Ce=ye&&r.colormap==="Custom",A=r.type==="data"||r.type==="analysis"||r.type==="dte_comms"||r.type==="lpf_comms",O=b.useMemo(()=>M.filter(X=>X.type==="data"||X.type==="analysis"||X.type==="dte_comms"||X.type==="lpf_comms").filter(X=>X.id!==r.id).map(X=>yc(X.name)),[M,r.id]),F=()=>{r.type==="analysis"&&r.params.expression&&(Ue(r.params.expression),he(!0))},oe=async()=>{Me.trim()&&_&&(await _(r.id,Me),he(!1))};return s.jsxs("div",{className:`bg-gray-800/60 rounded-lg border ${f?"border-cyan-500/50":"border-gray-700/80"}`,children:[s.jsxs("div",{className:"flex items-center p-2 gap-2",children:[s.jsx("button",{onClick:()=>u(r.id,{visible:!r.visible}),title:r.visible?"Hide Layer":"Show Layer",className:"text-gray-400 hover:text-white",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd",style:{opacity:r.visible?1:.3}})]})}),s.jsx("button",{onClick:()=>N(r.id),title:"Flicker Layer",className:`${r.id===v?"text-cyan-400":"text-gray-400 hover:text-white"}`,children:s.jsx(mg,{})}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("button",{onClick:()=>S(r.id),title:"Move Layer Up",className:"text-gray-400 hover:text-white p-0 h-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:()=>k(r.id),title:"Move Layer Down",className:"text-gray-400 hover:text-white p-0 h-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s.jsxs("div",{onClick:d,className:"flex-grow cursor-pointer truncate text-xs",children:[s.jsx("p",{className:"font-medium text-gray-200",title:r.name,children:r.name}),s.jsx("p",{className:"text-xs text-gray-400",children:gg(r.type)}),r.type==="analysis"&&r.analysisType==="expression"&&r.params.expression&&s.jsxs("p",{className:"text-xs text-gray-500 font-mono truncate mt-1",title:r.params.expression,children:["Expr: ",r.params.expression]})]}),s.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${f?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:()=>m(r.id),title:"Remove Layer",className:"text-gray-500 hover:text-red-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),f&&s.jsxs("div",{className:"p-3 border-t border-gray-700 space-y-4 animate-fade-in",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-400",children:["Opacity: ",Math.round(r.opacity*100),"%"]}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:r.opacity,onChange:X=>u(r.id,{opacity:Number(X.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),r.type==="image"&&s.jsxs("div",{className:"space-y-3 border-t border-gray-700 pt-3",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-300",children:"Transformation"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Scale X: ",r.scaleX.toFixed(2),"x"]}),s.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.01",value:r.scaleX,onChange:X=>u(r.id,{scaleX:Number(X.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Scale Y: ",r.scaleY.toFixed(2),"x"]}),s.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.01",value:r.scaleY,onChange:X=>u(r.id,{scaleY:Number(X.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Rotation: ",r.rotation.toFixed(0),""]}),s.jsx("input",{type:"range",min:"-180",max:"180",step:"1",value:r.rotation,onChange:X=>u(r.id,{rotation:Number(X.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position X"}),s.jsx("input",{type:"number",step:"100",value:r.position[0].toFixed(0),onChange:X=>{const xe=[Number(X.target.value),r.position[1]];u(r.id,{position:xe})},className:"w-full bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position Y"}),s.jsx("input",{type:"number",step:"100",value:r.position[1].toFixed(0),onChange:X=>{const xe=[r.position[0],Number(X.target.value)];u(r.id,{position:xe})},className:"w-full bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"})]})]}),s.jsx("button",{onClick:()=>{u(r.id,{scaleX:1,scaleY:1,rotation:0})},className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-medium py-1.5 px-3 rounded-md text-xs transition-all",children:"Reset Transformation"}),s.jsx("button",{onClick:()=>{const X=document.createElement("canvas"),xe=r.originalWidth*r.scaleX,Se=r.originalHeight*r.scaleY;X.width=xe,X.height=Se;const ke=X.getContext("2d");ke.translate(X.width/2,X.height/2),ke.rotate(r.rotation*Math.PI/180),ke.scale(r.scaleX,r.scaleY),ke.drawImage(r.image,-r.originalWidth/2,-r.originalHeight/2,r.originalWidth,r.originalHeight),X.toBlob(Ie=>{if(Ie){const Ee=URL.createObjectURL(Ie),z=document.createElement("a");z.href=Ee,z.download=`transformed_${r.fileName}`,document.body.appendChild(z),z.click(),document.body.removeChild(z),URL.revokeObjectURL(Ee)}},"image/png")},className:"w-full bg-green-600 hover:bg-green-500 text-white font-semibold py-2 px-3 rounded-md text-xs transition-all",children:"Export Transformed Image"})]})]}),A&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Colormap"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("select",{value:r.colormap,onChange:X=>u(r.id,{colormap:X.target.value}),className:"flex-grow bg-gray-700 border border-gray-600 text-white text-xs rounded-lg focus:ring-cyan-500 focus:border-cyan-500 block p-2.5",children:$m.map(X=>s.jsx("option",{value:X,children:X},X))}),s.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400 cursor-pointer whitespace-nowrap",children:[s.jsx("input",{type:"checkbox",checked:!!r.colormapInverted,onChange:X=>u(r.id,{colormapInverted:X.target.checked}),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),"Invert"]})]})]}),r.colormap==="Custom"&&s.jsx(hg,{layerRange:r.range,stops:(r.customColormap||[]).map(X=>({...X,value:Ce?X.value/24:X.value})),onStopsChange:X=>{const xe=X.map(Se=>({...Se,value:Ce?Se.value*24:Se.value}));u(r.id,{customColormap:xe})},units:Ce?"days":void 0}),r.colormap!=="Custom"&&s.jsxs("div",{className:"space-y-2 p-3 bg-gray-900/30 rounded-md",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-300",children:"Transparency Thresholds"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Lower "}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("input",{type:"number",step:"any",value:r.transparencyLowerThreshold??"",onChange:X=>{const xe=X.target.value===""?void 0:Number(X.target.value);u(r.id,{transparencyLowerThreshold:xe})},placeholder:"None",className:"flex-1 bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"}),r.transparencyLowerThreshold!==void 0&&s.jsx("button",{onClick:()=>u(r.id,{transparencyLowerThreshold:void 0}),className:"text-gray-400 hover:text-red-400 flex-shrink-0",title:"Clear",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Upper "}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("input",{type:"number",step:"any",value:r.transparencyUpperThreshold??"",onChange:X=>{const xe=X.target.value===""?void 0:Number(X.target.value);u(r.id,{transparencyUpperThreshold:xe})},placeholder:"None",className:"flex-1 bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"}),r.transparencyUpperThreshold!==void 0&&s.jsx("button",{onClick:()=>u(r.id,{transparencyUpperThreshold:void 0}),className:"text-gray-400 hover:text-red-400 flex-shrink-0",title:"Clear",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Values at or beyond thresholds become transparent"})]})]}),s.jsx("div",{className:"flex flex-col items-center",children:s.jsx(Fm,{colorMap:r.colormap,customColormap:r.customColormap,dataRange:ye?{min:-(r.params.clipValue??0),max:r.params.clipValue??0}:r.range,units:r.type==="analysis"?r.analysisType==="nightfall"?"days":"%":void 0,inverted:r.colormapInverted,isThreshold:r.colormap==="Custom"})})]}),r.type==="analysis"&&r.analysisType==="daylight_fraction"&&g&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-900/40 rounded-md text-sm space-y-2 animate-fade-in",children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Hover Details"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Daylight Fraction:"}),s.jsxs("span",{className:"font-mono text-cyan-300",children:[g.fraction.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Total Daylight:"}),s.jsx("span",{className:"font-mono text-cyan-300",children:ds(g.dayHours)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Total Night:"}),s.jsx("span",{className:"font-mono text-cyan-300",children:ds(g.nightHours)})]}),s.jsxs("div",{className:"border-t border-gray-700/50 pt-2 mt-2 space-y-1",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Day Periods"}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Count:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:g.dayPeriods})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Longest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ds(g.longestDayPeriod)})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Shortest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ds(g.shortestDayPeriod)})]})]}),s.jsxs("div",{className:"border-t border-gray-700/50 pt-2 mt-2 space-y-1",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Night Periods"}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Count:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:g.nightPeriods})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Longest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ds(g.longestNightPeriod)})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Shortest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ds(g.shortestNightPeriod)})]})]})]}),r.type==="data"&&s.jsxs("div",{className:"border-t border-gray-700 pt-3 space-y-2",children:[s.jsx("button",{onClick:()=>B(r.id),className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-semibold py-2 px-3 rounded-md text-xs transition-all",children:"Calculate Nightfall Forecast"}),s.jsx("button",{onClick:()=>D(r.id),className:"w-full bg-amber-600 hover:bg-amber-500 text-white font-semibold py-2 px-3 rounded-md text-xs transition-all",children:"Calculate Daylight Fraction"})]}),ye&&s.jsxs("div",{className:"border-t border-gray-700 pt-3 space-y-3",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-300",children:"Colormap Clipping"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400",children:["Clip colormap at: ",`${((r.params.clipValue??0)/24).toFixed(1)} days`]}),s.jsx("input",{type:"range",min:"0",max:"1000",step:"1",value:r.params.clipValue,onChange:X=>u(r.id,{params:{...r.params,clipValue:Number(X.target.value)}}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500 mt-1"})]})]}),ve&&s.jsxs("div",{className:"border-t border-gray-700 pt-3 space-y-3",children:[s.jsx("h4",{className:"text-xs font-medium text-gray-300",children:"Expression"}),se?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"New Expression"}),s.jsx("textarea",{value:Me,onChange:X=>Ue(X.target.value),rows:3,className:"w-full bg-gray-700 text-white text-xs rounded-md p-1.5 border border-gray-600 font-mono",placeholder:"Enter expression..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Available Variables"}),s.jsx("div",{className:"bg-gray-800 p-2 rounded-md text-xs font-mono text-gray-400 flex flex-wrap gap-x-2 gap-y-1",children:O.length>0?O.map(X=>s.jsx("span",{children:X},X)):s.jsx("span",{className:"text-gray-500",children:"No variables available"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>he(!1),className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-semibold py-1.5 px-3 rounded-md text-xs",children:"Cancel"}),s.jsx("button",{onClick:oe,disabled:!Me.trim()||!!V,className:"flex-1 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold py-1.5 px-3 rounded-md text-xs",children:V&&V.toLowerCase().includes("expression")?"Calculating...":"Apply"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gray-900/40 p-2 rounded-md",children:s.jsx("p",{className:"text-xs font-mono text-gray-300 break-words",children:r.params.expression||"No expression defined"})}),s.jsx("button",{onClick:F,disabled:!!V,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-3 rounded-md text-xs transition-all",children:"Edit Expression"})]})]})]})]})}),xg=()=>{const{layers:r,onCreateExpressionLayer:f,setIsCreatingExpression:d,isLoading:u}=da(),[m,S]=b.useState("Expression Layer"),[k,B]=b.useState(""),D=b.useMemo(()=>r.filter(N=>N.type==="data"||N.type==="analysis"||N.type==="dte_comms"||N.type==="lpf_comms").map(N=>yc(N.name)),[r]),g=async()=>{m.trim()&&k.trim()&&await f(m,k)},v=!!u&&u.toLowerCase().includes("expression");return s.jsxs("div",{className:"p-3 bg-gray-900/50 border border-cyan-700 rounded-md text-xs text-cyan-200 space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium text-cyan-300",children:"Create Expression Layer"}),v&&s.jsxs("div",{className:"p-4 bg-cyan-900/50 border border-cyan-500 rounded-md text-center space-y-3 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs("svg",{className:"animate-spin h-5 w-5 text-cyan-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{className:"text-cyan-300 font-semibold",children:u})]}),s.jsx("p",{className:"text-xs text-cyan-400",children:"Please wait, this may take a while for large datasets..."})]}),D.length===0&&!v&&s.jsx("div",{className:"p-2 bg-red-900/30 border border-red-600/50 rounded-md text-xs text-red-200",children:"No data layers available. Please load data layers before creating expressions."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Layer Name"}),s.jsx("input",{type:"text",value:m,onChange:N=>S(N.target.value),disabled:v,className:"w-full bg-gray-700 text-white text-sm rounded-md p-1.5 border border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Expression"}),s.jsx("textarea",{value:k,onChange:N=>B(N.target.value),rows:4,disabled:v,className:"w-full bg-gray-700 text-white text-sm rounded-md p-1.5 border border-gray-600 font-mono disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"(Nightfall_Forecast > 0) AND (DTE_Comms == 1)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Available Variables"}),s.jsx("div",{className:"bg-gray-800 p-2 rounded-md text-xs font-mono text-gray-400 flex flex-wrap gap-x-3 gap-y-1",children:D.length>0?D.map(N=>s.jsx("span",{children:N},N)):s.jsx("span",{className:"text-gray-500",children:"No data layers available."})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>d(!1),disabled:v,className:"bg-gray-600 hover:bg-gray-500 disabled:bg-gray-800 disabled:cursor-not-allowed text-white font-semibold py-1.5 px-3 rounded-md text-xs",children:"Cancel"}),s.jsx("button",{onClick:g,disabled:!m.trim()||!k.trim()||v,className:"bg-cyan-600 hover:bg-cyan-500 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-semibold py-1.5 px-3 rounded-md text-xs",children:v?"Computing...":"Create"})]})]})},pg=()=>{const{layers:r,activeLayerId:f,setActiveLayerId:d,isCreatingExpression:u,setIsCreatingExpression:m,isLoading:S}=da(),k=b.useMemo(()=>r.some(B=>B.type==="data"||B.type==="analysis"||B.type==="dte_comms"||B.type==="lpf_comms"),[r]);return u?s.jsx(xg,{}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-base font-semibold text-cyan-300",children:"Layer Management"}),s.jsx(dg,{}),!k&&s.jsx("div",{className:"p-2 bg-yellow-900/30 border border-yellow-600/50 rounded-md text-xs text-yellow-200",children:"Load a data layer before creating expression layers"}),s.jsx("button",{onClick:()=>m(!0),disabled:!!S||!k,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-4 rounded-md text-xs transition-all flex items-center justify-center gap-2",title:k?"Create a layer from an expression":"Load a data layer first",children:"Add Expression Layer"}),S&&s.jsx("div",{className:"text-xs text-cyan-300 text-center p-2 bg-gray-900/50 rounded-md",children:S}),s.jsx("div",{className:"space-y-2",children:r.length>0?[...r].reverse().map(B=>s.jsx(yg,{layer:B,isActive:B.id===f,onSelect:()=>d(B.id===f?null:B.id)},B.id)):s.jsx("p",{className:"text-xs text-gray-500 text-center p-4",children:"No layers loaded."})})]})},vg=xc.memo(({artifact:r,isActive:f,onSelect:d})=>{const{onUpdateArtifact:u,onRemoveArtifact:m,onStartAppendWaypoints:S}=da(),k=(v,N)=>{u(r.id,{[v]:N})},B=(v,N,M)=>{const _=[...v.waypoints];_[N]={..._[N],...M},u(v.id,{waypoints:_})},D=(v,N,M,_)=>{const V=parseFloat(_);if(isNaN(V))return;const se=[...v.waypoints],he=se[N].geoPosition,Me=[M==="lon"?V:he[0],M==="lat"?V:he[1]];se[N]={...se[N],geoPosition:Me},u(v.id,{waypoints:se})},g=(v,N)=>{const M=v.waypoints.filter((_,V)=>V!==N);u(v.id,{waypoints:M})};return s.jsxs("div",{className:`bg-gray-800/60 rounded-lg border ${f?"border-cyan-500/50":"border-gray-700/80"}`,children:[s.jsxs("div",{className:"flex items-center p-2 gap-2",children:[s.jsx("button",{onClick:()=>k("visible",!r.visible),title:r.visible?"Hide":"Show",className:"text-gray-400 hover:text-white",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd",style:{opacity:r.visible?1:.3}})]})}),s.jsxs("div",{onClick:d,className:"flex-grow cursor-pointer truncate text-xs",children:[s.jsx("p",{className:"font-medium text-gray-200",title:r.name,children:r.name}),s.jsx("p",{className:"text-xs text-gray-400",children:r.type.charAt(0).toUpperCase()+r.type.slice(1)})]}),s.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${f?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:()=>m(r.id),title:"Remove",className:"text-gray-500 hover:text-red-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),f&&s.jsxs("div",{className:"p-3 border-t border-gray-700 space-y-4 text-xs animate-fade-in",children:[s.jsxs(fa,{title:"General",defaultOpen:!0,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Name"}),s.jsx("input",{type:"text",value:r.name,onChange:v=>k("name",v.target.value),className:"w-40 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Color"}),s.jsx("input",{type:"color",value:r.color,onChange:v=>k("color",v.target.value),className:"w-10 h-8 p-0 border-none rounded-md bg-transparent cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block font-medium text-gray-300 mb-1",children:["Thickness: ",r.thickness,"px"]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"1",value:r.thickness,onChange:v=>k("thickness",Number(v.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]})]}),r.type==="circle"&&s.jsx(fa,{title:"Circle Properties",defaultOpen:!0,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Radius (m)"}),s.jsx("input",{type:"number",min:"0",value:r.radius,onChange:v=>u(r.id,{radius:Number(v.target.value)}),className:"w-24 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]})}),r.type==="rectangle"&&s.jsxs(fa,{title:"Rectangle Properties",defaultOpen:!0,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Width (m)"}),s.jsx("input",{type:"number",min:"0",value:r.width,onChange:v=>u(r.id,{width:Number(v.target.value)}),className:"w-24 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Height (m)"}),s.jsx("input",{type:"number",min:"0",value:r.height,onChange:v=>u(r.id,{height:Number(v.target.value)}),className:"w-24 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block font-medium text-gray-300 mb-1",children:["Rotation: ",r.rotation,""]}),s.jsx("input",{type:"range",min:"0",max:"360",step:"1",value:r.rotation,onChange:v=>u(r.id,{rotation:Number(v.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]})]}),r.type==="path"&&s.jsxs(s.Fragment,{children:[s.jsx(fa,{title:"Path Tools",children:s.jsx("button",{onClick:S,className:"w-full bg-teal-600 hover:bg-teal-500 text-white text-sm font-semibold py-1.5 px-2 rounded-md",children:"Add Waypoints"})}),s.jsx(fa,{title:"Path Waypoints",defaultOpen:!0,children:s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:r.waypoints.map((v,N)=>s.jsxs("div",{className:"bg-gray-900/40 p-1.5 rounded-md space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-mono text-gray-400",children:[N+1,"."]}),s.jsx("input",{type:"text",value:v.label,onChange:M=>B(r,N,{label:M.target.value}),className:"w-full bg-gray-700 text-white rounded p-1 border border-gray-600 text-sm",placeholder:"Label"}),s.jsx("button",{onClick:()=>g(r,N),title:"Remove Waypoint",className:"text-gray-500 hover:text-red-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),s.jsxs("div",{className:"flex items-center gap-2 pl-6",children:[s.jsx("input",{type:"number",step:"any",value:v.geoPosition[0],onChange:M=>D(r,N,"lon",M.target.value),className:"w-full bg-gray-700 text-white rounded p-1 border border-gray-600 text-xs",placeholder:"Lon",title:"Longitude"}),s.jsx("input",{type:"number",step:"any",value:v.geoPosition[1],onChange:M=>D(r,N,"lat",M.target.value),className:"w-full bg-gray-700 text-white rounded p-1 border border-gray-600 text-xs",placeholder:"Lat",title:"Latitude"})]})]},v.id))})})]})]})]})}),bg=()=>{const{artifacts:r,activeArtifactId:f,setActiveArtifactId:d,artifactCreationMode:u,setArtifactCreationMode:m,onFinishArtifactCreation:S,primaryDataLayer:k,baseMapLayer:B,isAppendingWaypoints:D,pathCreationOptions:g,setPathCreationOptions:v}=da();return!!k||!!B?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-base font-semibold text-cyan-300",children:"Artifacts"}),u==="path"?s.jsxs("div",{className:"p-3 bg-cyan-900/50 border border-cyan-700 rounded-md text-xs text-cyan-200 space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Drawing Path:"})," Click on the map to add waypoints. Press 'Esc' or click finish when done."]}),s.jsx("button",{onClick:S,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-1.5 px-3 rounded-md text-xs transition-all",children:"Finish Drawing"})]}):D?s.jsxs("div",{className:"p-3 bg-teal-900/50 border border-teal-700 rounded-md text-xs text-teal-200 space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Appending to Path:"})," Click on the map to add new waypoints. Press 'Esc' or click finish to stop."]}),s.jsx("button",{onClick:S,className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-semibold py-1.5 px-3 rounded-md text-xs transition-all",children:"Finish Appending"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Add and manage annotations on the map. Click a button below, then click on the map to place an artifact."}),s.jsx(fa,{title:"Path Creation Settings",defaultOpen:!1,children:s.jsx("div",{className:"space-y-2",children:s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs text-gray-300",children:"Max Segment Length (m):"}),s.jsx("input",{type:"number",min:"0",step:"100",value:g.defaultMaxSegmentLength??"",placeholder:"No limit",onChange:M=>{const _=M.target.value===""?null:parseFloat(M.target.value);v({defaultMaxSegmentLength:_})},className:"bg-gray-700 text-white rounded p-2 border border-gray-600 text-sm",title:"Maximum distance between waypoints. A visual guide circle will be shown during path creation."}),s.jsx("span",{className:"text-xs text-gray-500",children:"Set a limit before creating a path. Leave empty for no limit."})]})})}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{onClick:()=>m("circle"),className:"bg-teal-700 hover:bg-teal-600 text-white font-semibold py-2 px-2 rounded-md text-xs transition-all text-center",children:"Add Circle"}),s.jsx("button",{onClick:()=>m("rectangle"),className:"bg-indigo-700 hover:bg-indigo-600 text-white font-semibold py-2 px-2 rounded-md text-xs transition-all text-center",children:"Add Rect"}),s.jsx("button",{onClick:()=>m("path"),className:"bg-purple-700 hover:bg-purple-600 text-white font-semibold py-2 px-2 rounded-md text-xs transition-all text-center",children:"Add Path"})]})]}),s.jsx("div",{className:"space-y-2",children:r.length>0?[...r].reverse().map(M=>s.jsx(vg,{artifact:M,isActive:M.id===f,onSelect:()=>d(M.id===f?null:M.id)},M.id)):s.jsx("p",{className:"text-xs text-gray-500 text-center p-4",children:"No artifacts created."})})]}):s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-cyan-300",children:"Artifacts"}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Load a basemap or data layer to add artifacts."})]})},jg=()=>{const{primaryDataLayer:r,selectedCells:f,selectionColor:d,setSelectionColor:u,onClearSelection:m}=da();return!r?s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-cyan-300",children:"Measurement"}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Load a data layer to select cells."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-base font-semibold text-cyan-300",children:"Cell Selection"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Click on the map to select or deselect individual cells."}),s.jsxs(fa,{title:"Selection Tools",defaultOpen:!0,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-xs text-gray-300",children:"Selected cells:"}),s.jsx("span",{className:"font-mono text-cyan-300",children:f.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-xs font-medium text-gray-300",children:"Highlight Color"}),s.jsx("input",{type:"color",value:d,onChange:k=>u(k.target.value),className:"w-10 h-8 p-0 border-none rounded-md bg-transparent cursor-pointer"})]}),s.jsx("button",{onClick:m,disabled:f.length===0,className:"w-full bg-red-600 hover:bg-red-500 disabled:bg-gray-600 text-white font-semibold py-2 px-3 rounded-md text-xs transition-all",children:"Clear Selection"})]})]})},Sg=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),Ng=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),wg=()=>{const{primaryDataLayer:r,baseMapLayer:f,activeLayer:d,timeRange:u,showGraticule:m,setShowGraticule:S,graticuleDensity:k,setGraticuleDensity:B,selectedPixel:D,showGrid:g,setShowGrid:v,gridSpacing:N,setGridSpacing:M,gridColor:_,setGridColor:V,isPlaying:se,isPaused:he,playbackSpeed:Me,onTogglePlay:Ue,onPlaybackSpeedChange:ye,onImportConfig:ve,onExportConfig:Ce,artifactDisplayOptions:A,setArtifactDisplayOptions:O,nightfallPlotYAxisRange:F,onNightfallPlotYAxisRangeChange:oe}=da(),X=!!r||!!f,xe=b.useRef(null),Se=()=>{var Ee;return(Ee=xe.current)==null?void 0:Ee.click()},ke=Ee=>{var z;(z=Ee.target.files)!=null&&z[0]&&(ve(Ee.target.files[0]),Ee.target.value="")},Ie=(d==null?void 0:d.type)==="analysis"&&d.analysisType==="nightfall";return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-base font-semibold text-cyan-300",children:"Configuration"}),s.jsxs(fa,{title:"Session Management",defaultOpen:!0,children:[s.jsx("input",{type:"file",ref:xe,onChange:ke,accept:".json",style:{display:"none"}}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:Se,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-3 rounded-md text-xs transition-all",children:"Import Config"}),s.jsx("button",{onClick:Ce,disabled:!X,className:"w-full bg-teal-600 hover:bg-teal-500 disabled:bg-gray-600 text-white font-semibold py-2 px-3 rounded-md text-xs transition-all",children:"Export Config"})]})]}),X?s.jsxs(s.Fragment,{children:[Ie&&s.jsxs(fa,{title:"Plot Options",defaultOpen:!0,children:[s.jsx("h4",{className:"text-xs font-medium text-gray-300 mb-2",children:"Nightfall Plot Y-Axis Range"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Min (days)"}),s.jsx("input",{type:"number",step:"1",value:F.min,onChange:Ee=>oe({...F,min:Number(Ee.target.value)}),className:"w-full bg-gray-700 text-white text-xs rounded-md p-1 border border-gray-600"}),s.jsx("label",{className:"text-xs text-gray-400",children:"Max (days)"}),s.jsx("input",{type:"number",step:"1",value:F.max,onChange:Ee=>oe({...F,max:Number(Ee.target.value)}),className:"w-full bg-gray-700 text-white text-xs rounded-md p-1 border border-gray-600"})]})]}),s.jsx(fa,{title:"Time Animation",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:Ue,disabled:!se&&!he&&(!u||u.start>=u.end),className:"flex items-center justify-center gap-2 w-28 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-semibold py-2 px-3 rounded-md text-xs transition-all",title:se?"Stop":he?"Resume Playback":!u||u.start>=u.end?"Select a time range on the slider to enable playback":"Play",children:[se?s.jsx(Ng,{}):s.jsx(Sg,{}),s.jsx("span",{children:se?"Stop":he?"Resume":"Play"})]}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Speed: ",Me," FPS"]}),s.jsx("input",{type:"range",min:"1",max:"30",step:"1",value:Me,onChange:Ee=>ye(Number(Ee.target.value)),disabled:se,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})]})]})}),s.jsxs(fa,{title:"View Options",defaultOpen:!0,children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:m,onChange:Ee=>S(Ee.target.checked),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),s.jsx("span",{children:"Show Graticule"})]}),m&&s.jsxs("div",{className:"pt-3",children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-400",children:["Density: ",k.toFixed(1),"x"]}),s.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:k,onChange:Ee=>B(Number(Ee.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]})]}),s.jsxs(fa,{title:"Artifact Display Options",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-400",children:["Waypoint Dot Size: ",A.waypointDotSize,"px"]}),s.jsx("input",{type:"range",min:"2",max:"20",step:"1",value:A.waypointDotSize,onChange:Ee=>O({...A,waypointDotSize:Number(Ee.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-400",children:["Label Font Size: ",A.labelFontSize,"px"]}),s.jsx("input",{type:"range",min:"8",max:"24",step:"1",value:A.labelFontSize,onChange:Ee=>O({...A,labelFontSize:Number(Ee.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-xs text-gray-300",children:[s.jsx("input",{type:"checkbox",checked:A.showSegmentLengths,onChange:Ee=>O({...A,showSegmentLengths:Ee.target.checked}),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),s.jsx("span",{children:"Show Segment Lengths"})]})]}),s.jsxs(fa,{title:"Grid Overlay",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g,onChange:Ee=>v(Ee.target.checked),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),s.jsx("span",{children:"Show Grid Overlay"})]}),g&&s.jsxs("div",{className:"pt-3 space-y-3 border-t border-gray-700/50 mt-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs font-medium text-gray-400",children:["Spacing: ",N,"m"]}),s.jsx("input",{type:"range",min:"10",max:"1000",step:"10",value:N,onChange:Ee=>M(Number(Ee.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Color"}),s.jsx("input",{type:"color",value:_.slice(0,7),onChange:Ee=>V(Ee.target.value+"80"),className:"w-10 h-8 p-0 border-none rounded-md bg-transparent cursor-pointer"})]})]})]}),s.jsx(fa,{title:"Selected Pixel",defaultOpen:!0,children:s.jsx("div",{className:"text-xs space-y-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Pixel (X, Y):"}),s.jsx("span",{className:"font-mono text-green-400",children:D?`${D.x}, ${D.y}`:"---"})]})})})]}):s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Load a data layer or import a session to see more options."})]})},Cg=()=>{const{events:r,activeEventId:f,setActiveEventId:d,onAddEvent:u,onUpdateEvent:m,onRemoveEvent:S,primaryDataLayer:k,currentDateIndex:B,setCurrentDateIndex:D,timeRange:g}=da(),[v,N]=b.useState(""),[M,_]=b.useState(""),[V,se]=b.useState(!0),[he,Me]=b.useState(0),Ue=!!k,ye=k?k.dimensions.time-1:0,ve=()=>{if(!v.trim()||!Ue)return;const A=V?B??0:Math.max(0,Math.min(he,ye)),O={id:`event-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:v.trim(),description:M.trim(),dateIndex:A,visible:!0,color:"#FFA500"};u(O),N(""),_("")},Ce=A=>{D(A)};return Ue?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-base font-semibold text-cyan-300",children:"Events"}),s.jsx("p",{className:"text-xs text-gray-400",children:"Add and manage temporal event markers on the timeline."}),s.jsx(fa,{title:"Add New Event",defaultOpen:!0,children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs text-gray-300",children:"Event Name:"}),s.jsx("input",{type:"text",value:v,onChange:A=>N(A.target.value),placeholder:"e.g., Launch Event",maxLength:24,className:"bg-gray-700 text-white rounded p-2 border border-gray-600 text-sm"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[v.length,"/24 characters"]})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs text-gray-300",children:"Description:"}),s.jsx("textarea",{value:M,onChange:A=>_(A.target.value),placeholder:"Optional description",rows:3,className:"bg-gray-700 text-white rounded p-2 border border-gray-600 text-sm resize-none"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("span",{className:"text-xs text-gray-300",children:"Date:"}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",checked:V,onChange:()=>se(!0),className:"w-4 h-4"}),s.jsxs("span",{className:"text-gray-300",children:["Use current date ",B!==null&&`(${An(B)})`]})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"radio",checked:!V,onChange:()=>se(!1),className:"w-4 h-4"}),s.jsx("span",{className:"text-gray-300",children:"Custom date"})]}),!V&&s.jsxs("div",{className:"ml-6 space-y-1",children:[s.jsx("input",{type:"number",min:"0",max:ye,value:he,onChange:A=>Me(parseInt(A.target.value)||0),className:"bg-gray-700 text-white rounded p-2 border border-gray-600 text-sm w-full"}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Index: ",he," / ",ye," (",An(he),")"]})]})]}),s.jsx("button",{onClick:ve,disabled:!v.trim(),className:"w-full bg-orange-600 hover:bg-orange-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Add Event"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Events List"}),r.length>0?s.jsx("div",{className:"space-y-2",children:[...r].sort((A,O)=>A.dateIndex-O.dateIndex).map(A=>s.jsxs("div",{className:`p-3 rounded-md border transition-all cursor-pointer ${A.id===f?"bg-orange-900/30 border-orange-500":"bg-gray-700/30 border-gray-600 hover:border-gray-500"}`,onClick:()=>d(A.id===f?null:A.id),children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:O=>{O.stopPropagation(),m(A.id,{visible:!A.visible})},className:"flex-shrink-0",title:A.visible?"Hide event":"Show event",children:A.visible?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-orange-400",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),s.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})}),s.jsx("input",{type:"color",value:A.color,onChange:O=>{O.stopPropagation(),m(A.id,{color:O.target.value})},className:"w-6 h-6 rounded cursor-pointer",title:"Change event color"}),s.jsx("span",{className:"text-sm font-medium text-white truncate",children:A.name})]}),s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:An(A.dateIndex)}),A.description&&s.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:A.description})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("button",{onClick:O=>{O.stopPropagation(),Ce(A.dateIndex)},className:"p-1 hover:bg-gray-600 rounded",title:"Jump to event date",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-cyan-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:O=>{O.stopPropagation(),window.confirm(`Delete event "${A.name}"?`)&&S(A.id)},className:"p-1 hover:bg-red-600 rounded",title:"Delete event",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})]}),A.id===f&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600 space-y-2 animate-fade-in",children:[s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs text-gray-400",children:"Edit Name:"}),s.jsx("input",{type:"text",value:A.name,onChange:O=>m(A.id,{name:O.target.value}),onClick:O=>O.stopPropagation(),maxLength:24,className:"bg-gray-700 text-white rounded p-2 border border-gray-600 text-sm"}),s.jsxs("span",{className:"text-xs text-gray-500",children:[A.name.length,"/24 characters"]})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs text-gray-400",children:"Edit Description:"}),s.jsx("textarea",{value:A.description,onChange:O=>m(A.id,{description:O.target.value}),onClick:O=>O.stopPropagation(),rows:3,className:"bg-gray-700 text-white rounded p-2 border border-gray-600 text-sm resize-none"})]}),s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-xs text-gray-400",children:"Edit Date Index:"}),s.jsx("input",{type:"number",min:"0",max:ye,value:A.dateIndex,onChange:O=>m(A.id,{dateIndex:parseInt(O.target.value)||0}),onClick:O=>O.stopPropagation(),className:"bg-gray-700 text-white rounded p-2 border border-gray-600 text-sm"}),s.jsx("span",{className:"text-xs text-gray-500",children:An(A.dateIndex)})]})]})]},A.id))}):s.jsx("p",{className:"text-xs text-gray-500 text-center p-4",children:"No events created."})]})]}):s.jsxs("div",{children:[s.jsx("h2",{className:"text-base font-semibold text-cyan-300",children:"Events"}),s.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Load a data layer to add events."})]})},Mg=()=>{const{activeTool:r}=da(),f=()=>{switch(r){case"layers":return s.jsx(pg,{});case"artifacts":return s.jsx(bg,{});case"events":return s.jsx(Cg,{});case"measurement":return s.jsx(jg,{});case"config":return s.jsx(wg,{});default:return null}};return s.jsx("aside",{className:"bg-gray-800/50 border-r border-gray-700 p-4 w-80 flex-shrink-0 flex flex-col gap-6 overflow-y-auto",children:f()})},wu="w-9 h-9 bg-gray-800/80 hover:bg-gray-700/90 text-gray-200 rounded-md flex items-center justify-center text-xl font-mono transition-colors shadow-lg border border-gray-600/50",Tg=({onZoomIn:r,onZoomOut:f,onResetView:d})=>s.jsxs("div",{className:"absolute top-3 left-3 z-30 flex flex-col gap-1.5",children:[s.jsx("button",{onClick:r,className:wu,"aria-label":"Zoom In",title:"Zoom In",children:"+"}),s.jsx("button",{onClick:f,className:wu,"aria-label":"Zoom Out",title:"Zoom Out",children:"-"}),s.jsx("button",{onClick:d,className:wu,"aria-label":"Reset View",title:"Reset View",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 0h-4m4 0l-5-5"})})})]});function Cu(r,f=16){const[d,u]=b.useState(r);return b.useEffect(()=>{const m=setTimeout(()=>{u(r)},f);return()=>{clearTimeout(m)}},[r,f]),d}const Eg=r=>!r||r.length===0?"":r.map(f=>`${f.value}:${f.color}`).join("|"),Ag=(r,f,d=256)=>{const u=new Uint8ClampedArray(d*4),[m,S]=f,k=S-m;for(let B=0;B<d;B++){const D=m+k*B/(d-1),g=d3.color(r(D));if(g){const v=B*4;u[v]=g.r,u[v+1]=g.g,u[v+2]=g.b,u[v+3]=g.opacity*255}}return u},zg=(r,f)=>{const u=M=>M*Math.PI/180,[m,S]=r,[k,B]=f,D=u(B-S),g=u(k-m),v=Math.sin(D/2)*Math.sin(D/2)+Math.cos(u(S))*Math.cos(u(B))*Math.sin(g/2)*Math.sin(g/2);return 6371e3*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))},Dg=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[s.jsxs("svg",{className:"animate-spin h-10 w-10 text-cyan-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("p",{className:"mt-4",children:"Rendering..."})]}),Rg=()=>{const{layers:r,timeRange:f,currentDateIndex:d,setHoveredCoords:u,setSelectedPixel:m,onFinishArtifactCreation:S,onUpdateArtifact:k,clearHoverState:B,latRange:D,lonRange:g,showGraticule:v,graticuleDensity:N,proj:M,viewState:_,setViewState:V,primaryDataLayer:se,baseMapLayer:he,showGrid:Me,gridSpacing:Ue,gridColor:ye,activeTool:ve,selectedCells:Ce,selectionColor:A,artifacts:O,artifactCreationMode:F,draggedInfo:oe,setDraggedInfo:X,artifactDisplayOptions:xe,isAppendingWaypoints:Se,coordinateTransformer:ke,snapToCellCorner:Ie,calculateRectangleFromCellCorners:Ee,setActiveArtifactId:z,setArtifacts:ae,setSelectedCells:le,activeLayerId:De,onUpdateLayer:Qe,pathCreationOptions:x,activeArtifactId:H,setSelectedCellForPlot:ue,selectedCellForPlot:me}=da(),He=d??0,qe=f,Ke=!!se||!!he,Nt=Cu(N,100),gt=Cu(Me,50),Bt=Cu(Ue,100),hl=b.useRef(null),wa=b.useRef(null),ll=b.useRef(null),ha=b.useRef(null),Ca=b.useRef(null),nl=b.useRef(null),[ms,ca]=b.useState(!1),Ua=b.useRef(new sg(50,500)).current,Yt=b.useMemo(()=>{if(!se&&!he)return null;let Z=null;if(se&&M){const[w,I]=g,[h,re]=D,fe=[[w,h],[I,h],[I,re],[w,re]].map(J=>M.forward(J));Z={minX:Math.min(...fe.map(J=>J[0])),maxX:Math.max(...fe.map(J=>J[0])),minY:Math.min(...fe.map(J=>J[1])),maxY:Math.max(...fe.map(J=>J[1]))}}let te=null;if(he){const w=he.vrt.geoTransform;te={minX:w[0],maxX:w[0]+he.vrt.width*w[1],minY:w[3]+he.vrt.height*w[5],maxY:w[3]}}return Z&&te?{minX:Math.min(Z.minX,te.minX),maxX:Math.max(Z.maxX,te.maxX),minY:Math.min(Z.minY,te.minY),maxY:Math.max(Z.maxY,te.maxY)}:Z||te},[se,he,M,g,D]),ml=b.useMemo(()=>{if(!M||!Yt||!Nt||Nt<=0)return null;try{const{minX:Z,maxX:te,minY:w,maxY:I}=Yt,re=[[Z,w],[te,w],[te,I],[Z,I]].map(de=>{try{return proj4("EPSG:4326",M).inverse(de)}catch{return null}}).filter(de=>de!==null);let fe=360,J=180;if(re.length>0){const de=Math.min(...re.map(ie=>ie[0])),pe=Math.max(...re.map(ie=>ie[0])),we=Math.min(...re.map(ie=>ie[1])),U=Math.max(...re.map(ie=>ie[1]));fe=Math.abs(pe-de),fe>180&&(fe=360-fe),J=Math.abs(U-we)}const ee=de=>{if(de<=0)return 1;const pe=de/(5*Nt);if(pe<=0)return 1;const we=Math.pow(10,Math.floor(Math.log10(pe))),U=pe/we;return U<1.5?we:U<3.5?2*we:U<7.5?5*we:10*we},W=ee(fe),ge=ee(J),ce=[],ne=[];for(let de=-180;de<=180;de+=W){const pe=[];for(let we=0;we<=100;we++){const U=-90+we/100*180;try{const ie=M.forward([de,U]);isFinite(ie[0])&&isFinite(ie[1])&&pe.push([ie[0],ie[1]])}catch{}}pe.length>=2&&ce.push({lon:de,points:pe})}for(let de=-90;de<=90;de+=ge){const pe=[];for(let we=0;we<=200;we++){const U=-180+we/200*360;try{const ie=M.forward([U,de]);isFinite(ie[0])&&isFinite(ie[1])&&pe.push([ie[0],ie[1]])}catch{}}pe.length>=2&&ne.push({lat:de,points:pe})}return{lonLines:ce,latLines:ne,lonStep:W,latStep:ge}}catch(Z){return console.error("Error calculating graticule cache:",Z),null}},[M,Yt,Nt]),gl=b.useRef(!1),ra=b.useRef(!1),Mt=b.useRef({x:0,y:0}),[yl,Ol]=b.useState(null),[Ha,sl]=b.useState(null),[$a,xl]=b.useState(null),[Fa,un]=b.useState(null),[Gt,It]=b.useState(null),[zt,Vt]=b.useState(null);b.useEffect(()=>{F!=="rectangle"&&un(null)},[F]),b.useEffect(()=>{const Z=Ca.current;if(!Yt||!Z||_&&gl.current)return;const{clientWidth:te,clientHeight:w}=Z;if(te===0||w===0)return;const I=Yt.maxX-Yt.minX,h=Yt.maxY-Yt.minY,re=Math.min(te/I,w/h)*.95,J={center:[Yt.minX+I/2,Yt.minY+h/2],scale:re};Ol(J),V(J),gl.current=!0},[Yt,V,_]),b.useEffect(()=>{gl.current=!1},[r]);const ua=b.useCallback((Z,te)=>{const w=Ca.current;if(!w||!_||w.width===0||w.height===0)return null;const I=window.devicePixelRatio||1,{center:h,scale:re}=_,fe=(Z*I-w.width/2)/(re*I)+h[0],J=-(te*I-w.height/2)/(re*I)+h[1];return[fe,J]},[_]),Dn=b.useCallback(Z=>{try{if(!_||!De||!Z)return null;const te=r.find(we=>we.id===De&&we.type==="image");if(!te||te.type!=="image")return null;const w=te;if(!w.originalWidth||!w.originalHeight||!w.scaleX||!w.scaleY||!w.position)return null;const I=w.originalWidth*w.scaleX,h=w.originalHeight*w.scaleY,re=12/_.scale,fe=Z[0]-w.position[0],J=Z[1]-w.position[1],ee=w.rotation*Math.PI/180,W=Math.cos(-ee),ge=Math.sin(-ee),ce=fe*W-J*ge,ne=fe*ge+J*W;if(Math.abs(ce)<re&&Math.abs(ne)<re)return{layerId:w.id,handleType:"center"};const de=[[-I/2,-h/2],[I/2,-h/2],[I/2,h/2],[-I/2,h/2]];for(let we=0;we<de.length;we++){const[U,ie]=de[we];if(Math.abs(ce-U)<re&&Math.abs(ne-ie)<re)return{layerId:w.id,handleType:"corner",handleIndex:we}}const pe=[[0,-h/2],[I/2,0],[0,h/2],[-I/2,0]];for(let we=0;we<pe.length;we++){const[U,ie]=pe[we];if(Math.abs(ce-U)<re&&Math.abs(ne-ie)<re)return{layerId:w.id,handleType:"edge",handleIndex:we}}return null}catch(te){return console.error("Error in getImageLayerHandle:",te),null}},[_,r,De]);b.useEffect(()=>{const Z=hl.current;if(!Z)return;const te=w=>{if(!_)return;w.preventDefault();const I=Z.getBoundingClientRect(),h=w.clientX-I.left,re=w.clientY-I.top,fe=ua(h,re);if(!fe)return;const J=1-w.deltaY*.001,ee=_.scale*J,W=window.devicePixelRatio||1,ge=[fe[0]-(h*W-Z.offsetWidth*W/2)/(ee*W),fe[1]+(re*W-Z.offsetHeight*W/2)/(ee*W)];V({scale:ee,center:ge})};return Z.addEventListener("wheel",te,{passive:!1}),()=>{Z.removeEventListener("wheel",te)}},[_,ua,V]),b.useEffect(()=>{const Z=[wa.current,ll.current,Ca.current];if(Z.some(U=>!U)||!_||!Ke)return;ca(!0);const te=performance.now(),[w,I,h]=Z,re=window.devicePixelRatio||1;[w,I,h].forEach(U=>{if(!U.parentElement)return;const{clientWidth:ie,clientHeight:Ge}=U.parentElement;U.width=ie*re,U.height=Ge*re});const fe=w.getContext("2d"),J=I.getContext("2d"),ee=h.getContext("2d");if(!fe||!J||!ee)return;const W=[fe,J,ee],{center:ge,scale:ce}=_;W.forEach(U=>{U.clearRect(0,0,U.canvas.width,U.canvas.height),U.save(),U.translate(U.canvas.width/2,U.canvas.height/2);const ie=ce*re;U.scale(ie,-ie),U.translate(-ge[0],-ge[1]),U.imageSmoothingEnabled=!1}),r.forEach(U=>{if(U.visible){if(U.type==="basemap"){const ie=U.vrt.geoTransform;fe.save(),fe.globalAlpha=U.opacity,fe.transform(ie[1],ie[4],ie[2],ie[5],ie[0],ie[3]),fe.drawImage(U.image,0,0),fe.restore()}else if(U.type==="image"){fe.save(),fe.globalAlpha=U.opacity,fe.translate(U.position[0],U.position[1]);const ie=U.rotation*Math.PI/180;fe.rotate(ie),fe.scale(1,-1);const Ge=U.originalWidth*U.scaleX,Ve=U.originalHeight*U.scaleY;fe.drawImage(U.image,-Ge/2,-Ve/2,Ge,Ve),fe.restore()}else if((U.type==="data"||U.type==="analysis"||U.type==="dte_comms"||U.type==="lpf_comms")&&M){let ie;const Ge=!!U.colormapInverted;let Ve;U.type==="analysis"&&U.analysisType==="daylight_fraction"&&qe?Ve=`${U.id}-${qe.start}-${qe.end}-${U.colormap}-${Ge}`:(Ve=`${U.id}-${He}-${U.colormap}-${Ge}-${U.range.min}-${U.range.max}`,U.type==="analysis"&&U.analysisType==="nightfall"&&(Ve+=`-${U.params.clipValue}`)),U.colormap==="Custom"&&(Ve+=`-${Eg(U.customColormap)}`),U.transparencyLowerThreshold!==void 0&&(Ve+=`-lt${U.transparencyLowerThreshold}`),U.transparencyUpperThreshold!==void 0&&(Ve+=`-ut${U.transparencyUpperThreshold}`),ie=Ve;let Re=Ua.get(ie);if(!Re){const Q=U.dataset[U.type==="analysis"&&U.analysisType==="daylight_fraction"?0:He];if(!Q)return;const{width:$,height:P}=U.dimensions;Re=document.createElement("canvas"),Re.width=$,Re.height=P;const be=Re.getContext("2d");let je;const G=U.colormap==="Custom";U.type==="analysis"&&U.analysisType==="nightfall"?je=[U.range.min,U.params.clipValue??U.range.max]:je=[U.range.min,U.range.max];const _e=j0(U.colormap,je,U.colormapInverted,U.customColormap,G),Ye=be.createImageData($,P),Ae=Ag(_e,je,256),[Le,$e]=je,et=$e-Le;for(let Fe=0;Fe<P;Fe++)for(let nt=0;nt<$;nt++){const Te=Q[Fe][nt],ht=(Fe*$+nt)*4;let yt=(Te-Le)/et;yt=Math.max(0,Math.min(1,yt));const ot=Math.floor(yt*255)*4;Ye.data[ht]=Ae[ot],Ye.data[ht+1]=Ae[ot+1],Ye.data[ht+2]=Ae[ot+2],Ye.data[ht+3]=Ae[ot+3],U.transparencyLowerThreshold!==void 0&&Te<=U.transparencyLowerThreshold&&(Ye.data[ht+3]=0),U.transparencyUpperThreshold!==void 0&&Te>=U.transparencyUpperThreshold&&(Ye.data[ht+3]=0)}be.putImageData(Ye,0,0),Ua.set(ie,Re)}J.save(),J.globalAlpha=U.opacity;const[xt,lt]=g,[ct,Pe]=D,ut=M.forward([xt,Pe]),Rt=M.forward([lt,Pe]),wt=M.forward([xt,ct]),Lt=(Rt[0]-ut[0])/Re.width,Xe=(Rt[1]-ut[1])/Re.width,ya=(wt[0]-ut[0])/Re.height,Zt=(wt[1]-ut[1])/Re.height,sa=ut[0],C=ut[1];J.transform(Lt,Xe,ya,Zt,sa,C),J.drawImage(Re,0,0),J.restore()}}});const{clientWidth:ne,clientHeight:de}=h,pe=ua(0,0),we=ua(ne*(window.devicePixelRatio||1),de*(window.devicePixelRatio||1));if(pe&&we){const[U,ie]=[pe[0],we[1]],[Ge,Ve]=[we[0],pe[1]];if(gt){ee.strokeStyle=ye,ee.lineWidth=.8/(ce*re);const Re=Math.ceil(U/Bt)*Bt,xt=Math.ceil(ie/Bt)*Bt;ee.beginPath();for(let lt=Re;lt<=Ge;lt+=Bt)ee.moveTo(lt,ie),ee.lineTo(lt,Ve);for(let lt=xt;lt<=Ve;lt+=Bt)ee.moveTo(U,lt),ee.lineTo(Ge,lt);ee.stroke()}if(v&&M&&ml){ee.strokeStyle="rgba(255, 255, 255, 0.4)",ee.lineWidth=1/(ce*re);const Re=(wt,Lt)=>{ee.save(),ee.translate(Lt[0],Lt[1]);const Xe=1/(ce*re);ee.scale(Xe,-Xe),ee.fillStyle="rgba(255, 255, 255, 0.95)",ee.font="12px sans-serif",ee.strokeStyle="rgba(0, 0, 0, 0.8)",ee.lineWidth=2,ee.textAlign="left",ee.textBaseline="top",ee.strokeText(wt,5,5),ee.fillText(wt,5,5),ee.restore()},{lonLines:xt,latLines:lt,lonStep:ct,latStep:Pe}=ml;let ut=0,Rt=0;try{const wt=proj4("EPSG:4326",M).inverse(_.center);ut=Math.round(wt[0]/ct)*ct,Rt=Math.round(wt[1]/Pe)*Pe}catch{ut=0,Rt=0}for(const{lon:wt,points:Lt}of xt){ee.beginPath();for(let Xe=0;Xe<Lt.length;Xe++){const[ya,Zt]=Lt[Xe];Xe===0?ee.moveTo(ya,Zt):ee.lineTo(ya,Zt)}ee.stroke();try{const Xe=M.forward([wt,Rt]);isFinite(Xe[0])&&isFinite(Xe[1])&&Xe[0]>=U&&Xe[0]<=Ge&&Xe[1]>=ie&&Xe[1]<=Ve&&Re(`${wt.toFixed(1)}`,Xe)}catch{}}for(const{lat:wt,points:Lt}of lt){ee.beginPath();for(let Xe=0;Xe<Lt.length;Xe++){const[ya,Zt]=Lt[Xe];Xe===0?ee.moveTo(ya,Zt):ee.lineTo(ya,Zt)}ee.stroke();try{const Xe=M.forward([ut,wt]);isFinite(Xe[0])&&isFinite(Xe[1])&&Xe[0]>=U&&Xe[0]<=Ge&&Xe[1]>=ie&&Xe[1]<=Ve&&Re(`${wt.toFixed(1)}`,Xe)}catch{}}}}W.forEach(U=>U.restore()),performance.now()-te>16?requestAnimationFrame(()=>ca(!1)):ca(!1)},[r,He,v,M,_,Ke,D,g,ua,qe,gt,Bt,ye,ml]);const on=b.useCallback(Z=>{if(!se||!M)return null;const{width:te,height:w}=se.dimensions,[I,h]=g,[re,fe]=D,J=M.forward([I,fe]),ee=M.forward([h,fe]),W=M.forward([I,re]),ge=(ee[0]-J[0])/te,ce=(ee[1]-J[1])/te,ne=(W[0]-J[0])/w,de=(W[1]-J[1])/w,pe=J[0],we=J[1],U=ge*de-ce*ne;if(Math.abs(U)<1e-9)return null;try{const ie=(de*(Z.center[0]-pe)-ne*(Z.center[1]-we))/U,Ge=(ge*(Z.center[1]-we)-ce*(Z.center[0]-pe))/U,Ve=Z.width/Math.sqrt(ge*ge+ce*ce),Re=Z.height/Math.sqrt(ne*ne+de*de),xt=Ve/2,lt=Re/2,ct=Math.round(ie-xt),Pe=Math.round(ie+xt),ut=Math.round(Ge-lt),Rt=Math.round(Ge+lt);return[[ct,ut],[Pe,ut],[Pe,Rt],[ct,Rt]].map(([Lt,Xe])=>[ge*Lt+ne*Xe+pe,ce*Lt+de*Xe+we])}catch{return null}},[se,M,g,D]);b.useEffect(()=>{var ee;const Z=ha.current;if(!Z||!_||!M){(ee=Z==null?void 0:Z.getContext("2d"))==null||ee.clearRect(0,0,Z.width,Z.height);return}const te=window.devicePixelRatio||1;if(!Z.parentElement)return;const{clientWidth:w,clientHeight:I}=Z.parentElement;Z.width=w*te,Z.height=I*te;const h=Z.getContext("2d");if(!h)return;h.clearRect(0,0,Z.width,Z.height);const{center:re,scale:fe}=_;h.save(),h.translate(h.canvas.width/2,h.canvas.height/2);const J=fe*te;if(h.scale(J,-J),h.translate(-re[0],-re[1]),O.forEach(W=>{if(!W.visible)return;if(h.strokeStyle=W.color,h.fillStyle=W.color,W.type==="circle"){const ce=W.radius;h.lineWidth=W.thickness/J,h.beginPath(),h.arc(W.center[0],W.center[1],ce,0,2*Math.PI),h.stroke()}else if(W.type==="rectangle"){const ce=on(W);ce&&ce.length===4&&(h.lineWidth=W.thickness/J,h.beginPath(),h.moveTo(ce[0][0],ce[0][1]),h.lineTo(ce[1][0],ce[1][1]),h.lineTo(ce[2][0],ce[2][1]),h.lineTo(ce[3][0],ce[3][1]),h.closePath(),h.stroke())}else if(W.type==="path"){if(W.waypoints.length===0)return;const ce=W.waypoints.map(ne=>{try{return{...ne,projPos:M.forward(ne.geoPosition)}}catch{return{...ne,projPos:null}}}).filter(ne=>ne.projPos!==null);if(ce.length>1){h.lineWidth=W.thickness/J,h.beginPath(),h.moveTo(ce[0].projPos[0],ce[0].projPos[1]);for(let ne=1;ne<ce.length;ne++)h.lineTo(ce[ne].projPos[0],ce[ne].projPos[1]);h.stroke()}if(ce.forEach(ne=>{h.beginPath();const de=xe.waypointDotSize/2/J;h.arc(ne.projPos[0],ne.projPos[1],de,0,2*Math.PI),h.fill(),h.save(),h.translate(ne.projPos[0],ne.projPos[1]),h.scale(1/J,-1/J),h.fillStyle="#ffffff",h.font=`bold ${xe.labelFontSize}px sans-serif`,h.textAlign="center",h.textBaseline="bottom",h.strokeStyle="rgba(0,0,0,0.8)",h.lineWidth=2.5,h.strokeText(ne.label,0,-(xe.waypointDotSize/2+2)),h.fillText(ne.label,0,-(xe.waypointDotSize/2+2)),h.restore()}),xe.showSegmentLengths&&ce.length>1)for(let ne=0;ne<ce.length-1;ne++){const de=ce[ne],pe=ce[ne+1],we=pe.projPos[0]-de.projPos[0],U=pe.projPos[1]-de.projPos[1],ie=Math.sqrt(we*we+U*U),Ge=[(de.projPos[0]+pe.projPos[0])/2,(de.projPos[1]+pe.projPos[1])/2],Ve=`${ie.toFixed(0)} m`;h.save(),h.translate(Ge[0],Ge[1]);let Re=Math.atan2(pe.projPos[1]-de.projPos[1],pe.projPos[0]-de.projPos[0]);(Re<-Math.PI/2||Re>Math.PI/2)&&(Re+=Math.PI),h.rotate(Re),h.scale(1/J,-1/J),h.font=`${xe.labelFontSize}px sans-serif`;const xt=h.measureText(Ve),lt=4,ct=xe.labelFontSize,Pe=ct+lt,ut=xt.width+lt*2,Rt=-(ct/2+5);h.fillStyle="rgba(26, 32, 44, 0.7)",h.fillRect(-ut/2,Rt-Pe/2,ut,Pe),h.fillStyle="#fafafa",h.textAlign="center",h.textBaseline="middle",h.fillText(Ve,0,Rt),h.restore()}}h.save();const ge=W.type==="path"?W.waypoints.length>0?M.forward(W.waypoints[0].geoPosition):null:W.center;ge&&(h.translate(ge[0],ge[1]),h.scale(1/J,-1/J),h.fillStyle=W.color,h.font=`bold ${xe.labelFontSize}px sans-serif`,h.textAlign="center",h.textBaseline="bottom",h.strokeStyle="rgba(0,0,0,0.7)",h.lineWidth=3,h.strokeText(W.name,0,-10),h.fillText(W.name,0,-10)),h.restore()}),Fa&&Gt&&F==="rectangle"&&Ie&&Ee&&se){const W=Ie(Gt);if(W){const ge=Ee(Fa,W);if(ge){const ce={id:"preview",type:"rectangle",name:"Preview",visible:!0,color:"#ff00ff",thickness:2,center:ge.center,width:ge.width,height:ge.height,rotation:ge.rotation},ne=on(ce);if(ne&&ne.length===4){h.save(),h.strokeStyle="#ff00ff",h.setLineDash([5/J,5/J]),h.lineWidth=2/J,h.beginPath(),h.moveTo(ne[0][0],ne[0][1]),h.lineTo(ne[1][0],ne[1][1]),h.lineTo(ne[2][0],ne[2][1]),h.lineTo(ne[3][0],ne[3][1]),h.closePath(),h.stroke(),h.restore(),h.save(),h.fillStyle="#ff00ff";const de=10/J;[Fa,W].forEach(pe=>{h.fillRect(pe[0]-de/2,pe[1]-de/2,de,de)}),h.restore()}}}}if((F==="path"||Se)&&Gt&&M&&H){const W=O.find(ge=>ge.id===H&&ge.type==="path");if(W&&W.waypoints.length>0){const ge=W.waypoints[W.waypoints.length-1],ce=M.forward(ge.geoPosition),ne=x.defaultMaxSegmentLength;let de=Gt,pe=null,we=0,U=!1;if(ne)try{const Ge=ge.geoPosition;pe=ne;const Ve=Gt[0]-ce[0],Re=Gt[1]-ce[1],xt=Math.sqrt(Ve*Ve+Re*Re);U=xt>pe;const lt=proj4("EPSG:4326",M).inverse(Gt);if(we=zg(Ge,[lt[0],lt[1]]),xt>pe){const ct=pe/xt;de=[ce[0]+Ve*ct,ce[1]+Re*ct]}}catch{}h.save(),h.strokeStyle=W.color,h.setLineDash([10/J,10/J]),h.lineWidth=W.thickness/J,h.beginPath(),h.moveTo(ce[0],ce[1]),h.lineTo(de[0],de[1]),h.stroke(),h.restore(),h.save(),h.fillStyle=W.color,h.globalAlpha=.6;const ie=xe.waypointDotSize/2/J;if(h.beginPath(),h.arc(de[0],de[1],ie,0,2*Math.PI),h.fill(),h.restore(),ne&&pe){h.save(),h.strokeStyle=W.color,h.setLineDash([15/J,10/J]),h.lineWidth=1/J,h.globalAlpha=.5,h.beginPath(),h.arc(ce[0],ce[1],pe,0,2*Math.PI),h.stroke(),h.restore();try{h.save(),h.translate(Gt[0],Gt[1]),h.scale(1/J,-1/J);const Ge=`${we.toFixed(0)} m`;h.fillStyle=U?"#ff5555":"#ffffff",h.font="bold 14px sans-serif",h.textAlign="left",h.textBaseline="bottom",h.strokeStyle="rgba(0,0,0,0.8)",h.lineWidth=2.5,h.strokeText(Ge,10,-10),h.fillText(Ge,10,-10),h.restore()}catch{}}}}if(De){const W=r.find(ge=>ge.id===De&&ge.type==="image");if(W&&W.type==="image"){const ge=W,ce=ge.originalWidth*ge.scaleX,ne=ge.originalHeight*ge.scaleY;h.save(),h.translate(ge.position[0],ge.position[1]);const de=ge.rotation*Math.PI/180;h.rotate(de),h.strokeStyle="#00ffff",h.lineWidth=2/J,h.strokeRect(-ce/2,-ne/2,ce,ne);const pe=12/J;h.fillStyle="#00ffff",[[-ce/2,-ne/2],[ce/2,-ne/2],[ce/2,ne/2],[-ce/2,ne/2]].forEach(ie=>{h.fillRect(ie[0]-pe/2,ie[1]-pe/2,pe,pe)}),h.fillStyle="#ffff00",[[0,-ne/2],[ce/2,0],[0,ne/2],[-ce/2,0]].forEach(ie=>{h.beginPath(),h.arc(ie[0],ie[1],pe/2,0,2*Math.PI),h.fill()}),h.fillStyle="#ff00ff",h.beginPath(),h.arc(0,0,pe/2,0,2*Math.PI),h.fill(),h.restore()}}h.restore()},[O,_,M,xe,Fa,Gt,F,Ie,Ee,on,se,r,De,Se,H,x]),b.useEffect(()=>{const Z=nl.current;if(!Z||!_||!se||!M)return;const te=window.devicePixelRatio||1;if(!Z.parentElement)return;const{clientWidth:w,clientHeight:I}=Z.parentElement;Z.width=w*te,Z.height=I*te;const h=Z.getContext("2d");if(!h||(h.clearRect(0,0,Z.width,Z.height),Ce.length===0&&!me))return;h.save();const{center:re,scale:fe}=_;h.translate(h.canvas.width/2,h.canvas.height/2);const J=fe*te;h.scale(J,-J),h.translate(-re[0],-re[1]);const[ee,W]=g,[ge,ce]=D,ne=M.forward([ee,ce]),de=M.forward([W,ce]),pe=M.forward([ee,ge]),{width:we,height:U}=se.dimensions,ie=(de[0]-ne[0])/we,Ge=(de[1]-ne[1])/we,Ve=(pe[0]-ne[0])/U,Re=(pe[1]-ne[1])/U,xt=ne[0],lt=ne[1];if(me){h.strokeStyle="#00ffff",h.lineWidth=3/(fe*te),h.beginPath();const ct=me.x,Pe=me.y,ut=[ie*ct+Ve*Pe+xt,Ge*ct+Re*Pe+lt],Rt=[ie*(ct+1)+Ve*Pe+xt,Ge*(ct+1)+Re*Pe+lt],wt=[ie*(ct+1)+Ve*(Pe+1)+xt,Ge*(ct+1)+Re*(Pe+1)+lt],Lt=[ie*ct+Ve*(Pe+1)+xt,Ge*ct+Re*(Pe+1)+lt];h.moveTo(ut[0],ut[1]),h.lineTo(Rt[0],Rt[1]),h.lineTo(wt[0],wt[1]),h.lineTo(Lt[0],Lt[1]),h.closePath(),h.stroke()}if(Ce.length>0){h.strokeStyle=A,h.lineWidth=2/(fe*te),h.beginPath();for(const ct of Ce){const Pe=ct.x,ut=ct.y,Rt=[ie*Pe+Ve*ut+xt,Ge*Pe+Re*ut+lt],wt=[ie*(Pe+1)+Ve*ut+xt,Ge*(Pe+1)+Re*ut+lt],Lt=[ie*(Pe+1)+Ve*(ut+1)+xt,Ge*(Pe+1)+Re*(ut+1)+lt],Xe=[ie*Pe+Ve*(ut+1)+xt,Ge*Pe+Re*(ut+1)+lt];h.moveTo(Rt[0],Rt[1]),h.lineTo(wt[0],wt[1]),h.lineTo(Lt[0],Lt[1]),h.lineTo(Xe[0],Xe[1]),h.closePath()}h.stroke()}h.restore()},[Ce,A,me,_,se,M,g,D]);const il=b.useCallback(Z=>{if(u(Z),!Z||!ke){m(null);return}const te=ke(Z.lat,Z.lon);if(te){const w=[...r].reverse().find(I=>I.visible&&(I.type==="data"||I.type==="analysis"||I.type==="dte_comms"||I.type==="lpf_comms"));m(w?{...te,layerId:w.id}:null)}else m(null)},[ke,r,u,m]),pl=b.useCallback((Z,te)=>{if(Z)if(F==="path"){const w=O.find(I=>I.id===H&&I.type==="path");if(w){let I=[Z.lon,Z.lat];const h=x.defaultMaxSegmentLength;if(h&&w.waypoints.length>0){const fe=w.waypoints[w.waypoints.length-1],J=M.forward(fe.geoPosition),ee=te[0]-J[0],W=te[1]-J[1],ge=Math.sqrt(ee*ee+W*W);if(ge>h){const ce=h/ge,ne=[J[0]+ee*ce,J[1]+W*ce],de=proj4("EPSG:4326",M).inverse(ne);I=[de[0],de[1]]}}const re={id:`wp-${Date.now()}`,geoPosition:I,label:`WP${w.waypoints.length+1}`};k(H,{waypoints:[...w.waypoints,re]})}else{const I=`path-${Date.now()}`,h={id:`wp-${Date.now()}`,geoPosition:[Z.lon,Z.lat],label:"WP1"},re={id:I,type:"path",name:`Path ${O.length+1}`,visible:!0,color:"#ffff00",thickness:2,waypoints:[h]};ae(fe=>[...fe,re]),z(I)}}else if(F){const w=`${F}-${Date.now()}`;if(F==="circle"){const I={id:w,type:"circle",name:`Circle ${O.length+1}`,visible:!0,color:"#00ffff",thickness:2,center:te,radius:500};ae(h=>[...h,I]),z(w),S()}else if(F==="rectangle")if(Fa){const I=Ie?Ie(te):te;if(Ee){const h=Ee(Fa,I);if(h&&h.width>0&&h.height>0){const re={id:w,type:"rectangle",name:`Rectangle ${O.length+1}`,visible:!0,color:"#ff00ff",thickness:2,center:h.center,width:h.width,height:h.height,rotation:h.rotation};ae(fe=>[...fe,re]),z(w)}}un(null),S()}else{const I=Ie?Ie(te):te;un(I)}}else if(Se){const w=O.find(I=>I.id===H);if(w&&w.type==="path"){let I=[Z.lon,Z.lat];const h=x.defaultMaxSegmentLength;if(h&&w.waypoints.length>0){const fe=w.waypoints[w.waypoints.length-1],J=M.forward(fe.geoPosition),ee=te[0]-J[0],W=te[1]-J[1],ge=Math.sqrt(ee*ee+W*W);if(ge>h){const ce=h/ge,ne=[J[0]+ee*ce,J[1]+W*ce],de=proj4("EPSG:4326",M).inverse(ne);I=[de[0],de[1]]}}const re={id:`wp-${Date.now()}`,geoPosition:I,label:`WP${w.waypoints.length+1}`};k(H,{waypoints:[...w.waypoints,re]})}}else if(ve==="measurement"){const w=ke?ke(Z.lat,Z.lon):null;w&&le(I=>{const h=I.findIndex(re=>re.x===w.x&&re.y===w.y);return h>-1?[...I.slice(0,h),...I.slice(h+1)]:[...I,w]})}else if(ve==="layers"){const w=ke?ke(Z.lat,Z.lon):null;w&&ue(I=>I&&I.x===w.x&&I.y===w.y?null:w)}else Ha?z(Ha):$a||z(null)},[F,Se,ve,O,H,S,ae,z,k,ke,le,Ha,$a,Fa,Ie,Ee,x,M,ue]),ma=b.useCallback((Z,te)=>{if(Se)return;const w=O.find(I=>I.id===Z.artifactId);if(!(!w||!M)){if(Z.waypointId)X({artifactId:Z.artifactId,waypointId:Z.waypointId,initialMousePos:te});else if(w.type==="circle"||w.type==="rectangle")X({artifactId:Z.artifactId,initialMousePos:te,initialCenter:w.center});else if(w.type==="path"){const I=w.waypoints.map(h=>M.forward(h.geoPosition));X({artifactId:Z.artifactId,initialMousePos:te,initialWaypointProjPositions:I})}z(Z.artifactId)}},[O,M,Se,X,z]),ga=b.useCallback(Z=>{if(!(!oe||!M))if(oe.waypointId)ae(te=>te.map(w=>{if(w.id===oe.artifactId&&w.type==="path")try{const I=M.inverse(Z),h=w.waypoints.map(re=>re.id===oe.waypointId?{...re,geoPosition:I}:re);return{...w,waypoints:h}}catch{return w}return w}));else{const te=Z[0]-oe.initialMousePos[0],w=Z[1]-oe.initialMousePos[1];ae(I=>I.map(h=>{if(h.id===oe.artifactId){if((h.type==="circle"||h.type==="rectangle")&&oe.initialCenter){const re=[oe.initialCenter[0]+te,oe.initialCenter[1]+w];if(h.type==="rectangle"&&Ie&&Ee){const fe=h.rotation*Math.PI/180,J=Math.cos(fe),ee=Math.sin(fe),W=[-h.width/2,-h.height/2],ge=[re[0]+W[0]*J-W[1]*ee,re[1]+W[0]*ee+W[1]*J],ce=Ie(ge);if(ce){const ne=[h.width/2,h.height/2],de=[re[0]+ne[0]*J-ne[1]*ee,re[1]+ne[0]*ee+ne[1]*J],pe=Ie(de);if(pe){const we=Ee(ce,pe);if(we)return{...h,center:we.center,width:we.width,height:we.height,rotation:we.rotation}}}}return{...h,center:re}}else if(h.type==="path"&&oe.initialWaypointProjPositions){const re=h.waypoints.map((fe,J)=>{const ee=oe.initialWaypointProjPositions[J],W=[ee[0]+te,ee[1]+w];try{const ge=M.inverse(W);return{...fe,geoPosition:ge}}catch{return fe}});return{...h,waypoints:re}}}return h}))}},[oe,M,ae,Ie,Ee]),Ia=b.useCallback(()=>{X(null)},[X]),Ba=b.useCallback(Z=>{const te=ua(Z.nativeEvent.offsetX,Z.nativeEvent.offsetY);It(te);try{if(zt&&te){const w=zt,I=r.find(h=>h.id===w.layerId&&h.type==="image");if(I&&I.type==="image"){if(w.handleType==="center"){const h=te[0]-w.initialMouseProj[0],re=te[1]-w.initialMouseProj[1];Qe(w.layerId,{position:[w.initialPosition[0]+h,w.initialPosition[1]+re]})}else if(w.handleType==="corner"&&w.handleIndex!==void 0){const h=w.initialRotation*Math.PI/180,re=Math.cos(-h),fe=Math.sin(-h),J=w.initialMouseProj[0]-w.initialPosition[0],ee=w.initialMouseProj[1]-w.initialPosition[1],W=[J*re-ee*fe,J*fe+ee*re],ge=te[0]-w.initialPosition[0],ce=te[1]-w.initialPosition[1],ne=[ge*re-ce*fe,ge*fe+ce*re],de=w.handleIndex,pe=I.originalWidth*w.initialScaleX,we=I.originalHeight*w.initialScaleY;let U=w.initialScaleX,ie=w.initialScaleY;de===0||de===3?U=w.initialScaleX*(1-2*(ne[0]-W[0])/pe):U=w.initialScaleX*(1+2*(ne[0]-W[0])/pe),de===0||de===1?ie=w.initialScaleY*(1-2*(ne[1]-W[1])/we):ie=w.initialScaleY*(1+2*(ne[1]-W[1])/we),U=Math.max(.1,Math.min(10,U)),ie=Math.max(.1,Math.min(10,ie)),Qe(w.layerId,{scaleX:U,scaleY:ie})}else if(w.handleType==="edge"&&w.handleIndex!==void 0){const h=te[0]-w.initialPosition[0],re=te[1]-w.initialPosition[1],fe=Math.atan2(re,h)*180/Math.PI,J=w.initialMouseProj[0]-w.initialPosition[0],ee=w.initialMouseProj[1]-w.initialPosition[1],W=Math.atan2(ee,J)*180/Math.PI;let ge=w.initialRotation+(fe-W);for(;ge>180;)ge-=360;for(;ge<-180;)ge+=360;Qe(w.layerId,{rotation:ge})}}return}}catch(w){console.error("Error in image layer transformation:",w)}if(oe&&te){ga(te);return}if(ra.current&&_){const w=Z.clientX-Mt.current.x,I=Z.clientY-Mt.current.y,h=window.devicePixelRatio||1,re=[_.center[0]-w/(_.scale*h),_.center[1]+I/(_.scale*h)];V({..._,center:re}),Mt.current={x:Z.clientX,y:Z.clientY}}if(te&&M&&_){let w=null,I=null;if(F===null&&!Se){const h=window.devicePixelRatio||1,re=_.scale*h,J=xe.waypointDotSize*.75/re;for(let ee=O.length-1;ee>=0;ee--){const W=O[ee];if(!W.visible)continue;let ge=!1;if(W.type==="path")for(const ne of W.waypoints)try{const de=M.forward(ne.geoPosition);if(Math.sqrt(Math.pow(te[0]-de[0],2)+Math.pow(te[1]-de[1],2))<J){w={artifactId:W.id,waypointId:ne.id},ge=!0;break}}catch{}if(ge)break;let ce=!1;if(W.type==="circle")Math.sqrt(Math.pow(te[0]-W.center[0],2)+Math.pow(te[1]-W.center[1],2))<=W.radius&&(ce=!0);else if(W.type==="rectangle"){const ne=W.width,de=W.height,pe=-W.rotation*Math.PI/180,we=te[0]-W.center[0],U=te[1]-W.center[1],ie=we*Math.cos(pe)-U*Math.sin(pe),Ge=we*Math.sin(pe)+U*Math.cos(pe);Math.abs(ie)<=ne/2&&Math.abs(Ge)<=de/2&&(ce=!0)}else W.type;if(ce){I=W.id;break}}}xl(w),sl(w?null:I);try{const[h,re]=proj4("EPSG:4326",M).inverse(te);il({lat:re,lon:h})}catch{B()}}else B(),sl(null),xl(null)},[_,V,ua,M,il,B,oe,ga,O,F,xe,Se,zt,r,Qe]),$t=Z=>{Mt.current={x:Z.clientX,y:Z.clientY};const te=ua(Z.nativeEvent.offsetX,Z.nativeEvent.offsetY);if(te&&Z.button===0){try{const w=Dn(te);if(w){const I=r.find(h=>h.id===w.layerId&&h.type==="image");if(I&&I.type==="image"){Vt({layerId:w.layerId,handleType:w.handleType,handleIndex:w.handleIndex,initialMouseProj:te,initialPosition:I.position,initialScaleX:I.scaleX,initialScaleY:I.scaleY,initialRotation:I.rotation});return}}}catch(w){console.error("Error checking image layer handle:",w)}ve==="artifacts"?$a?ma({artifactId:$a.artifactId,waypointId:$a.waypointId},te):Ha?ma({artifactId:Ha},te):ra.current=!0:ra.current=!0}},Rn=Z=>{const te=ra.current&&Math.abs(Z.clientX-Mt.current.x)<2&&Math.abs(Z.clientY-Mt.current.y)<2,w=ra.current;if(ra.current=!1,zt){Vt(null);return}if(oe){Ia();return}if(w&&te){const I=ua(Z.nativeEvent.offsetX,Z.nativeEvent.offsetY),h=M&&I?(()=>{try{const[re,fe]=proj4("EPSG:4326",M).inverse(I);return{lat:fe,lon:re}}catch{return null}})():null;I&&h&&pl(h,I)}},Dt=()=>{ra.current=!1,B(),zt&&Vt(null),oe&&Ia()},cl=b.useCallback(Z=>{_&&V({..._,scale:_.scale*Z})},[_,V]),Ya=b.useCallback(()=>{yl&&V(yl)},[yl,V]),Ln=b.useMemo(()=>{if(F||Se)return"crosshair";if(zt){if(zt.handleType==="center")return"move";if(zt.handleType==="corner")return"nwse-resize";if(zt.handleType==="edge")return"grab"}return oe?"grabbing":$a||Ha?"grab":ve==="measurement"?"copy":ra.current?"grabbing":"default"},[F,Se,oe,$a,Ha,ve,ra.current,zt]);return Ke?s.jsxs("div",{ref:hl,className:"w-full h-full relative",onMouseDown:$t,onMouseMove:Ba,onMouseUp:Rn,onMouseLeave:Dt,style:{cursor:Ln},children:[ms&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/50 z-50",children:s.jsx(Dg,{})}),s.jsx("canvas",{ref:wa,className:"pixelated absolute inset-0 w-full h-full z-0"}),s.jsx("canvas",{ref:ll,className:"pixelated absolute inset-0 w-full h-full z-10"}),s.jsx("canvas",{ref:ha,className:"absolute inset-0 w-full h-full z-20 pointer-events-none"}),s.jsx("canvas",{ref:Ca,className:"absolute inset-0 w-full h-full z-30 pointer-events-none"}),s.jsx("canvas",{ref:nl,className:"absolute inset-0 w-full h-full z-40 pointer-events-none"}),s.jsx(Tg,{onZoomIn:()=>cl(1.5),onZoomOut:()=>cl(1/1.5),onResetView:Ya})]}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-center text-gray-400 bg-gray-900/50 rounded-lg",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:"No Data Loaded"}),s.jsx("p",{className:"mt-2",children:"Use the Layers panel to load a basemap or data file."})]})})},dl={top:10,right:30,bottom:20,left:50},Lg=()=>{const{primaryDataLayer:r,timeSeriesData:f,timeRange:d,currentDateIndex:u,fullTimeDomain:m,timeZoomDomain:S,onZoomToSelection:k,onResetZoom:B,activeLayer:D,nightfallPlotYAxisRange:g}=da(),v=!!r,N=(f==null?void 0:f.range)??null,M=(D==null?void 0:D.type)==="analysis"&&D.analysisType==="nightfall"?"days":void 0,_=(D==null?void 0:D.type)==="analysis"&&D.analysisType==="nightfall"?g:void 0,V=((D==null?void 0:D.type)==="analysis"||(D==null?void 0:D.type)==="data"||(D==null?void 0:D.type)==="dte_comms"||(D==null?void 0:D.type)==="lpf_comms")&&D.colormap==="Custom"?D.customColormap:void 0,se=b.useRef(null),he=b.useRef(null),[Me,Ue]=b.useState({width:0,height:0});b.useEffect(()=>{const oe=he.current;if(!oe)return;const X=new ResizeObserver(xe=>{if(xe[0]){const{width:Se,height:ke}=xe[0].contentRect;Ue({width:Se,height:ke})}});return X.observe(oe),()=>X.disconnect()},[]);const ye=Me.width-dl.left-dl.right,ve=Me.height-dl.top-dl.bottom,Ce=b.useMemo(()=>{if(!(f!=null&&f.data))return[];const oe=M==="days";return f.data.map((X,xe)=>{const Se=Ht(xe),ke=oe?X/24:X;return{date:Se,value:ke}})},[f,M]);b.useEffect(()=>{if(!v||!f||!N||!S||ye<=0||ve<=0){d3.select(se.current).selectAll("*").remove();return}const oe=d3.select(se.current);oe.selectAll("*").remove();const X=oe.append("g").attr("transform",`translate(${dl.left},${dl.top})`),xe=M==="days";let Se;_?Se=[_.min,_.max]:Se=xe?[N.min/24,N.max/24]:[N.min,N.max];const ke=d3.scaleUtc().domain(S).range([0,ye]),Ie=d3.scaleLinear().domain(Se).range([ve,0]).nice();if(X.append("clipPath").attr("id","clip").append("rect").attr("width",ye).attr("height",ve),d){const le=Ht(d.start),De=Ht(d.end);X.append("rect").attr("x",ke(le)).attr("y",0).attr("width",ke(De)-ke(le)).attr("height",ve).attr("fill","rgba(79, 209, 197, 0.2)")}if(u!==null){const le=Ht(u);X.append("line").attr("x1",ke(le)).attr("y1",0).attr("x2",ke(le)).attr("y2",ve).attr("stroke","#EF4444").attr("stroke-width",2)}if(V){const le=[];for(let De=0;De<V.length;De++){const Qe=V[De],x=V[De+1],H=gt=>xe?gt/24:gt,ue=H(Qe.value),me=x?H(x.value):Se[1],He=Math.min(Se[1],me),qe=Math.max(Se[0],ue),Ke=Ie(He),Nt=Ie(qe)-Ke;Nt>0&&le.push({y:Ke,height:Nt,color:Qe.color})}X.append("g").attr("class","threshold-bands").attr("clip-path","url(#clip)").selectAll("rect").data(le).enter().append("rect").attr("x",0).attr("width",ye).attr("y",De=>De.y).attr("height",De=>De.height).attr("fill",De=>De.color).attr("opacity",.2)}const Ee=d3.line().x(le=>ke(le.date)).y(le=>Ie(le.value));X.append("path").datum(Ce).attr("clip-path","url(#clip)").attr("fill","none").attr("stroke","#4FD1C5").attr("stroke-width",1.5).attr("d",Ee);const z=d3.axisBottom(ke).ticks(ye/80).tickSizeOuter(0),ae=d3.axisLeft(Ie).ticks(ve/30).tickSize(-ye).tickFormat(le=>xe?`${le.valueOf().toFixed(1)} days`:le.valueOf().toString());X.append("g").attr("transform",`translate(0,${ve})`).call(z).call(le=>le.select(".domain").remove()).call(le=>le.selectAll(".tick text").attr("fill","#90CDF4").style("font-size","10px")),X.append("g").call(ae).call(le=>le.select(".domain").remove()).call(le=>le.selectAll(".tick line").attr("stroke-opacity",.1).attr("stroke-dasharray","2,2")).call(le=>le.selectAll(".tick text").attr("x",-4).attr("fill","#90CDF4").style("font-size","10px"))},[v,f,d,u,N,ye,ve,Ce,S,M,_,V]);const A=b.useMemo(()=>S&&m&&S[0].getTime()===m[0].getTime()&&S[1].getTime()===m[1].getTime(),[S,m]),O=b.useMemo(()=>{if(!d||!m)return null;if(d.start===d.end){const oe=Ht(d.start),X=720*60*1e3;return[new Date(Math.max(m[0].getTime(),oe.getTime()-X)),new Date(Math.min(m[1].getTime(),oe.getTime()+X))]}else return[Ht(d.start),Ht(d.end)]},[d,m]),F=b.useMemo(()=>S&&O&&S[0].getTime()===O[0].getTime()&&S[1].getTime()===O[1].getTime(),[S,O]);return s.jsxs("section",{className:"bg-gray-800/70 border-t border-gray-700 h-32 flex-shrink-0 relative group",children:[v&&s.jsxs("div",{className:"absolute top-2 right-4 z-10 flex gap-2",children:[s.jsx("button",{onClick:k,disabled:F,className:"text-xs bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed text-cyan-300 px-2 py-1 rounded-md transition-colors shadow-md",title:"Fit selected time range to view",children:"Zoom to Selection"}),s.jsx("button",{onClick:B,disabled:A,className:"text-xs bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed text-cyan-300 px-2 py-1 rounded-md transition-colors shadow-md",title:"Reset zoom to full time range",children:"Reset Zoom"})]}),s.jsx("div",{ref:he,className:"w-full h-full",children:v&&f?s.jsx("svg",{ref:se,width:Me.width,height:Me.height}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-sm",children:v?"Hover over the map to see a time series plot":"Load data to view plots"})})]})},_g=()=>{const{primaryDataLayer:r,timeRange:f,currentDateIndex:d,setCurrentDateIndex:u,handleManualTimeRangeChange:m,timeZoomDomain:S,events:k}=da(),B=!!r,D=r?r.dimensions.time-1:0,g=b.useRef(null),v=b.useRef(null),N=b.useRef(null),[M,_]=b.useState(0),[V,se]=b.useState(null);b.useEffect(()=>{const A=v.current;if(!A)return;const O=new ResizeObserver(F=>{F[0]&&_(F[0].contentRect.width)});return O.observe(A),()=>O.disconnect()},[]);const he=b.useMemo(()=>M===0||!S?d3.scaleUtc():d3.scaleUtc().domain(S).range([dl.left,M-dl.right]),[S,M]),Me=b.useMemo(()=>{if(!B||M<100||!S)return[];const[A,O]=S,F=(O.getTime()-A.getTime())/(1e3*60*60);let oe,X;return F<=48?(oe=he.ticks(d3.utcHour.every(3)),X=d3.utcFormat("%H:%M")):F<=720?(oe=he.ticks(d3.utcDay.every(1)),X=d3.utcFormat("%d")):(oe=he.ticks(d3.utcMonth.every(1)),X=d3.utcFormat("%b")),oe.map(xe=>({date:xe,label:X(xe),isMajor:xe.getUTCHours()===0&&xe.getUTCMinutes()===0}))},[M,S,B,he]),Ue=b.useCallback((A,O=!1)=>{if(!B||!f||d===null)return;const F=g.current;if(!F)return;const oe=F.getBoundingClientRect(),X=A.clientX-oe.left,xe=he.invert(X),Se=Math.max(0,Math.min(D,Im(xe)));if(O){const ke=he(Ht(f.start)),Ie=he(Ht(f.end)),Ee=he(Ht(d)),z=Math.abs(X-ke),ae=Math.abs(X-Ie),le=Math.abs(X-Ee),De=20;if(le<De&&le<=z&&le<=ae)se("current");else if(z<ae&&z<De)se("start");else if(ae<De)se("end");else{const Qe=Math.min(z,ae,le);se(Qe===le?"current":Qe===z?"start":"end")}}else V&&(N.current!==null&&cancelAnimationFrame(N.current),N.current=requestAnimationFrame(()=>{V==="start"?m({...f,start:Math.min(Se,f.end)}):V==="end"?m({...f,end:Math.max(Se,f.start)}):V==="current"&&u(Se),N.current=null}))},[he,m,u,D,B,f,d,V]);b.useEffect(()=>{const A=()=>{se(null),N.current!==null&&(cancelAnimationFrame(N.current),N.current=null)},O=F=>{V&&Ue(F,!1)};return V&&(window.addEventListener("mousemove",O),window.addEventListener("mouseup",A)),()=>{window.removeEventListener("mousemove",O),window.removeEventListener("mouseup",A),N.current!==null&&(cancelAnimationFrame(N.current),N.current=null)}},[V,Ue]),b.useEffect(()=>{const A=O=>{if(!(!B||!f||d===null)){if(O.key==="ArrowLeft"){O.preventDefault();const F=Math.max(0,d-1);F!==d&&u(F)}else if(O.key==="ArrowRight"){O.preventDefault();const F=Math.min(D,d+1);F!==d&&u(F)}}};return window.addEventListener("keydown",A),()=>{window.removeEventListener("keydown",A)}},[B,f,d,D,u]);const ye=f?he(Ht(f.start)):0,ve=f?he(Ht(f.end)):0,Ce=d!==null?he(Ht(d)):0;return s.jsx("section",{className:"bg-gray-800/70 backdrop-blur-sm border-t border-gray-700 w-full flex-shrink-0 z-40 h-[85px]",children:s.jsx("div",{ref:v,className:"w-full h-full relative",children:s.jsxs("svg",{ref:g,width:M,height:85,className:`absolute inset-0 ${B?"cursor-ew-resize":"opacity-50"}`,onMouseDown:A=>Ue(A,!0),children:[s.jsx("line",{x1:dl.left,y1:55,x2:M-dl.right,y2:55,stroke:"#4A5568",strokeWidth:"2"}),B&&Me.map(({date:A,label:O,isMajor:F})=>{const oe=he(A);return s.jsxs("g",{children:[s.jsx("line",{x1:oe,y1:F?45:50,x2:oe,y2:65,stroke:"#A0AEC0",strokeWidth:"1"}),O&&s.jsx("text",{x:oe,y:42,fill:"#90CDF4",fontSize:"10",textAnchor:"middle",children:O})]},A.toISOString())}),B&&k.filter(A=>A.visible).map(A=>{const O=Ht(A.dateIndex),F=he(O),oe=A.name.substring(0,12),X=A.name.substring(12,24);return s.jsxs("g",{children:[s.jsx("line",{x1:F,y1:30,x2:F,y2:75,stroke:A.color,strokeWidth:"2",strokeDasharray:"4,2"}),s.jsx("circle",{cx:F,cy:55,r:"4",fill:A.color,stroke:"#1A202C",strokeWidth:"1.5"}),s.jsx("text",{x:F,y:12,fill:A.color,fontSize:"10",fontWeight:"600",textAnchor:"middle",className:"pointer-events-none",children:oe}),X&&s.jsx("text",{x:F,y:24,fill:A.color,fontSize:"10",fontWeight:"600",textAnchor:"middle",className:"pointer-events-none",children:X})]},A.id)}),B&&f&&M>0&&s.jsxs("g",{children:[s.jsx("rect",{x:ye,y:"51",width:ve-ye,height:"8",fill:"rgba(79, 209, 197, 0.5)"}),s.jsx("line",{x1:ye,y1:35,x2:ye,y2:75,stroke:"#4FD1C5",strokeWidth:"2"}),s.jsx("circle",{cx:ye,cy:55,r:"6",fill:"#4FD1C5",stroke:"#1A202C",strokeWidth:"2"}),s.jsx("line",{x1:ve,y1:35,x2:ve,y2:75,stroke:"#4FD1C5",strokeWidth:"2"}),s.jsx("circle",{cx:ve,cy:55,r:"6",fill:"#4FD1C5",stroke:"#1A202C",strokeWidth:"2"})]}),B&&d!==null&&M>0&&s.jsxs("g",{children:[s.jsx("line",{x1:Ce,y1:35,x2:Ce,y2:75,stroke:"#EF4444",strokeWidth:"2"}),s.jsx("circle",{cx:Ce,cy:55,r:"6",fill:"#EF4444",stroke:"#1A202C",strokeWidth:"2"})]})]})})})},Og=({requiredFiles:r,onCancel:f,onConfirm:d})=>{const[u,m]=b.useState(null);return s.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg text-gray-200 border border-gray-700",children:[s.jsx("h2",{className:"text-xl font-bold text-cyan-300 mb-4",children:"Restore Session"}),s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"To continue, please provide the following data file(s) from your original session:"}),s.jsx("ul",{className:"list-disc list-inside bg-gray-900/50 p-3 rounded-md mb-4 text-sm font-mono",children:r.map(S=>s.jsx("li",{children:S},S))}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select all required files below."}),s.jsx("div",{children:s.jsx("input",{type:"file",multiple:!0,accept:".npy,.png,.vrt",onChange:S=>m(S.target.files),className:"w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-cyan-600 file:text-white hover:file:bg-cyan-500"})}),s.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[s.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-md text-sm font-semibold",children:"Cancel"}),s.jsx("button",{onClick:()=>u&&d(u),disabled:!u||u.length===0,className:"px-4 py-2 bg-teal-600 hover:bg-teal-500 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed rounded-md text-sm font-semibold",children:"Load Session"})]})]})})},Ug=({isOpen:r,onClose:f})=>r?s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] flex flex-col border border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700 flex-shrink-0",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-cyan-300",children:"Lunagis User Manual"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Temporal Data Visualization Platform"})]}),s.jsx("button",{onClick:f,className:"text-gray-400 hover:text-white transition-colors p-1 hover:bg-gray-700 rounded","aria-label":"Close",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"p-6 overflow-y-auto flex-1 text-gray-300",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("section",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-cyan-300 mb-3 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Introduction"]}),s.jsx("p",{className:"text-sm leading-relaxed text-gray-400",children:"Lunagis is a powerful temporal data visualization platform designed for analyzing and exploring geospatial and time-series data. It provides an intuitive interface for loading, visualizing, and analyzing data across time dimensions with support for multiple data layers, custom artifacts, events, and cell selection tools."})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-cyan-300 mb-3 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Getting Started"]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm",children:"Quick Start Guide"}),s.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-400",children:[s.jsxs("li",{children:[s.jsx("strong",{className:"text-gray-300",children:"Load Data:"}),' Click the "Layers" tool (or press ',s.jsx("kbd",{className:"bg-gray-700 px-2 py-0.5 rounded text-xs",children:"1"}),") and add a data layer using .npy files"]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-gray-300",children:"Navigate Time:"})," Use the time slider at the bottom to move through different time steps"]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-gray-300",children:"Adjust View:"})," Use mouse wheel to zoom, click and drag to pan the map"]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-gray-300",children:"Configure Display:"}),' Click "Config" (or press ',s.jsx("kbd",{className:"bg-gray-700 px-2 py-0.5 rounded text-xs",children:"5"}),") to adjust visualization settings"]})]})]})})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-cyan-300 mb-3 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})}),"Main Tools"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsxs("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm flex items-center",children:[s.jsx("kbd",{className:"bg-gray-700 px-2 py-0.5 rounded text-xs mr-2",children:"1"})," Layers"]}),s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Manage data visualization layers including data layers, analysis layers, and image overlays."}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Add/remove data layers (.npy files)"}),s.jsx("li",{children:"Create analysis layers with boolean expressions"}),s.jsx("li",{children:"Import image overlays (.png, .jpg) and base maps (.vrt)"}),s.jsx("li",{children:"Adjust opacity and visibility"}),s.jsx("li",{children:"Configure color scales and value ranges"})]})]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm",children:"Artifacts"}),s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Create and manage visual annotations on the map canvas."}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Draw circles for point annotations"}),s.jsx("li",{children:"Create rectangles for area selection"}),s.jsx("li",{children:"Draw custom paths and polylines"}),s.jsx("li",{children:"Customize colors and labels"}),s.jsx("li",{children:"Delete or modify artifacts"})]})]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm",children:"Events"}),s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Mark and track important temporal events on the timeline."}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Add events at specific time points"}),s.jsx("li",{children:"Assign custom names and colors"}),s.jsx("li",{children:"View events on timeline and plots"}),s.jsx("li",{children:"Navigate to event timestamps"}),s.jsx("li",{children:"Events saved with session data"})]})]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsxs("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm flex items-center",children:[s.jsx("kbd",{className:"bg-gray-700 px-2 py-0.5 rounded text-xs mr-2",children:"4"})," Measure"]}),s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Cell selection tools for data inspection."}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Click cells to select/deselect"}),s.jsx("li",{children:"Multi-cell selection mode"}),s.jsx("li",{children:"Customize selection color"}),s.jsx("li",{children:"Clear all selections"}),s.jsx("li",{children:"View selected cell data in time series plot"})]})]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsxs("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm flex items-center",children:[s.jsx("kbd",{className:"bg-gray-700 px-2 py-0.5 rounded text-xs mr-2",children:"5"})," Config"]}),s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Session management and display configuration options."}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Save/load session state to JSON"}),s.jsx("li",{children:"Configure playback speed (1-30 FPS)"}),s.jsx("li",{children:"Adjust display preferences"}),s.jsx("li",{children:"Manage project settings"}),s.jsx("li",{children:"Session includes layers, artifacts, and events"})]})]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-cyan-300 mb-3 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Keyboard Shortcuts"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm",children:"Tool Selection"}),s.jsxs("ul",{className:"space-y-1.5 text-sm",children:[s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Layers Panel"}),s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-xs font-mono",children:"1"})]}),s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Pan Tool"}),s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-xs font-mono",children:"2"})]}),s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Zoom Tool"}),s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-xs font-mono",children:"3"})]}),s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Cell Select"}),s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-xs font-mono",children:"4"})]}),s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Multi-Cell Select"}),s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-xs font-mono",children:"5"})]})]})]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm",children:"Time Navigation"}),s.jsxs("ul",{className:"space-y-1.5 text-sm",children:[s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Play/Pause"}),s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-xs font-mono",children:"Space"})]}),s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Next Time Step"}),s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-xs font-mono",children:""})]}),s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Previous Time Step"}),s.jsx("kbd",{className:"bg-gray-700 px-2 py-1 rounded text-xs font-mono",children:""})]})]})]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-cyan-300 mb-3 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),"Working with Data Layers"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm",children:"Loading Data"}),s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Lunagis supports NumPy binary format (.npy) files for data layers. Data should be structured as 3D arrays with dimensions [time, height, width]."}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:'Click "Add Layer" in the Layers panel'}),s.jsx("li",{children:"Select your .npy file from the file browser"}),s.jsx("li",{children:"Configure layer name and visualization settings"}),s.jsx("li",{children:"Layer will appear in the layer list with visibility toggle"})]})]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm",children:"Analysis Layers"}),s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Create derived layers using boolean and comparison expressions on existing data layers."}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Comparison operators: >, >=, <, <=, =="}),s.jsx("li",{children:"Logical operators: AND, OR, NOT"}),s.jsx("li",{children:"Reference layers by name in expressions"}),s.jsx("li",{children:"Results shown as true/false (1/0) values"}),s.jsx("li",{children:'Example: "layer1 > 50 AND layer2 < 100"'})]})]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm",children:"Color Scale Configuration"}),s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Customize how data values are mapped to colors for optimal visualization."}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Choose from multiple color map presets (Viridis, Plasma, Inferno, Magma, Cividis, Turbo, Grayscale)"}),s.jsx("li",{children:"Set custom min/max value ranges"}),s.jsx("li",{children:"Create custom color scales with threshold mode"}),s.jsx("li",{children:"Invert color maps"}),s.jsx("li",{children:"Adjust opacity for layer blending"})]})]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("h4",{className:"font-semibold text-cyan-400 mb-2 text-sm",children:"Image Overlays"}),s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Import georeferenced images and standalone image overlays."}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Image layers: .png, .jpg files as standalone overlays"}),s.jsx("li",{children:"Base map layers: .vrt files with .png for georeferenced images"}),s.jsx("li",{children:"Adjust opacity and layer order"}),s.jsx("li",{children:"Toggle visibility independently"})]})]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-cyan-300 mb-3 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Time Navigation & Playback"]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"The time slider at the bottom of the screen allows you to navigate through temporal data."}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1.5 list-disc list-inside",children:[s.jsxs("li",{children:[s.jsx("strong",{className:"text-gray-400",children:"Manual Navigation:"})," Click and drag the slider handle to move to any time step"]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-gray-400",children:"Playback Mode:"})," Press Space or click the play button to automatically advance through time"]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-gray-400",children:"Step Navigation:"})," Use arrow keys ( ) to move one step forward or backward"]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-gray-400",children:"Playback Speed:"})," Adjust speed in Config panel (1-30 FPS) for faster or slower playback"]}),s.jsxs("li",{children:[s.jsx("strong",{className:"text-gray-400",children:"Auto-Loop:"})," Playback automatically loops back to the beginning when reaching the end"]})]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-cyan-300 mb-3 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Session Management"]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Save your entire workspace configuration including layers, artifacts, events, and settings to resume work later."}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-cyan-400 text-xs mb-1",children:"Saving Sessions"}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside pl-2",children:[s.jsx("li",{children:'Click "Save Session" in the Config panel'}),s.jsx("li",{children:"Downloads a .json file with all session configuration"}),s.jsx("li",{children:"Includes layer metadata, artifacts, events, and display settings"}),s.jsx("li",{children:"Note: Data files (.npy) must be saved separately and re-imported"})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-cyan-400 text-xs mb-1",children:"Loading Sessions"}),s.jsxs("ul",{className:"text-xs text-gray-500 space-y-1 list-disc list-inside pl-2",children:[s.jsx("li",{children:'Click "Load Session" in the Config panel'}),s.jsx("li",{children:"Select the .json session file"}),s.jsx("li",{children:"Provide referenced data files (.npy) when prompted"}),s.jsx("li",{children:"All settings, artifacts, and events will be restored"})]})]})]})]})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-cyan-300 mb-3 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Tips & Best Practices"]}),s.jsx("div",{className:"bg-gradient-to-br from-cyan-900/20 to-blue-900/20 p-4 rounded-lg border border-cyan-700/50",children:s.jsxs("ul",{className:"text-xs text-gray-300 space-y-2",children:[s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-cyan-400 mr-2",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Performance:"})," Large datasets may take time to load. Consider downsampling very large files for better performance."]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-cyan-400 mr-2",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Layer Order:"})," Layers are rendered in order. Adjust opacity to see multiple layers simultaneously."]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-cyan-400 mr-2",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Color Scales:"})," Experiment with different color maps to highlight features in your data."]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-cyan-400 mr-2",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Events:"})," Use events to mark important temporal milestones for easy navigation and reference."]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-cyan-400 mr-2",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Artifacts:"})," Create artifacts to highlight areas of interest or mark regions for analysis."]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-cyan-400 mr-2",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Save Often:"})," Save your session regularly to preserve your work. Remember to keep your data files organized."]})]}),s.jsxs("li",{className:"flex items-start",children:[s.jsx("span",{className:"text-cyan-400 mr-2",children:""}),s.jsxs("span",{children:[s.jsx("strong",{children:"Cell Selection:"})," Use the Measure tool to select cells and view their values over time in the time series plot."]})]})]})})]}),s.jsxs("section",{children:[s.jsxs("h3",{className:"text-xl font-semibold text-cyan-300 mb-3 flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})}),"Support & Resources"]}),s.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700",children:[s.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"For additional help, documentation, or to report issues, please refer to the project repository and documentation."}),s.jsx("p",{className:"text-xs text-gray-500",children:"Version: 1.0.0 | Built with React, TypeScript, and Vite"})]})]})]})}),s.jsx("div",{className:"p-6 border-t border-gray-700 flex justify-end gap-4 flex-shrink-0",children:s.jsx("button",{onClick:f,className:"px-6 py-2 bg-cyan-600 hover:bg-cyan-500 rounded-md text-sm font-semibold transition-colors",children:"Close"})})]})}):null,al=({label:r,value:f})=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-gray-400 text-xs",children:[r,":"]}),s.jsx("span",{className:"font-mono text-cyan-300 text-xs",children:f})]}),Hg=()=>{const{hoveredCoords:r,timeRange:f,currentDateIndex:d,primaryDataLayer:u,timeSeriesData:m}=da();if(!u)return null;const S=m&&d!==null&&d<m.data.length?m.data[d]:null;return s.jsxs("section",{className:"bg-gray-800/70 border-y border-gray-700 w-full flex-shrink-0 z-40 px-4 py-1 flex items-center justify-between flex-wrap gap-x-6 gap-y-1",children:[s.jsxs("div",{className:"flex items-center gap-x-4",children:[s.jsx(al,{label:"Lat",value:r?r.lat.toFixed(4):"---"}),s.jsx(al,{label:"Lon",value:r?r.lon.toFixed(4):"---"}),S!==null&&s.jsx(al,{label:"Value",value:S.toFixed(2)})]}),f?s.jsxs("div",{className:"flex items-center gap-x-4",children:[s.jsx(al,{label:"Current",value:d!==null?An(d):"---"}),s.jsx(al,{label:"Start",value:An(f.start)}),s.jsx(al,{label:"End",value:An(f.end)}),s.jsx(al,{label:"Duration",value:`${f.end-f.start+1} hrs`})]}):s.jsxs("div",{className:"flex items-center gap-x-4",children:[s.jsx(al,{label:"Current",value:"---"}),s.jsx(al,{label:"Start",value:"---"}),s.jsx(al,{label:"End",value:"---"}),s.jsx(al,{label:"Duration",value:"---"})]})]})};class ni extends b.Component{constructor(f){super(f),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleReload=()=>{window.location.reload()},this.handleClearStorage=()=>{confirm("This will clear all saved data and reload the page. Continue?")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},this.state={hasError:!1,error:null,errorInfo:null,copied:!1}}static getDerivedStateFromError(f){return{hasError:!0,error:f}}componentDidCatch(f,d){console.error("Error Boundary caught an error:",f,d),this.setState({error:f,errorInfo:d}),this.props.onError&&this.props.onError(f,d)}render(){var f;return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"h-screen w-screen bg-gray-900 text-gray-200 flex items-center justify-center p-8",children:s.jsxs("div",{className:"max-w-2xl w-full bg-gray-800 rounded-lg shadow-2xl p-8 border border-red-500/30",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("svg",{className:"w-12 h-12 text-red-500 mr-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("h1",{className:"text-3xl font-bold text-red-500",children:"Something Went Wrong"})]}),s.jsx("p",{className:"text-gray-300 mb-6 text-lg",children:"The application encountered an unexpected error. Don't worry, your work may still be recoverable."}),s.jsxs("details",{className:"mb-6 bg-gray-900/50 rounded p-4 border border-gray-700",children:[s.jsx("summary",{className:"cursor-pointer text-gray-400 hover:text-gray-200 font-medium mb-2",children:"View Technical Details"}),s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-red-400 mb-1",children:"Error:"}),s.jsx("pre",{className:"text-xs bg-black/30 p-3 rounded overflow-x-auto text-red-300",children:(f=this.state.error)==null?void 0:f.toString()})]}),this.state.errorInfo&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-400 mb-1",children:"Component Stack:"}),s.jsx("pre",{className:"text-xs bg-black/30 p-3 rounded overflow-x-auto text-yellow-300",children:this.state.errorInfo.componentStack})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 bg-cyan-600 hover:bg-cyan-500 text-white rounded font-medium transition-colors",children:"Try Again"}),s.jsx("button",{onClick:this.handleReload,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded font-medium transition-colors",children:"Reload Page"}),s.jsx("button",{onClick:this.handleClearStorage,className:"px-6 py-3 bg-red-600 hover:bg-red-500 text-white rounded font-medium transition-colors",children:"Clear Data & Reset"}),s.jsx("button",{onClick:()=>{var u,m;const d=`Error: ${(u=this.state.error)==null?void 0:u.toString()}

Stack: ${(m=this.state.errorInfo)==null?void 0:m.componentStack}`;navigator.clipboard.writeText(d),this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),2e3)},className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded font-medium transition-colors",children:this.state.copied?" Copied!":"Copy Error Details"})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-500/30 rounded",children:s.jsxs("p",{className:"text-sm text-blue-300",children:[s.jsx("strong",{children:"Tip:"}),' If this error persists, try clearing your browser cache or using "Clear Data & Reset" above.']})})]})}):this.props.children}}const Bg=({message:r,progress:f,onCancel:d,show:u})=>{if(!u)return null;const m=f===void 0;return s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl p-8 max-w-md w-full mx-4 border border-gray-700",children:[m&&s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("svg",{className:"animate-spin h-12 w-12 text-cyan-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),s.jsx("p",{className:"text-lg text-gray-200 text-center mb-4",children:r}),!m&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 mb-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 h-full transition-all duration-300 ease-out rounded-full",style:{width:`${Math.min(100,Math.max(0,f))}%`}})}),s.jsxs("p",{className:"text-sm text-gray-400 text-center",children:[Math.round(f),"%"]})]}),d&&s.jsx("button",{onClick:d,className:"mt-6 w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-200 rounded transition-colors",children:"Cancel"})]})})};function Yg(r,f=!0){const d=b.useCallback(u=>{if(!f)return;const m=u.target;if(!(m.tagName==="INPUT"||m.tagName==="TEXTAREA"||m.contentEditable==="true"))for(const S of r){const k=u.key.toLowerCase()===S.key.toLowerCase(),B=S.ctrl===void 0||u.ctrlKey===S.ctrl,D=S.shift===void 0||u.shiftKey===S.shift,g=S.alt===void 0||u.altKey===S.alt;if(k&&B&&D&&g){u.preventDefault(),S.action();break}}},[r,f]);b.useEffect(()=>{if(f)return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[d,f])}const kg=()=>{const{importRequest:r,handleRestoreSession:f,setImportRequest:d,activeTool:u,onToolSelect:m,primaryDataLayer:S,isLoading:k,onTogglePlay:B,handleManualTimeRangeChange:D,timeRange:g}=da(),[v,N]=b.useState(!1),M=xc.useMemo(()=>{if(!k)return;const _=k.match(/(\d+)%/);return _?parseInt(_[1],10):void 0},[k]);return Yg([{key:" ",description:"Play/Pause time animation",action:()=>{S&&g&&B()}},{key:"ArrowLeft",description:"Previous time step",action:()=>{g&&g.start>0&&D({start:g.start-1,end:g.start-1})}},{key:"ArrowRight",description:"Next time step",action:()=>{g&&S&&g.start<S.dimensions.time-1&&D({start:g.start+1,end:g.start+1})}},{key:"1",description:"Switch to Layers tool",action:()=>m("layers")},{key:"2",description:"Switch to Pan tool",action:()=>m("pan")},{key:"3",description:"Switch to Zoom tool",action:()=>m("zoom")},{key:"4",description:"Switch to Cell Select tool",action:()=>m("cellSelect")},{key:"5",description:"Switch to Multi-Cell Select tool",action:()=>m("multiCellSelect")}],!k),s.jsxs("div",{className:"h-screen bg-gray-900 text-gray-200 flex flex-row font-sans overflow-hidden",children:[r&&s.jsx(Og,{requiredFiles:r.requiredFiles,onCancel:()=>d(null),onConfirm:_=>f(r.config,_)}),s.jsx(Ug,{isOpen:v,onClose:()=>N(!1)}),s.jsx(Bg,{show:!!k,message:k||"",progress:M}),s.jsx(Wm,{activeTool:u,onToolSelect:m,onUserManualClick:()=>N(!0)}),s.jsx(Mg,{}),s.jsxs("main",{className:"flex-grow flex flex-col min-w-0",children:[s.jsx("section",{className:"flex-grow flex items-center justify-center bg-black/20 p-4 sm:p-6 lg:p-8 relative",children:s.jsx(ni,{fallback:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"text-red-500 text-xl mb-4",children:"Canvas Error"}),s.jsx("p",{className:"text-gray-400",children:"The map canvas encountered an error. Try reloading the page."})]}),children:s.jsx(Rg,{})})}),S&&s.jsxs(s.Fragment,{children:[s.jsx(ni,{fallback:s.jsx("div",{className:"h-8 bg-gray-800"}),children:s.jsx(Hg,{})}),s.jsx(ni,{fallback:s.jsx("div",{className:"h-48 bg-gray-800"}),children:s.jsx(Lg,{})}),s.jsx(ni,{fallback:s.jsx("div",{className:"h-20 bg-gray-800"}),children:s.jsx(_g,{})})]})]})]})},E0=document.getElementById("root");if(!E0)throw new Error("Could not find root element to mount to");const qg=qm.createRoot(E0);qg.render(s.jsx(xc.StrictMode,{children:s.jsx(ni,{children:s.jsx(rg,{children:s.jsx(fg,{children:s.jsx(kg,{})})})})}));
