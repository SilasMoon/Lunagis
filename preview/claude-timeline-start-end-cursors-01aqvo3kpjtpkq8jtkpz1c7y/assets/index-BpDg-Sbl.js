(function(){const f=document.createElement("link").relList;if(f&&f.supports&&f.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))r(g);new MutationObserver(g=>{for(const w of g)if(w.type==="childList")for(const _ of w.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&r(_)}).observe(document,{childList:!0,subtree:!0});function h(g){const w={};return g.integrity&&(w.integrity=g.integrity),g.referrerPolicy&&(w.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?w.credentials="include":g.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function r(g){if(g.ep)return;g.ep=!0;const w=h(g);fetch(g.href,w)}})();function v0(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var mo={exports:{}},Qi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function Eh(){if(a0)return Qi;a0=1;var u=Symbol.for("react.transitional.element"),f=Symbol.for("react.fragment");function h(r,g,w){var _=null;if(w!==void 0&&(_=""+w),g.key!==void 0&&(_=""+g.key),"key"in g){w={};for(var q in g)q!=="key"&&(w[q]=g[q])}else w=g;return g=w.ref,{$$typeof:u,type:r,key:_,ref:g!==void 0?g:null,props:w}}return Qi.Fragment=f,Qi.jsx=h,Qi.jsxs=h,Qi}var n0;function Ah(){return n0||(n0=1,mo.exports=Eh()),mo.exports}var s=Ah(),ho={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function zh(){if(i0)return Ve;i0=1;var u=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),_=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),D=Symbol.iterator;function O(p){return p===null||typeof p!="object"?null:(p=D&&p[D]||p["@@iterator"],typeof p=="function"?p:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Ce={};function de(p,L,ue){this.props=p,this.context=L,this.refs=Ce,this.updater=ue||K}de.prototype.isReactComponent={},de.prototype.setState=function(p,L){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,L,"setState")},de.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};function ge(){}ge.prototype=de.prototype;function fe(p,L,ue){this.props=p,this.context=L,this.refs=Ce,this.updater=ue||K}var Se=fe.prototype=new ge;Se.constructor=fe,P(Se,de.prototype),Se.isPureReactComponent=!0;var He=Array.isArray;function W(){}var k={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function Ae(p,L,ue){var he=ue.ref;return{$$typeof:u,type:p,key:L,ref:he!==void 0?he:null,props:ue}}function F(p,L){return Ae(p.type,L,p.props)}function De(p){return typeof p=="object"&&p!==null&&p.$$typeof===u}function Le(p){var L={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(ue){return L[ue]})}var Ze=/\/+/g;function at(p,L){return typeof p=="object"&&p!==null&&p.key!=null?Le(""+p.key):L.toString(36)}function je(p){switch(p.status){case"fulfilled":return p.value;case"rejected":throw p.reason;default:switch(typeof p.status=="string"?p.then(W,W):(p.status="pending",p.then(function(L){p.status==="pending"&&(p.status="fulfilled",p.value=L)},function(L){p.status==="pending"&&(p.status="rejected",p.reason=L)})),p.status){case"fulfilled":return p.value;case"rejected":throw p.reason}}throw p}function E(p,L,ue,he,Be){var Xe=typeof p;(Xe==="undefined"||Xe==="boolean")&&(p=null);var ke=!1;if(p===null)ke=!0;else switch(Xe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(p.$$typeof){case u:case f:ke=!0;break;case x:return ke=p._init,E(ke(p._payload),L,ue,he,Be)}}if(ke)return Be=Be(p),ke=he===""?"."+at(p,0):he,He(Be)?(ue="",ke!=null&&(ue=ke.replace(Ze,"$&/")+"/"),E(Be,L,ue,"",function(tl){return tl})):Be!=null&&(De(Be)&&(Be=F(Be,ue+(Be.key==null||p&&p.key===Be.key?"":(""+Be.key).replace(Ze,"$&/")+"/")+ke)),L.push(Be)),1;ke=0;var ht=he===""?".":he+":";if(He(p))for(var yt=0;yt<p.length;yt++)he=p[yt],Xe=ht+at(he,yt),ke+=E(he,L,ue,Xe,Be);else if(yt=O(p),typeof yt=="function")for(p=yt.call(p),yt=0;!(he=p.next()).done;)he=he.value,Xe=ht+at(he,yt++),ke+=E(he,L,ue,Xe,Be);else if(Xe==="object"){if(typeof p.then=="function")return E(je(p),L,ue,he,Be);throw L=String(p),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ee(p,L,ue){if(p==null)return p;var he=[],Be=0;return E(p,he,"","",function(Xe){return L.call(ue,Xe,Be++)}),he}function le(p){if(p._status===-1){var L=p._result;L=L(),L.then(function(ue){(p._status===0||p._status===-1)&&(p._status=1,p._result=ue)},function(ue){(p._status===0||p._status===-1)&&(p._status=2,p._result=ue)}),p._status===-1&&(p._status=0,p._result=L)}if(p._status===1)return p._result.default;throw p._result}var Re=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},We={map:ee,forEach:function(p,L,ue){ee(p,function(){L.apply(this,arguments)},ue)},count:function(p){var L=0;return ee(p,function(){L++}),L},toArray:function(p){return ee(p,function(L){return L})||[]},only:function(p){if(!De(p))throw Error("React.Children.only expected to receive a single React element child.");return p}};return Ve.Activity=j,Ve.Children=We,Ve.Component=de,Ve.Fragment=h,Ve.Profiler=g,Ve.PureComponent=fe,Ve.StrictMode=r,Ve.Suspense=T,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(p){return k.H.useMemoCache(p)}},Ve.cache=function(p){return function(){return p.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(p,L,ue){if(p==null)throw Error("The argument must be a React element, but you passed "+p+".");var he=P({},p.props),Be=p.key;if(L!=null)for(Xe in L.key!==void 0&&(Be=""+L.key),L)!pe.call(L,Xe)||Xe==="key"||Xe==="__self"||Xe==="__source"||Xe==="ref"&&L.ref===void 0||(he[Xe]=L[Xe]);var Xe=arguments.length-2;if(Xe===1)he.children=ue;else if(1<Xe){for(var ke=Array(Xe),ht=0;ht<Xe;ht++)ke[ht]=arguments[ht+2];he.children=ke}return Ae(p.type,Be,he)},Ve.createContext=function(p){return p={$$typeof:_,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null},p.Provider=p,p.Consumer={$$typeof:w,_context:p},p},Ve.createElement=function(p,L,ue){var he,Be={},Xe=null;if(L!=null)for(he in L.key!==void 0&&(Xe=""+L.key),L)pe.call(L,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Be[he]=L[he]);var ke=arguments.length-2;if(ke===1)Be.children=ue;else if(1<ke){for(var ht=Array(ke),yt=0;yt<ke;yt++)ht[yt]=arguments[yt+2];Be.children=ht}if(p&&p.defaultProps)for(he in ke=p.defaultProps,ke)Be[he]===void 0&&(Be[he]=ke[he]);return Ae(p,Xe,Be)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(p){return{$$typeof:q,render:p}},Ve.isValidElement=De,Ve.lazy=function(p){return{$$typeof:x,_payload:{_status:-1,_result:p},_init:le}},Ve.memo=function(p,L){return{$$typeof:y,type:p,compare:L===void 0?null:L}},Ve.startTransition=function(p){var L=k.T,ue={};k.T=ue;try{var he=p(),Be=k.S;Be!==null&&Be(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(W,Re)}catch(Xe){Re(Xe)}finally{L!==null&&ue.types!==null&&(L.types=ue.types),k.T=L}},Ve.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ve.use=function(p){return k.H.use(p)},Ve.useActionState=function(p,L,ue){return k.H.useActionState(p,L,ue)},Ve.useCallback=function(p,L){return k.H.useCallback(p,L)},Ve.useContext=function(p){return k.H.useContext(p)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(p,L){return k.H.useDeferredValue(p,L)},Ve.useEffect=function(p,L){return k.H.useEffect(p,L)},Ve.useEffectEvent=function(p){return k.H.useEffectEvent(p)},Ve.useId=function(){return k.H.useId()},Ve.useImperativeHandle=function(p,L,ue){return k.H.useImperativeHandle(p,L,ue)},Ve.useInsertionEffect=function(p,L){return k.H.useInsertionEffect(p,L)},Ve.useLayoutEffect=function(p,L){return k.H.useLayoutEffect(p,L)},Ve.useMemo=function(p,L){return k.H.useMemo(p,L)},Ve.useOptimistic=function(p,L){return k.H.useOptimistic(p,L)},Ve.useReducer=function(p,L,ue){return k.H.useReducer(p,L,ue)},Ve.useRef=function(p){return k.H.useRef(p)},Ve.useState=function(p){return k.H.useState(p)},Ve.useSyncExternalStore=function(p,L,ue){return k.H.useSyncExternalStore(p,L,ue)},Ve.useTransition=function(){return k.H.useTransition()},Ve.version="19.2.0",Ve}var s0;function No(){return s0||(s0=1,ho.exports=zh()),ho.exports}var b=No();const fc=v0(b);var yo={exports:{}},ki={},go={exports:{}},po={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function Dh(){return c0||(c0=1,(function(u){function f(E,ee){var le=E.length;E.push(ee);e:for(;0<le;){var Re=le-1>>>1,We=E[Re];if(0<g(We,ee))E[Re]=ee,E[le]=We,le=Re;else break e}}function h(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var ee=E[0],le=E.pop();if(le!==ee){E[0]=le;e:for(var Re=0,We=E.length,p=We>>>1;Re<p;){var L=2*(Re+1)-1,ue=E[L],he=L+1,Be=E[he];if(0>g(ue,le))he<We&&0>g(Be,ue)?(E[Re]=Be,E[he]=le,Re=he):(E[Re]=ue,E[L]=le,Re=L);else if(he<We&&0>g(Be,le))E[Re]=Be,E[he]=le,Re=he;else break e}}return ee}function g(E,ee){var le=E.sortIndex-ee.sortIndex;return le!==0?le:E.id-ee.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;u.unstable_now=function(){return w.now()}}else{var _=Date,q=_.now();u.unstable_now=function(){return _.now()-q}}var T=[],y=[],x=1,j=null,D=3,O=!1,K=!1,P=!1,Ce=!1,de=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function Se(E){for(var ee=h(y);ee!==null;){if(ee.callback===null)r(y);else if(ee.startTime<=E)r(y),ee.sortIndex=ee.expirationTime,f(T,ee);else break;ee=h(y)}}function He(E){if(P=!1,Se(E),!K)if(h(T)!==null)K=!0,W||(W=!0,Le());else{var ee=h(y);ee!==null&&je(He,ee.startTime-E)}}var W=!1,k=-1,pe=5,Ae=-1;function F(){return Ce?!0:!(u.unstable_now()-Ae<pe)}function De(){if(Ce=!1,W){var E=u.unstable_now();Ae=E;var ee=!0;try{e:{K=!1,P&&(P=!1,ge(k),k=-1),O=!0;var le=D;try{t:{for(Se(E),j=h(T);j!==null&&!(j.expirationTime>E&&F());){var Re=j.callback;if(typeof Re=="function"){j.callback=null,D=j.priorityLevel;var We=Re(j.expirationTime<=E);if(E=u.unstable_now(),typeof We=="function"){j.callback=We,Se(E),ee=!0;break t}j===h(T)&&r(T),Se(E)}else r(T);j=h(T)}if(j!==null)ee=!0;else{var p=h(y);p!==null&&je(He,p.startTime-E),ee=!1}}break e}finally{j=null,D=le,O=!1}ee=void 0}}finally{ee?Le():W=!1}}}var Le;if(typeof fe=="function")Le=function(){fe(De)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,at=Ze.port2;Ze.port1.onmessage=De,Le=function(){at.postMessage(null)}}else Le=function(){de(De,0)};function je(E,ee){k=de(function(){E(u.unstable_now())},ee)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(E){E.callback=null},u.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<E?Math.floor(1e3/E):5},u.unstable_getCurrentPriorityLevel=function(){return D},u.unstable_next=function(E){switch(D){case 1:case 2:case 3:var ee=3;break;default:ee=D}var le=D;D=ee;try{return E()}finally{D=le}},u.unstable_requestPaint=function(){Ce=!0},u.unstable_runWithPriority=function(E,ee){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var le=D;D=E;try{return ee()}finally{D=le}},u.unstable_scheduleCallback=function(E,ee,le){var Re=u.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Re+le:Re):le=Re,E){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=le+We,E={id:x++,callback:ee,priorityLevel:E,startTime:le,expirationTime:We,sortIndex:-1},le>Re?(E.sortIndex=le,f(y,E),h(T)===null&&E===h(y)&&(P?(ge(k),k=-1):P=!0,je(He,le-Re))):(E.sortIndex=We,f(T,E),K||O||(K=!0,W||(W=!0,Le()))),E},u.unstable_shouldYield=F,u.unstable_wrapCallback=function(E){var ee=D;return function(){var le=D;D=ee;try{return E.apply(this,arguments)}finally{D=le}}}})(po)),po}var u0;function Rh(){return u0||(u0=1,go.exports=Dh()),go.exports}var vo={exports:{}},el={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function Oh(){if(o0)return el;o0=1;var u=No();function f(T){var y="https://react.dev/errors/"+T;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+T+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(){}var r={d:{f:h,r:function(){throw Error(f(522))},D:h,C:h,L:h,m:h,X:h,S:h,M:h},p:0,findDOMNode:null},g=Symbol.for("react.portal");function w(T,y,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:j==null?null:""+j,children:T,containerInfo:y,implementation:x}}var _=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function q(T,y){if(T==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return el.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,el.createPortal=function(T,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(f(299));return w(T,y,null,x)},el.flushSync=function(T){var y=_.T,x=r.p;try{if(_.T=null,r.p=2,T)return T()}finally{_.T=y,r.p=x,r.d.f()}},el.preconnect=function(T,y){typeof T=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(T,y))},el.prefetchDNS=function(T){typeof T=="string"&&r.d.D(T)},el.preinit=function(T,y){if(typeof T=="string"&&y&&typeof y.as=="string"){var x=y.as,j=q(x,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?r.d.S(T,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:j,integrity:D,fetchPriority:O}):x==="script"&&r.d.X(T,{crossOrigin:j,integrity:D,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},el.preinitModule=function(T,y){if(typeof T=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=q(y.as,y.crossOrigin);r.d.M(T,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(T)},el.preload=function(T,y){if(typeof T=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,j=q(x,y.crossOrigin);r.d.L(T,x,{crossOrigin:j,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},el.preloadModule=function(T,y){if(typeof T=="string")if(y){var x=q(y.as,y.crossOrigin);r.d.m(T,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(T)},el.requestFormReset=function(T){r.d.r(T)},el.unstable_batchedUpdates=function(T,y){return T(y)},el.useFormState=function(T,y,x){return _.H.useFormState(T,y,x)},el.useFormStatus=function(){return _.H.useHostTransitionStatus()},el.version="19.2.0",el}var r0;function _h(){if(r0)return vo.exports;r0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(f){console.error(f)}}return u(),vo.exports=Oh(),vo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function Lh(){if(f0)return ki;f0=1;var u=Rh(),f=No(),h=_h();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function _(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function q(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T(e){if(w(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=w(e),t===null)throw Error(r(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return T(n),e;if(i===a)return T(n),t;i=i.sibling}throw Error(r(188))}if(l.return!==a.return)l=n,a=i;else{for(var c=!1,o=n.child;o;){if(o===l){c=!0,l=n,a=i;break}if(o===a){c=!0,a=n,l=i;break}o=o.sibling}if(!c){for(o=i.child;o;){if(o===l){c=!0,l=i,a=n;break}if(o===a){c=!0,a=i,l=n;break}o=o.sibling}if(!c)throw Error(r(189))}}if(l.alternate!==a)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,D=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Ce=Symbol.for("react.strict_mode"),de=Symbol.for("react.profiler"),ge=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),pe=Symbol.for("react.lazy"),Ae=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),De=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=De&&e[De]||e["@@iterator"],typeof e=="function"?e:null)}var Ze=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case de:return"Profiler";case Ce:return"StrictMode";case He:return"Suspense";case W:return"SuspenseList";case Ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case K:return"Portal";case fe:return e.displayName||"Context";case ge:return(e._context.displayName||"Context")+".Consumer";case Se:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k:return t=e.displayName||null,t!==null?t:at(e.type)||"Memo";case pe:t=e._payload,e=e._init;try{return at(e(t))}catch{}}return null}var je=Array.isArray,E=f.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=h.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Re=[],We=-1;function p(e){return{current:e}}function L(e){0>We||(e.current=Re[We],Re[We]=null,We--)}function ue(e,t){We++,Re[We]=e.current,e.current=t}var he=p(null),Be=p(null),Xe=p(null),ke=p(null);function ht(e,t){switch(ue(Xe,t),ue(Be,e),ue(he,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cd(t),e=Td(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(he),ue(he,e)}function yt(){L(he),L(Be),L(Xe)}function tl(e){e.memoizedState!==null&&ue(ke,e);var t=he.current,l=Td(t,e.type);t!==l&&(ue(Be,e),ue(he,l))}function El(e){Be.current===e&&(L(he),L(Be)),ke.current===e&&(L(ke),Xi._currentValue=le)}var $l,Al;function cl(e){if($l===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);$l=t&&t[1]||"",Al=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$l+e+Al}var Pa=!1;function It(e,t){if(!e||Pa)return"";Pa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(R){var z=R}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(R){z=R}e.call(Y.prototype)}}else{try{throw Error()}catch(R){z=R}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(R){if(R&&z&&typeof R.stack=="string")return[R.stack,z.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),c=i[0],o=i[1];if(c&&o){var m=c.split(`
`),C=o.split(`
`);for(n=a=0;a<m.length&&!m[a].includes("DetermineComponentFrameRoot");)a++;for(;n<C.length&&!C[n].includes("DetermineComponentFrameRoot");)n++;if(a===m.length||n===C.length)for(a=m.length-1,n=C.length-1;1<=a&&0<=n&&m[a]!==C[n];)n--;for(;1<=a&&0<=n;a--,n--)if(m[a]!==C[n]){if(a!==1||n!==1)do if(a--,n--,0>n||m[a]!==C[n]){var U=`
`+m[a].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=a&&0<=n);break}}}finally{Pa=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?cl(l):""}function Il(e,t){switch(e.tag){case 26:case 27:case 5:return cl(e.type);case 16:return cl("Lazy");case 13:return e.child!==t&&t!==null?cl("Suspense Fallback"):cl("Suspense");case 19:return cl("SuspenseList");case 0:case 15:return It(e.type,!1);case 11:return It(e.type.render,!1);case 1:return It(e.type,!0);case 31:return cl("Activity");default:return""}}function zl(e){try{var t="",l=null;do t+=Il(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var ll=Object.prototype.hasOwnProperty,ul=u.unstable_scheduleCallback,Vl=u.unstable_cancelCallback,sa=u.unstable_shouldYield,bl=u.unstable_requestPaint,Yt=u.unstable_now,Zl=u.unstable_getCurrentPriorityLevel,Ta=u.unstable_ImmediatePriority,Dl=u.unstable_UserBlockingPriority,Rl=u.unstable_NormalPriority,ol=u.unstable_LowPriority,xn=u.unstable_IdlePriority,Pt=u.log,Ea=u.unstable_setDisableYieldValue,kt=null,jt=null;function rl(e){if(typeof Pt=="function"&&Ea(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(kt,e)}catch{}}var qt=Math.clz32?Math.clz32:ca,bn=Math.log,Sn=Math.LN2;function ca(e){return e>>>=0,e===0?32:31-(bn(e)/Sn|0)|0}var Rt=256,ua=262144,zt=4194304;function Ql(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function al(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,i=e.suspendedLanes,c=e.pingedLanes;e=e.warmLanes;var o=a&134217727;return o!==0?(a=o&~i,a!==0?n=Ql(a):(c&=o,c!==0?n=Ql(c):l||(l=o&~e,l!==0&&(n=Ql(l))))):(o=a&~i,o!==0?n=Ql(o):c!==0?n=Ql(c):l||(l=a&~e,l!==0&&(n=Ql(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function oa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(){var e=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),e}function Ol(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function X(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ie(e,t,l,a,n,i){var c=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var o=e.entanglements,m=e.expirationTimes,C=e.hiddenUpdates;for(l=c&~l;0<l;){var U=31-qt(l),Y=1<<U;o[U]=0,m[U]=-1;var z=C[U];if(z!==null)for(C[U]=null,U=0;U<z.length;U++){var R=z[U];R!==null&&(R.lane&=-536870913)}l&=~Y}a!==0&&A(e,a,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(c&~t))}function A(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-qt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function $(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-qt(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function d(e,t){var l=t&-t;return l=(l&42)!==0?1:re(l),(l&(e.suspendedLanes|t))!==0?0:l}function re(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ve(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function te(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:Fd(e.type))}function me(e,t){var l=ee.p;try{return ee.p=e,t()}finally{ee.p=l}}var Z=Math.random().toString(36).slice(2),se="__reactFiber$"+Z,I="__reactProps$"+Z,J="__reactContainer$"+Z,xe="__reactEvents$"+Z,Ue="__reactListeners$"+Z,Ge="__reactHandles$"+Z,B="__reactResources$"+Z,Te="__reactMarker$"+Z;function $e(e){delete e[se],delete e[I],delete e[xe],delete e[Ue],delete e[Ge]}function Ie(e){var t=e[se];if(t)return t;for(var l=e.parentNode;l;){if(t=l[J]||l[se]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=_d(e);e!==null;){if(l=e[se])return l;e=_d(e)}return t}e=l,l=e.parentNode}return null}function Fe(e){if(e=e[se]||e[J]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ct(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Je(e){var t=e[B];return t||(t=e[B]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Te]=!0}var Ct=new Set,rt={};function Tt(e,t){N(e,t),N(e+"Capture",t)}function N(e,t){for(rt[e]=t,e=0;e<t.length;e++)Ct.add(t[e])}var G=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Q={},ae={};function we(e){return ll.call(ae,e)?!0:ll.call(Q,e)?!1:G.test(e)?ae[e]=!0:(Q[e]=!0,!1)}function be(e,t,l){if(we(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function V(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Ne(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function ne(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ce(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oe(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(c){l=""+c,i.call(this,c)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(c){l=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Oe(e){if(!e._valueTracker){var t=ce(e)?"checked":"value";e._valueTracker=oe(e,t,""+e[t])}}function ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=ce(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Pe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qe=/[\n"\\]/g;function ye(e){return e.replace(qe,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vt(e,t,l,a,n,i,c,o){e.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.type=c:e.removeAttribute("type"),t!=null?c==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ne(t)):e.value!==""+ne(t)&&(e.value=""+ne(t)):c!=="submit"&&c!=="reset"||e.removeAttribute("value"),t!=null?ft(e,c,ne(t)):l!=null?ft(e,c,ne(l)):a!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+ne(o):e.removeAttribute("name")}function wt(e,t,l,a,n,i,c,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Oe(e);return}l=l!=null?""+ne(l):"",t=t!=null?""+ne(t):l,o||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=o?e.checked:!!a,e.defaultChecked=!!a,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.name=c),Oe(e)}function ft(e,t,l){t==="number"&&Pe(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function dt(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+ne(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Mt(e,t,l){if(t!=null&&(t=""+ne(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+ne(l):""}function fl(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(r(92));if(je(a)){if(1<a.length)throw Error(r(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=ne(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Oe(e)}function Ot(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var nl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||nl.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function ra(e,t,l){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&il(e,n,a)}else for(var i in t)t.hasOwnProperty(i)&&il(e,i,t[i])}function Pl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function en(e){return Ji.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _l(){}var Mn=null;function li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kl=null,Kl=null;function Wi(e){var t=Fe(e);if(t&&(e=t.stateNode)){var l=e[I]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ye(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[I]||null;if(!n)throw Error(r(90));vt(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&ze(a)}break e;case"textarea":Mt(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&dt(e,!!l.multiple,t,!1)}}}var ai=!1;function Fi(e,t,l){if(ai)return e(t,l);ai=!0;try{var a=e(t);return a}finally{if(ai=!1,(kl!==null||Kl!==null)&&(Hs(),kl&&(t=kl,e=Kl,Kl=kl=null,Wi(t),e)))for(t=0;t<e.length;t++)Wi(e[t])}}function ni(e,t){var l=e.stateNode;if(l===null)return null;var a=l[I]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(r(231,t,typeof l));return l}var fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dc=!1;if(fa)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){dc=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{dc=!1}var Aa=null,mc=null,$i=null;function Co(){if($i)return $i;var e,t=mc,l=t.length,a,n="value"in Aa?Aa.value:Aa.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var c=l-e;for(a=1;a<=c&&t[l-a]===n[i-a];a++);return $i=n.slice(e,1<a?1-a:void 0)}function Ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function To(){return!1}function dl(e){function t(l,a,n,i,c){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=c,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(l=e[o],this[o]=l?l(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pi:To,this.isPropagationStopped=To,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},es=dl(tn),si=j({},tn,{view:0,detail:0}),C0=dl(si),hc,yc,ci,ts=j({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(hc=e.screenX-ci.screenX,yc=e.screenY-ci.screenY):yc=hc=0,ci=e),hc)},movementY:function(e){return"movementY"in e?e.movementY:yc}}),Eo=dl(ts),T0=j({},ts,{dataTransfer:0}),E0=dl(T0),A0=j({},si,{relatedTarget:0}),gc=dl(A0),z0=j({},tn,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=dl(z0),R0=j({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O0=dl(R0),_0=j({},tn,{data:0}),Ao=dl(_0),L0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H0[e])?!!t[e]:!1}function pc(){return B0}var Y0=j({},si,{key:function(e){if(e.key){var t=L0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pc,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),q0=dl(Y0),X0=j({},ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zo=dl(X0),G0=j({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pc}),V0=dl(G0),Z0=j({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=dl(Z0),k0=j({},ts,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K0=dl(k0),J0=j({},tn,{newState:0,oldState:0}),W0=dl(J0),F0=[9,13,27,32],vc=fa&&"CompositionEvent"in window,ui=null;fa&&"documentMode"in document&&(ui=document.documentMode);var $0=fa&&"TextEvent"in window&&!ui,Do=fa&&(!vc||ui&&8<ui&&11>=ui),Ro=" ",Oo=!1;function _o(e,t){switch(e){case"keyup":return F0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function I0(e,t){switch(e){case"compositionend":return Lo(t);case"keypress":return t.which!==32?null:(Oo=!0,Ro);case"textInput":return e=t.data,e===Ro&&Oo?null:e;default:return null}}function P0(e,t){if(Cn)return e==="compositionend"||!vc&&_o(e,t)?(e=Co(),$i=mc=Aa=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Do&&t.locale!=="ko"?null:t.data;default:return null}}var em={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!em[e.type]:t==="textarea"}function Ho(e,t,l,a){kl?Kl?Kl.push(a):Kl=[a]:kl=a,t=Zs(t,"onChange"),0<t.length&&(l=new es("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var oi=null,ri=null;function tm(e){bd(e,0)}function ls(e){var t=ct(e);if(ze(t))return e}function Bo(e,t){if(e==="change")return t}var Yo=!1;if(fa){var xc;if(fa){var bc="oninput"in document;if(!bc){var qo=document.createElement("div");qo.setAttribute("oninput","return;"),bc=typeof qo.oninput=="function"}xc=bc}else xc=!1;Yo=xc&&(!document.documentMode||9<document.documentMode)}function Xo(){oi&&(oi.detachEvent("onpropertychange",Go),ri=oi=null)}function Go(e){if(e.propertyName==="value"&&ls(ri)){var t=[];Ho(t,ri,e,li(e)),Fi(tm,t)}}function lm(e,t,l){e==="focusin"?(Xo(),oi=t,ri=l,oi.attachEvent("onpropertychange",Go)):e==="focusout"&&Xo()}function am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(ri)}function nm(e,t){if(e==="click")return ls(t)}function im(e,t){if(e==="input"||e==="change")return ls(t)}function sm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sl=typeof Object.is=="function"?Object.is:sm;function fi(e,t){if(Sl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!ll.call(t,n)||!Sl(e[n],t[n]))return!1}return!0}function Vo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zo(e,t){var l=Vo(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Vo(l)}}function Qo(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qo(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ko(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Pe(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Pe(e.document)}return t}function Sc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var cm=fa&&"documentMode"in document&&11>=document.documentMode,Tn=null,jc=null,di=null,wc=!1;function Ko(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;wc||Tn==null||Tn!==Pe(a)||(a=Tn,"selectionStart"in a&&Sc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),di&&fi(di,a)||(di=a,a=Zs(jc,"onSelect"),0<a.length&&(t=new es("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=Tn)))}function ln(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var En={animationend:ln("Animation","AnimationEnd"),animationiteration:ln("Animation","AnimationIteration"),animationstart:ln("Animation","AnimationStart"),transitionrun:ln("Transition","TransitionRun"),transitionstart:ln("Transition","TransitionStart"),transitioncancel:ln("Transition","TransitionCancel"),transitionend:ln("Transition","TransitionEnd")},Nc={},Jo={};fa&&(Jo=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function an(e){if(Nc[e])return Nc[e];if(!En[e])return e;var t=En[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Jo)return Nc[e]=t[l];return e}var Wo=an("animationend"),Fo=an("animationiteration"),$o=an("animationstart"),um=an("transitionrun"),om=an("transitionstart"),rm=an("transitioncancel"),Io=an("transitionend"),Po=new Map,Mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mc.push("scrollEnd");function Jl(e,t){Po.set(e,t),Tt(t,[e])}var as=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ll=[],An=0,Cc=0;function ns(){for(var e=An,t=Cc=An=0;t<e;){var l=Ll[t];Ll[t++]=null;var a=Ll[t];Ll[t++]=null;var n=Ll[t];Ll[t++]=null;var i=Ll[t];if(Ll[t++]=null,a!==null&&n!==null){var c=a.pending;c===null?n.next=n:(n.next=c.next,c.next=n),a.pending=n}i!==0&&er(l,n,i)}}function is(e,t,l,a){Ll[An++]=e,Ll[An++]=t,Ll[An++]=l,Ll[An++]=a,Cc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Tc(e,t,l,a){return is(e,t,l,a),ss(e)}function nn(e,t){return is(e,null,null,t),ss(e)}function er(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-qt(l),e=i.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),i):null}function ss(e){if(50<_i)throw _i=0,Uu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var zn={};function fm(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(e,t,l,a){return new fm(e,t,l,a)}function Ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function da(e,t){var l=e.alternate;return l===null?(l=jl(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function tr(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cs(e,t,l,a,n,i){var c=0;if(a=e,typeof e=="function")Ec(e)&&(c=1);else if(typeof e=="string")c=gh(e,l,he.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ae:return e=jl(31,l,t,n),e.elementType=Ae,e.lanes=i,e;case P:return sn(l.children,n,i,t);case Ce:c=8,n|=24;break;case de:return e=jl(12,l,t,n|2),e.elementType=de,e.lanes=i,e;case He:return e=jl(13,l,t,n),e.elementType=He,e.lanes=i,e;case W:return e=jl(19,l,t,n),e.elementType=W,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fe:c=10;break e;case ge:c=9;break e;case Se:c=11;break e;case k:c=14;break e;case pe:c=16,a=null;break e}c=29,l=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=jl(c,l,t,n),t.elementType=e,t.type=a,t.lanes=i,t}function sn(e,t,l,a){return e=jl(7,e,a,t),e.lanes=l,e}function Ac(e,t,l){return e=jl(6,e,null,t),e.lanes=l,e}function lr(e){var t=jl(18,null,null,0);return t.stateNode=e,t}function zc(e,t,l){return t=jl(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ar=new WeakMap;function Ul(e,t){if(typeof e=="object"&&e!==null){var l=ar.get(e);return l!==void 0?l:(t={value:e,source:t,stack:zl(t)},ar.set(e,t),t)}return{value:e,source:t,stack:zl(t)}}var Dn=[],Rn=0,us=null,mi=0,Hl=[],Bl=0,za=null,ea=1,ta="";function ma(e,t){Dn[Rn++]=mi,Dn[Rn++]=us,us=e,mi=t}function nr(e,t,l){Hl[Bl++]=ea,Hl[Bl++]=ta,Hl[Bl++]=za,za=e;var a=ea;e=ta;var n=32-qt(a)-1;a&=~(1<<n),l+=1;var i=32-qt(t)+n;if(30<i){var c=n-n%5;i=(a&(1<<c)-1).toString(32),a>>=c,n-=c,ea=1<<32-qt(t)+n|l<<n|a,ta=i+e}else ea=1<<i|l<<n|a,ta=e}function Dc(e){e.return!==null&&(ma(e,1),nr(e,1,0))}function Rc(e){for(;e===us;)us=Dn[--Rn],Dn[Rn]=null,mi=Dn[--Rn],Dn[Rn]=null;for(;e===za;)za=Hl[--Bl],Hl[Bl]=null,ta=Hl[--Bl],Hl[Bl]=null,ea=Hl[--Bl],Hl[Bl]=null}function ir(e,t){Hl[Bl++]=ea,Hl[Bl++]=ta,Hl[Bl++]=za,ea=t.id,ta=t.overflow,za=e}var Jt=null,Et=null,st=!1,Da=null,Yl=!1,Oc=Error(r(519));function Ra(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hi(Ul(t,e)),Oc}function sr(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[se]=e,t[I]=a,l){case"dialog":lt("cancel",t),lt("close",t);break;case"iframe":case"object":case"embed":lt("load",t);break;case"video":case"audio":for(l=0;l<Ui.length;l++)lt(Ui[l],t);break;case"source":lt("error",t);break;case"img":case"image":case"link":lt("error",t),lt("load",t);break;case"details":lt("toggle",t);break;case"input":lt("invalid",t),wt(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":lt("invalid",t);break;case"textarea":lt("invalid",t),fl(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||Nd(t.textContent,l)?(a.popover!=null&&(lt("beforetoggle",t),lt("toggle",t)),a.onScroll!=null&&lt("scroll",t),a.onScrollEnd!=null&&lt("scrollend",t),a.onClick!=null&&(t.onclick=_l),t=!0):t=!1,t||Ra(e,!0)}function cr(e){for(Jt=e.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Yl=!1;return;case 27:case 3:Yl=!0;return;default:Jt=Jt.return}}function On(e){if(e!==Jt)return!1;if(!st)return cr(e),st=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||$u(e.type,e.memoizedProps)),l=!l),l&&Et&&Ra(e),cr(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Et=Od(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Et=Od(e)}else t===27?(t=Et,ka(e.type)?(e=lo,lo=null,Et=e):Et=t):Et=Jt?Xl(e.stateNode.nextSibling):null;return!0}function cn(){Et=Jt=null,st=!1}function _c(){var e=Da;return e!==null&&(gl===null?gl=e:gl.push.apply(gl,e),Da=null),e}function hi(e){Da===null?Da=[e]:Da.push(e)}var Lc=p(null),un=null,ha=null;function Oa(e,t,l){ue(Lc,t._currentValue),t._currentValue=l}function ya(e){e._currentValue=Lc.current,L(Lc)}function Uc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Hc(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var c=n.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=n;for(var m=0;m<t.length;m++)if(o.context===t[m]){i.lanes|=l,o=i.alternate,o!==null&&(o.lanes|=l),Uc(i.return,l,e),a||(c=null);break e}i=o.next}}else if(n.tag===18){if(c=n.return,c===null)throw Error(r(341));c.lanes|=l,i=c.alternate,i!==null&&(i.lanes|=l),Uc(c,l,e),c=null}else c=n.child;if(c!==null)c.return=n;else for(c=n;c!==null;){if(c===e){c=null;break}if(n=c.sibling,n!==null){n.return=c.return,c=n;break}c=c.return}n=c}}function _n(e,t,l,a){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var c=n.alternate;if(c===null)throw Error(r(387));if(c=c.memoizedProps,c!==null){var o=n.type;Sl(n.pendingProps.value,c.value)||(e!==null?e.push(o):e=[o])}}else if(n===ke.current){if(c=n.alternate,c===null)throw Error(r(387));c.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Xi):e=[Xi])}n=n.return}e!==null&&Hc(t,e,l,a),t.flags|=262144}function os(e){for(e=e.firstContext;e!==null;){if(!Sl(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function on(e){un=e,ha=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Wt(e){return ur(un,e)}function rs(e,t){return un===null&&on(e),ur(e,t)}function ur(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},ha===null){if(e===null)throw Error(r(308));ha=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ha=ha.next=t;return l}var dm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},mm=u.unstable_scheduleCallback,hm=u.unstable_NormalPriority,Xt={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bc(){return{controller:new dm,data:new Map,refCount:0}}function yi(e){e.refCount--,e.refCount===0&&mm(hm,function(){e.controller.abort()})}var gi=null,Yc=0,Ln=0,Un=null;function ym(e,t){if(gi===null){var l=gi=[];Yc=0,Ln=Gu(),Un={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Yc++,t.then(or,or),t}function or(){if(--Yc===0&&gi!==null){Un!==null&&(Un.status="fulfilled");var e=gi;gi=null,Ln=0,Un=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gm(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var rr=E.S;E.S=function(e,t){Jf=Yt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ym(e,t),rr!==null&&rr(e,t)};var rn=p(null);function qc(){var e=rn.current;return e!==null?e:Nt.pooledCache}function fs(e,t){t===null?ue(rn,rn.current):ue(rn,t.pool)}function fr(){var e=qc();return e===null?null:{parent:Xt._currentValue,pool:e}}var Hn=Error(r(460)),Xc=Error(r(474)),ds=Error(r(542)),ms={then:function(){}};function dr(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mr(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(_l,_l),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yr(e),e;default:if(typeof t.status=="string")t.then(_l,_l);else{if(e=Nt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yr(e),e}throw dn=t,Hn}}function fn(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(dn=l,Hn):l}}var dn=null;function hr(){if(dn===null)throw Error(r(459));var e=dn;return dn=null,e}function yr(e){if(e===Hn||e===ds)throw Error(r(483))}var Bn=null,pi=0;function hs(e){var t=pi;return pi+=1,Bn===null&&(Bn=[]),mr(Bn,e,t)}function vi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ys(e,t){throw t.$$typeof===D?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gr(e){function t(S,v){if(e){var M=S.deletions;M===null?(S.deletions=[v],S.flags|=16):M.push(v)}}function l(S,v){if(!e)return null;for(;v!==null;)t(S,v),v=v.sibling;return null}function a(S){for(var v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function n(S,v){return S=da(S,v),S.index=0,S.sibling=null,S}function i(S,v,M){return S.index=M,e?(M=S.alternate,M!==null?(M=M.index,M<v?(S.flags|=67108866,v):M):(S.flags|=67108866,v)):(S.flags|=1048576,v)}function c(S){return e&&S.alternate===null&&(S.flags|=67108866),S}function o(S,v,M,H){return v===null||v.tag!==6?(v=Ac(M,S.mode,H),v.return=S,v):(v=n(v,M),v.return=S,v)}function m(S,v,M,H){var _e=M.type;return _e===P?U(S,v,M.props.children,H,M.key):v!==null&&(v.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===pe&&fn(_e)===v.type)?(v=n(v,M.props),vi(v,M),v.return=S,v):(v=cs(M.type,M.key,M.props,null,S.mode,H),vi(v,M),v.return=S,v)}function C(S,v,M,H){return v===null||v.tag!==4||v.stateNode.containerInfo!==M.containerInfo||v.stateNode.implementation!==M.implementation?(v=zc(M,S.mode,H),v.return=S,v):(v=n(v,M.children||[]),v.return=S,v)}function U(S,v,M,H,_e){return v===null||v.tag!==7?(v=sn(M,S.mode,H,_e),v.return=S,v):(v=n(v,M),v.return=S,v)}function Y(S,v,M){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Ac(""+v,S.mode,M),v.return=S,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case O:return M=cs(v.type,v.key,v.props,null,S.mode,M),vi(M,v),M.return=S,M;case K:return v=zc(v,S.mode,M),v.return=S,v;case pe:return v=fn(v),Y(S,v,M)}if(je(v)||Le(v))return v=sn(v,S.mode,M,null),v.return=S,v;if(typeof v.then=="function")return Y(S,hs(v),M);if(v.$$typeof===fe)return Y(S,rs(S,v),M);ys(S,v)}return null}function z(S,v,M,H){var _e=v!==null?v.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return _e!==null?null:o(S,v,""+M,H);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return M.key===_e?m(S,v,M,H):null;case K:return M.key===_e?C(S,v,M,H):null;case pe:return M=fn(M),z(S,v,M,H)}if(je(M)||Le(M))return _e!==null?null:U(S,v,M,H,null);if(typeof M.then=="function")return z(S,v,hs(M),H);if(M.$$typeof===fe)return z(S,v,rs(S,M),H);ys(S,M)}return null}function R(S,v,M,H,_e){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return S=S.get(M)||null,o(v,S,""+H,_e);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return S=S.get(H.key===null?M:H.key)||null,m(v,S,H,_e);case K:return S=S.get(H.key===null?M:H.key)||null,C(v,S,H,_e);case pe:return H=fn(H),R(S,v,M,H,_e)}if(je(H)||Le(H))return S=S.get(M)||null,U(v,S,H,_e,null);if(typeof H.then=="function")return R(S,v,M,hs(H),_e);if(H.$$typeof===fe)return R(S,v,M,rs(v,H),_e);ys(v,H)}return null}function Me(S,v,M,H){for(var _e=null,ut=null,Ee=v,Ke=v=0,it=null;Ee!==null&&Ke<M.length;Ke++){Ee.index>Ke?(it=Ee,Ee=null):it=Ee.sibling;var ot=z(S,Ee,M[Ke],H);if(ot===null){Ee===null&&(Ee=it);break}e&&Ee&&ot.alternate===null&&t(S,Ee),v=i(ot,v,Ke),ut===null?_e=ot:ut.sibling=ot,ut=ot,Ee=it}if(Ke===M.length)return l(S,Ee),st&&ma(S,Ke),_e;if(Ee===null){for(;Ke<M.length;Ke++)Ee=Y(S,M[Ke],H),Ee!==null&&(v=i(Ee,v,Ke),ut===null?_e=Ee:ut.sibling=Ee,ut=Ee);return st&&ma(S,Ke),_e}for(Ee=a(Ee);Ke<M.length;Ke++)it=R(Ee,S,Ke,M[Ke],H),it!==null&&(e&&it.alternate!==null&&Ee.delete(it.key===null?Ke:it.key),v=i(it,v,Ke),ut===null?_e=it:ut.sibling=it,ut=it);return e&&Ee.forEach(function($a){return t(S,$a)}),st&&ma(S,Ke),_e}function Ye(S,v,M,H){if(M==null)throw Error(r(151));for(var _e=null,ut=null,Ee=v,Ke=v=0,it=null,ot=M.next();Ee!==null&&!ot.done;Ke++,ot=M.next()){Ee.index>Ke?(it=Ee,Ee=null):it=Ee.sibling;var $a=z(S,Ee,ot.value,H);if($a===null){Ee===null&&(Ee=it);break}e&&Ee&&$a.alternate===null&&t(S,Ee),v=i($a,v,Ke),ut===null?_e=$a:ut.sibling=$a,ut=$a,Ee=it}if(ot.done)return l(S,Ee),st&&ma(S,Ke),_e;if(Ee===null){for(;!ot.done;Ke++,ot=M.next())ot=Y(S,ot.value,H),ot!==null&&(v=i(ot,v,Ke),ut===null?_e=ot:ut.sibling=ot,ut=ot);return st&&ma(S,Ke),_e}for(Ee=a(Ee);!ot.done;Ke++,ot=M.next())ot=R(Ee,S,Ke,ot.value,H),ot!==null&&(e&&ot.alternate!==null&&Ee.delete(ot.key===null?Ke:ot.key),v=i(ot,v,Ke),ut===null?_e=ot:ut.sibling=ot,ut=ot);return e&&Ee.forEach(function(Th){return t(S,Th)}),st&&ma(S,Ke),_e}function St(S,v,M,H){if(typeof M=="object"&&M!==null&&M.type===P&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case O:e:{for(var _e=M.key;v!==null;){if(v.key===_e){if(_e=M.type,_e===P){if(v.tag===7){l(S,v.sibling),H=n(v,M.props.children),H.return=S,S=H;break e}}else if(v.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===pe&&fn(_e)===v.type){l(S,v.sibling),H=n(v,M.props),vi(H,M),H.return=S,S=H;break e}l(S,v);break}else t(S,v);v=v.sibling}M.type===P?(H=sn(M.props.children,S.mode,H,M.key),H.return=S,S=H):(H=cs(M.type,M.key,M.props,null,S.mode,H),vi(H,M),H.return=S,S=H)}return c(S);case K:e:{for(_e=M.key;v!==null;){if(v.key===_e)if(v.tag===4&&v.stateNode.containerInfo===M.containerInfo&&v.stateNode.implementation===M.implementation){l(S,v.sibling),H=n(v,M.children||[]),H.return=S,S=H;break e}else{l(S,v);break}else t(S,v);v=v.sibling}H=zc(M,S.mode,H),H.return=S,S=H}return c(S);case pe:return M=fn(M),St(S,v,M,H)}if(je(M))return Me(S,v,M,H);if(Le(M)){if(_e=Le(M),typeof _e!="function")throw Error(r(150));return M=_e.call(M),Ye(S,v,M,H)}if(typeof M.then=="function")return St(S,v,hs(M),H);if(M.$$typeof===fe)return St(S,v,rs(S,M),H);ys(S,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,v!==null&&v.tag===6?(l(S,v.sibling),H=n(v,M),H.return=S,S=H):(l(S,v),H=Ac(M,S.mode,H),H.return=S,S=H),c(S)):l(S,v)}return function(S,v,M,H){try{pi=0;var _e=St(S,v,M,H);return Bn=null,_e}catch(Ee){if(Ee===Hn||Ee===ds)throw Ee;var ut=jl(29,Ee,null,S.mode);return ut.lanes=H,ut.return=S,ut}finally{}}}var mn=gr(!0),pr=gr(!1),_a=!1;function Gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function La(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(mt&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=ss(e),er(e,null,l),t}return is(e,a,t,l),ss(e)}function xi(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,$(e,l)}}function Zc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var c={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=c:i=i.next=c,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Qc=!1;function bi(){if(Qc){var e=Un;if(e!==null)throw e}}function Si(e,t,l,a){Qc=!1;var n=e.updateQueue;_a=!1;var i=n.firstBaseUpdate,c=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var m=o,C=m.next;m.next=null,c===null?i=C:c.next=C,c=m;var U=e.alternate;U!==null&&(U=U.updateQueue,o=U.lastBaseUpdate,o!==c&&(o===null?U.firstBaseUpdate=C:o.next=C,U.lastBaseUpdate=m))}if(i!==null){var Y=n.baseState;c=0,U=C=m=null,o=i;do{var z=o.lane&-536870913,R=z!==o.lane;if(R?(nt&z)===z:(a&z)===z){z!==0&&z===Ln&&(Qc=!0),U!==null&&(U=U.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var Me=e,Ye=o;z=t;var St=l;switch(Ye.tag){case 1:if(Me=Ye.payload,typeof Me=="function"){Y=Me.call(St,Y,z);break e}Y=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ye.payload,z=typeof Me=="function"?Me.call(St,Y,z):Me,z==null)break e;Y=j({},Y,z);break e;case 2:_a=!0}}z=o.callback,z!==null&&(e.flags|=64,R&&(e.flags|=8192),R=n.callbacks,R===null?n.callbacks=[z]:R.push(z))}else R={lane:z,tag:o.tag,payload:o.payload,callback:o.callback,next:null},U===null?(C=U=R,m=Y):U=U.next=R,c|=z;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;R=o,o=R.next,R.next=null,n.lastBaseUpdate=R,n.shared.pending=null}}while(!0);U===null&&(m=Y),n.baseState=m,n.firstBaseUpdate=C,n.lastBaseUpdate=U,i===null&&(n.shared.lanes=0),Xa|=c,e.lanes=c,e.memoizedState=Y}}function vr(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function xr(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)vr(l[e],t)}var Yn=p(null),gs=p(0);function br(e,t){e=Na,ue(gs,e),ue(Yn,t),Na=e|t.baseLanes}function kc(){ue(gs,Na),ue(Yn,Yn.current)}function Kc(){Na=gs.current,L(Yn),L(gs)}var wl=p(null),ql=null;function Ha(e){var t=e.alternate;ue(Ut,Ut.current&1),ue(wl,e),ql===null&&(t===null||Yn.current!==null||t.memoizedState!==null)&&(ql=e)}function Jc(e){ue(Ut,Ut.current),ue(wl,e),ql===null&&(ql=e)}function Sr(e){e.tag===22?(ue(Ut,Ut.current),ue(wl,e),ql===null&&(ql=e)):Ba()}function Ba(){ue(Ut,Ut.current),ue(wl,wl.current)}function Nl(e){L(wl),ql===e&&(ql=null),L(Ut)}var Ut=p(0);function ps(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||eo(l)||to(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=0,Qe=null,xt=null,Gt=null,vs=!1,qn=!1,hn=!1,xs=0,ji=0,Xn=null,pm=0;function _t(){throw Error(r(321))}function Wc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Sl(e[l],t[l]))return!1;return!0}function Fc(e,t,l,a,n,i){return ga=i,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,E.H=e===null||e.memoizedState===null?nf:fu,hn=!1,i=l(a,n),hn=!1,qn&&(i=wr(t,l,a,n)),jr(e),i}function jr(e){E.H=Mi;var t=xt!==null&&xt.next!==null;if(ga=0,Gt=xt=Qe=null,vs=!1,ji=0,Xn=null,t)throw Error(r(300));e===null||Vt||(e=e.dependencies,e!==null&&os(e)&&(Vt=!0))}function wr(e,t,l,a){Qe=e;var n=0;do{if(qn&&(Xn=null),ji=0,qn=!1,25<=n)throw Error(r(301));if(n+=1,Gt=xt=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}E.H=sf,i=t(l,a)}while(qn);return i}function vm(){var e=E.H,t=e.useState()[0];return t=typeof t.then=="function"?wi(t):t,e=e.useState()[0],(xt!==null?xt.memoizedState:null)!==e&&(Qe.flags|=1024),t}function $c(){var e=xs!==0;return xs=0,e}function Ic(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Pc(e){if(vs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vs=!1}ga=0,Gt=xt=Qe=null,qn=!1,ji=xs=0,Xn=null}function sl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Qe.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function Ht(){if(xt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=xt.next;var t=Gt===null?Qe.memoizedState:Gt.next;if(t!==null)Gt=t,xt=e;else{if(e===null)throw Qe.alternate===null?Error(r(467)):Error(r(310));xt=e,e={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Gt===null?Qe.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function bs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wi(e){var t=ji;return ji+=1,Xn===null&&(Xn=[]),e=mr(Xn,e,t),t=Qe,(Gt===null?t.memoizedState:Gt.next)===null&&(t=t.alternate,E.H=t===null||t.memoizedState===null?nf:fu),e}function Ss(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wi(e);if(e.$$typeof===fe)return Wt(e)}throw Error(r(438,String(e)))}function eu(e){var t=null,l=Qe.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Qe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=bs(),Qe.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=F;return t.index++,l}function pa(e,t){return typeof t=="function"?t(e):t}function js(e){var t=Ht();return tu(t,xt,e)}function tu(e,t,l){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=l;var n=e.baseQueue,i=a.pending;if(i!==null){if(n!==null){var c=n.next;n.next=i.next,i.next=c}t.baseQueue=n=i,a.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var o=c=null,m=null,C=t,U=!1;do{var Y=C.lane&-536870913;if(Y!==C.lane?(nt&Y)===Y:(ga&Y)===Y){var z=C.revertLane;if(z===0)m!==null&&(m=m.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),Y===Ln&&(U=!0);else if((ga&z)===z){C=C.next,z===Ln&&(U=!0);continue}else Y={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},m===null?(o=m=Y,c=i):m=m.next=Y,Qe.lanes|=z,Xa|=z;Y=C.action,hn&&l(i,Y),i=C.hasEagerState?C.eagerState:l(i,Y)}else z={lane:Y,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},m===null?(o=m=z,c=i):m=m.next=z,Qe.lanes|=Y,Xa|=Y;C=C.next}while(C!==null&&C!==t);if(m===null?c=i:m.next=o,!Sl(i,e.memoizedState)&&(Vt=!0,U&&(l=Un,l!==null)))throw l;e.memoizedState=i,e.baseState=c,e.baseQueue=m,a.lastRenderedState=i}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function lu(e){var t=Ht(),l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var c=n=n.next;do i=e(i,c.action),c=c.next;while(c!==n);Sl(i,t.memoizedState)||(Vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function Nr(e,t,l){var a=Qe,n=Ht(),i=st;if(i){if(l===void 0)throw Error(r(407));l=l()}else l=t();var c=!Sl((xt||n).memoizedState,l);if(c&&(n.memoizedState=l,Vt=!0),n=n.queue,iu(Tr.bind(null,a,n,e),[e]),n.getSnapshot!==t||c||Gt!==null&&Gt.memoizedState.tag&1){if(a.flags|=2048,Gn(9,{destroy:void 0},Cr.bind(null,a,n,l,t),null),Nt===null)throw Error(r(349));i||(ga&127)!==0||Mr(a,t,l)}return l}function Mr(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Qe.updateQueue,t===null?(t=bs(),Qe.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Cr(e,t,l,a){t.value=l,t.getSnapshot=a,Er(t)&&Ar(e)}function Tr(e,t,l){return l(function(){Er(t)&&Ar(e)})}function Er(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Sl(e,l)}catch{return!0}}function Ar(e){var t=nn(e,2);t!==null&&pl(t,e,2)}function au(e){var t=sl();if(typeof e=="function"){var l=e;if(e=l(),hn){rl(!0);try{l()}finally{rl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t}function zr(e,t,l,a){return e.baseState=l,tu(e,xt,typeof a=="function"?a:pa)}function xm(e,t,l,a,n){if(Ms(e))throw Error(r(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){i.listeners.push(c)}};E.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,Dr(t,i)):(i.next=l.next,t.pending=l.next=i)}}function Dr(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var i=E.T,c={};E.T=c;try{var o=l(n,a),m=E.S;m!==null&&m(c,o),Rr(e,t,o)}catch(C){nu(e,t,C)}finally{i!==null&&c.types!==null&&(i.types=c.types),E.T=i}}else try{i=l(n,a),Rr(e,t,i)}catch(C){nu(e,t,C)}}function Rr(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Or(e,t,a)},function(a){return nu(e,t,a)}):Or(e,t,l)}function Or(e,t,l){t.status="fulfilled",t.value=l,_r(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Dr(e,l)))}function nu(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,_r(t),t=t.next;while(t!==a)}e.action=null}function _r(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Lr(e,t){return t}function Ur(e,t){if(st){var l=Nt.formState;if(l!==null){e:{var a=Qe;if(st){if(Et){t:{for(var n=Et,i=Yl;n.nodeType!==8;){if(!i){n=null;break t}if(n=Xl(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Et=Xl(n.nextSibling),a=n.data==="F!";break e}}Ra(a)}a=!1}a&&(t=l[0])}}return l=sl(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:t},l.queue=a,l=tf.bind(null,Qe,a),a.dispatch=l,a=au(!1),i=ru.bind(null,Qe,!1,a.queue),a=sl(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=xm.bind(null,Qe,n,i,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Hr(e){var t=Ht();return Br(t,xt,e)}function Br(e,t,l){if(t=tu(e,t,Lr)[0],e=js(pa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=wi(t)}catch(c){throw c===Hn?ds:c}else a=t;t=Ht();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(Qe.flags|=2048,Gn(9,{destroy:void 0},bm.bind(null,n,l),null)),[a,i,e]}function bm(e,t){e.action=t}function Yr(e){var t=Ht(),l=xt;if(l!==null)return Br(t,l,e);Ht(),t=t.memoizedState,l=Ht();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function Gn(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Qe.updateQueue,t===null&&(t=bs(),Qe.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function qr(){return Ht().memoizedState}function ws(e,t,l,a){var n=sl();Qe.flags|=e,n.memoizedState=Gn(1|t,{destroy:void 0},l,a===void 0?null:a)}function Ns(e,t,l,a){var n=Ht();a=a===void 0?null:a;var i=n.memoizedState.inst;xt!==null&&a!==null&&Wc(a,xt.memoizedState.deps)?n.memoizedState=Gn(t,i,l,a):(Qe.flags|=e,n.memoizedState=Gn(1|t,i,l,a))}function Xr(e,t){ws(8390656,8,e,t)}function iu(e,t){Ns(2048,8,e,t)}function Sm(e){Qe.flags|=4;var t=Qe.updateQueue;if(t===null)t=bs(),Qe.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Gr(e){var t=Ht().memoizedState;return Sm({ref:t,nextImpl:e}),function(){if((mt&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Vr(e,t){return Ns(4,2,e,t)}function Zr(e,t){return Ns(4,4,e,t)}function Qr(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kr(e,t,l){l=l!=null?l.concat([e]):null,Ns(4,4,Qr.bind(null,t,e),l)}function su(){}function Kr(e,t){var l=Ht();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Wc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Jr(e,t){var l=Ht();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Wc(t,a[1]))return a[0];if(a=e(),hn){rl(!0);try{e()}finally{rl(!1)}}return l.memoizedState=[a,t],a}function cu(e,t,l){return l===void 0||(ga&1073741824)!==0&&(nt&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Ff(),Qe.lanes|=e,Xa|=e,l)}function Wr(e,t,l,a){return Sl(l,t)?l:Yn.current!==null?(e=cu(e,l,a),Sl(e,t)||(Vt=!0),e):(ga&42)===0||(ga&1073741824)!==0&&(nt&261930)===0?(Vt=!0,e.memoizedState=l):(e=Ff(),Qe.lanes|=e,Xa|=e,t)}function Fr(e,t,l,a,n){var i=ee.p;ee.p=i!==0&&8>i?i:8;var c=E.T,o={};E.T=o,ru(e,!1,t,l);try{var m=n(),C=E.S;if(C!==null&&C(o,m),m!==null&&typeof m=="object"&&typeof m.then=="function"){var U=gm(m,a);Ni(e,t,U,Tl(e))}else Ni(e,t,a,Tl(e))}catch(Y){Ni(e,t,{then:function(){},status:"rejected",reason:Y},Tl())}finally{ee.p=i,c!==null&&o.types!==null&&(c.types=o.types),E.T=c}}function jm(){}function uu(e,t,l,a){if(e.tag!==5)throw Error(r(476));var n=$r(e).queue;Fr(e,n,t,le,l===null?jm:function(){return Ir(e),l(a)})}function $r(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:le},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ir(e){var t=$r(e);t.next===null&&(t=e.alternate.memoizedState),Ni(e,t.next.queue,{},Tl())}function ou(){return Wt(Xi)}function Pr(){return Ht().memoizedState}function ef(){return Ht().memoizedState}function wm(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Tl();e=La(l);var a=Ua(t,e,l);a!==null&&(pl(a,t,l),xi(a,t,l)),t={cache:Bc()},e.payload=t;return}t=t.return}}function Nm(e,t,l){var a=Tl();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ms(e)?lf(t,l):(l=Tc(e,t,l,a),l!==null&&(pl(l,e,a),af(l,t,a)))}function tf(e,t,l){var a=Tl();Ni(e,t,l,a)}function Ni(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ms(e))lf(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var c=t.lastRenderedState,o=i(c,l);if(n.hasEagerState=!0,n.eagerState=o,Sl(o,c))return is(e,t,n,0),Nt===null&&ns(),!1}catch{}finally{}if(l=Tc(e,t,n,a),l!==null)return pl(l,e,a),af(l,t,a),!0}return!1}function ru(e,t,l,a){if(a={lane:2,revertLane:Gu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ms(e)){if(t)throw Error(r(479))}else t=Tc(e,l,a,2),t!==null&&pl(t,e,2)}function Ms(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function lf(e,t){qn=vs=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function af(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,$(e,l)}}var Mi={readContext:Wt,use:Ss,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};Mi.useEffectEvent=_t;var nf={readContext:Wt,use:Ss,useCallback:function(e,t){return sl().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:Xr,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,ws(4194308,4,Qr.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ws(4194308,4,e,t)},useInsertionEffect:function(e,t){ws(4,2,e,t)},useMemo:function(e,t){var l=sl();t=t===void 0?null:t;var a=e();if(hn){rl(!0);try{e()}finally{rl(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=sl();if(l!==void 0){var n=l(t);if(hn){rl(!0);try{l(t)}finally{rl(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Nm.bind(null,Qe,e),[a.memoizedState,e]},useRef:function(e){var t=sl();return e={current:e},t.memoizedState=e},useState:function(e){e=au(e);var t=e.queue,l=tf.bind(null,Qe,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:su,useDeferredValue:function(e,t){var l=sl();return cu(l,e,t)},useTransition:function(){var e=au(!1);return e=Fr.bind(null,Qe,e.queue,!0,!1),sl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Qe,n=sl();if(st){if(l===void 0)throw Error(r(407));l=l()}else{if(l=t(),Nt===null)throw Error(r(349));(nt&127)!==0||Mr(a,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,Xr(Tr.bind(null,a,i,e),[e]),a.flags|=2048,Gn(9,{destroy:void 0},Cr.bind(null,a,i,l,t),null),l},useId:function(){var e=sl(),t=Nt.identifierPrefix;if(st){var l=ta,a=ea;l=(a&~(1<<32-qt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=xs++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=pm++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ou,useFormState:Ur,useActionState:Ur,useOptimistic:function(e){var t=sl();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=ru.bind(null,Qe,!0,l),l.dispatch=t,[e,t]},useMemoCache:eu,useCacheRefresh:function(){return sl().memoizedState=wm.bind(null,Qe)},useEffectEvent:function(e){var t=sl(),l={impl:e};return t.memoizedState=l,function(){if((mt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},fu={readContext:Wt,use:Ss,useCallback:Kr,useContext:Wt,useEffect:iu,useImperativeHandle:kr,useInsertionEffect:Vr,useLayoutEffect:Zr,useMemo:Jr,useReducer:js,useRef:qr,useState:function(){return js(pa)},useDebugValue:su,useDeferredValue:function(e,t){var l=Ht();return Wr(l,xt.memoizedState,e,t)},useTransition:function(){var e=js(pa)[0],t=Ht().memoizedState;return[typeof e=="boolean"?e:wi(e),t]},useSyncExternalStore:Nr,useId:Pr,useHostTransitionStatus:ou,useFormState:Hr,useActionState:Hr,useOptimistic:function(e,t){var l=Ht();return zr(l,xt,e,t)},useMemoCache:eu,useCacheRefresh:ef};fu.useEffectEvent=Gr;var sf={readContext:Wt,use:Ss,useCallback:Kr,useContext:Wt,useEffect:iu,useImperativeHandle:kr,useInsertionEffect:Vr,useLayoutEffect:Zr,useMemo:Jr,useReducer:lu,useRef:qr,useState:function(){return lu(pa)},useDebugValue:su,useDeferredValue:function(e,t){var l=Ht();return xt===null?cu(l,e,t):Wr(l,xt.memoizedState,e,t)},useTransition:function(){var e=lu(pa)[0],t=Ht().memoizedState;return[typeof e=="boolean"?e:wi(e),t]},useSyncExternalStore:Nr,useId:Pr,useHostTransitionStatus:ou,useFormState:Yr,useActionState:Yr,useOptimistic:function(e,t){var l=Ht();return xt!==null?zr(l,xt,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:eu,useCacheRefresh:ef};sf.useEffectEvent=Gr;function du(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:j({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var mu={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Tl(),n=La(a);n.payload=t,l!=null&&(n.callback=l),t=Ua(e,n,a),t!==null&&(pl(t,e,a),xi(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Tl(),n=La(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=Ua(e,n,a),t!==null&&(pl(t,e,a),xi(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Tl(),a=La(l);a.tag=2,t!=null&&(a.callback=t),t=Ua(e,a,l),t!==null&&(pl(t,e,l),xi(t,e,l))}};function cf(e,t,l,a,n,i,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,c):t.prototype&&t.prototype.isPureReactComponent?!fi(l,a)||!fi(n,i):!0}function uf(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&mu.enqueueReplaceState(t,t.state,null)}function yn(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=j({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function of(e){as(e)}function rf(e){console.error(e)}function ff(e){as(e)}function Cs(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function df(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function hu(e,t,l){return l=La(l),l.tag=3,l.payload={element:null},l.callback=function(){Cs(e,t)},l}function mf(e){return e=La(e),e.tag=3,e}function hf(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=a.value;e.payload=function(){return n(i)},e.callback=function(){df(t,l,a)}}var c=l.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(e.callback=function(){df(t,l,a),typeof n!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var o=a.stack;this.componentDidCatch(a.value,{componentStack:o!==null?o:""})})}function Mm(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&_n(t,l,n,!0),l=wl.current,l!==null){switch(l.tag){case 31:case 13:return ql===null?Bs():l.alternate===null&&Lt===0&&(Lt=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===ms?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Yu(e,a,n)),!1;case 22:return l.flags|=65536,a===ms?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Yu(e,a,n)),!1}throw Error(r(435,l.tag))}return Yu(e,a,n),Bs(),!1}if(st)return t=wl.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==Oc&&(e=Error(r(422),{cause:a}),hi(Ul(e,l)))):(a!==Oc&&(t=Error(r(423),{cause:a}),hi(Ul(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Ul(a,l),n=hu(e.stateNode,a,n),Zc(e,n),Lt!==4&&(Lt=2)),!1;var i=Error(r(520),{cause:a});if(i=Ul(i,l),Oi===null?Oi=[i]:Oi.push(i),Lt!==4&&(Lt=2),t===null)return!0;a=Ul(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=hu(l.stateNode,a,e),Zc(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ga===null||!Ga.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=mf(n),hf(n,e,l,a),Zc(l,n),!1}l=l.return}while(l!==null);return!1}var yu=Error(r(461)),Vt=!1;function Ft(e,t,l,a){t.child=e===null?pr(t,null,l,a):mn(t,e.child,l,a)}function yf(e,t,l,a,n){l=l.render;var i=t.ref;if("ref"in a){var c={};for(var o in a)o!=="ref"&&(c[o]=a[o])}else c=a;return on(t),a=Fc(e,t,l,c,i,n),o=$c(),e!==null&&!Vt?(Ic(e,t,n),va(e,t,n)):(st&&o&&Dc(t),t.flags|=1,Ft(e,t,a,n),t.child)}function gf(e,t,l,a,n){if(e===null){var i=l.type;return typeof i=="function"&&!Ec(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,pf(e,t,i,a,n)):(e=cs(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!wu(e,n)){var c=i.memoizedProps;if(l=l.compare,l=l!==null?l:fi,l(c,a)&&e.ref===t.ref)return va(e,t,n)}return t.flags|=1,e=da(i,a),e.ref=t.ref,e.return=t,t.child=e}function pf(e,t,l,a,n){if(e!==null){var i=e.memoizedProps;if(fi(i,a)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=a=i,wu(e,n))(e.flags&131072)!==0&&(Vt=!0);else return t.lanes=e.lanes,va(e,t,n)}return gu(e,t,l,a,n)}function vf(e,t,l,a){var n=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~i}else a=0,t.child=null;return xf(e,t,i,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&fs(t,i!==null?i.cachePool:null),i!==null?br(t,i):kc(),Sr(t);else return a=t.lanes=536870912,xf(e,t,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(fs(t,i.cachePool),br(t,i),Ba(),t.memoizedState=null):(e!==null&&fs(t,null),kc(),Ba());return Ft(e,t,n,l),t.child}function Ci(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xf(e,t,l,a,n){var i=qc();return i=i===null?null:{parent:Xt._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&fs(t,null),kc(),Sr(t),e!==null&&_n(e,t,a,!0),t.childLanes=n,null}function Ts(e,t){return t=As({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bf(e,t,l){return mn(t,e.child,null,l),e=Ts(t,t.pendingProps),e.flags|=2,Nl(t),t.memoizedState=null,e}function Cm(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(st){if(a.mode==="hidden")return e=Ts(t,a),t.lanes=536870912,Ci(null,e);if(Jc(t),(e=Et)?(e=Rd(e,Yl),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},l=lr(e),l.return=t,t.child=l,Jt=t,Et=null)):e=null,e===null)throw Ra(t);return t.lanes=536870912,null}return Ts(t,a)}var i=e.memoizedState;if(i!==null){var c=i.dehydrated;if(Jc(t),n)if(t.flags&256)t.flags&=-257,t=bf(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Vt||_n(e,t,l,!1),n=(l&e.childLanes)!==0,Vt||n){if(a=Nt,a!==null&&(c=d(a,l),c!==0&&c!==i.retryLane))throw i.retryLane=c,nn(e,c),pl(a,e,c),yu;Bs(),t=bf(e,t,l)}else e=i.treeContext,Et=Xl(c.nextSibling),Jt=t,st=!0,Da=null,Yl=!1,e!==null&&ir(t,e),t=Ts(t,a),t.flags|=4096;return t}return e=da(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Es(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function gu(e,t,l,a,n){return on(t),l=Fc(e,t,l,a,void 0,n),a=$c(),e!==null&&!Vt?(Ic(e,t,n),va(e,t,n)):(st&&a&&Dc(t),t.flags|=1,Ft(e,t,l,n),t.child)}function Sf(e,t,l,a,n,i){return on(t),t.updateQueue=null,l=wr(t,a,l,n),jr(e),a=$c(),e!==null&&!Vt?(Ic(e,t,i),va(e,t,i)):(st&&a&&Dc(t),t.flags|=1,Ft(e,t,l,i),t.child)}function jf(e,t,l,a,n){if(on(t),t.stateNode===null){var i=zn,c=l.contextType;typeof c=="object"&&c!==null&&(i=Wt(c)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=mu,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},Gc(t),c=l.contextType,i.context=typeof c=="object"&&c!==null?Wt(c):zn,i.state=t.memoizedState,c=l.getDerivedStateFromProps,typeof c=="function"&&(du(t,l,c,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(c=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),c!==i.state&&mu.enqueueReplaceState(i,i.state,null),Si(t,a,i,n),bi(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var o=t.memoizedProps,m=yn(l,o);i.props=m;var C=i.context,U=l.contextType;c=zn,typeof U=="object"&&U!==null&&(c=Wt(U));var Y=l.getDerivedStateFromProps;U=typeof Y=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,U||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||C!==c)&&uf(t,i,a,c),_a=!1;var z=t.memoizedState;i.state=z,Si(t,a,i,n),bi(),C=t.memoizedState,o||z!==C||_a?(typeof Y=="function"&&(du(t,l,Y,a),C=t.memoizedState),(m=_a||cf(t,l,m,a,z,C,c))?(U||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=C),i.props=a,i.state=C,i.context=c,a=m):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Vc(e,t),c=t.memoizedProps,U=yn(l,c),i.props=U,Y=t.pendingProps,z=i.context,C=l.contextType,m=zn,typeof C=="object"&&C!==null&&(m=Wt(C)),o=l.getDerivedStateFromProps,(C=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(c!==Y||z!==m)&&uf(t,i,a,m),_a=!1,z=t.memoizedState,i.state=z,Si(t,a,i,n),bi();var R=t.memoizedState;c!==Y||z!==R||_a||e!==null&&e.dependencies!==null&&os(e.dependencies)?(typeof o=="function"&&(du(t,l,o,a),R=t.memoizedState),(U=_a||cf(t,l,U,a,z,R,m)||e!==null&&e.dependencies!==null&&os(e.dependencies))?(C||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,R,m),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,R,m)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=R),i.props=a,i.state=R,i.context=m,a=U):(typeof i.componentDidUpdate!="function"||c===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,Es(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=mn(t,e.child,null,n),t.child=mn(t,null,l,n)):Ft(e,t,l,n),t.memoizedState=i.state,e=t.child):e=va(e,t,n),e}function wf(e,t,l,a){return cn(),t.flags|=256,Ft(e,t,l,a),t.child}var pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vu(e){return{baseLanes:e,cachePool:fr()}}function xu(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Cl),e}function Nf(e,t,l){var a=t.pendingProps,n=!1,i=(t.flags&128)!==0,c;if((c=i)||(c=e!==null&&e.memoizedState===null?!1:(Ut.current&2)!==0),c&&(n=!0,t.flags&=-129),c=(t.flags&32)!==0,t.flags&=-33,e===null){if(st){if(n?Ha(t):Ba(),(e=Et)?(e=Rd(e,Yl),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},l=lr(e),l.return=t,t.child=l,Jt=t,Et=null)):e=null,e===null)throw Ra(t);return to(e)?t.lanes=32:t.lanes=536870912,null}var o=a.children;return a=a.fallback,n?(Ba(),n=t.mode,o=As({mode:"hidden",children:o},n),a=sn(a,n,l,null),o.return=t,a.return=t,o.sibling=a,t.child=o,a=t.child,a.memoizedState=vu(l),a.childLanes=xu(e,c,l),t.memoizedState=pu,Ci(null,a)):(Ha(t),bu(t,o))}var m=e.memoizedState;if(m!==null&&(o=m.dehydrated,o!==null)){if(i)t.flags&256?(Ha(t),t.flags&=-257,t=Su(e,t,l)):t.memoizedState!==null?(Ba(),t.child=e.child,t.flags|=128,t=null):(Ba(),o=a.fallback,n=t.mode,a=As({mode:"visible",children:a.children},n),o=sn(o,n,l,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,mn(t,e.child,null,l),a=t.child,a.memoizedState=vu(l),a.childLanes=xu(e,c,l),t.memoizedState=pu,t=Ci(null,a));else if(Ha(t),to(o)){if(c=o.nextSibling&&o.nextSibling.dataset,c)var C=c.dgst;c=C,a=Error(r(419)),a.stack="",a.digest=c,hi({value:a,source:null,stack:null}),t=Su(e,t,l)}else if(Vt||_n(e,t,l,!1),c=(l&e.childLanes)!==0,Vt||c){if(c=Nt,c!==null&&(a=d(c,l),a!==0&&a!==m.retryLane))throw m.retryLane=a,nn(e,a),pl(c,e,a),yu;eo(o)||Bs(),t=Su(e,t,l)}else eo(o)?(t.flags|=192,t.child=e.child,t=null):(e=m.treeContext,Et=Xl(o.nextSibling),Jt=t,st=!0,Da=null,Yl=!1,e!==null&&ir(t,e),t=bu(t,a.children),t.flags|=4096);return t}return n?(Ba(),o=a.fallback,n=t.mode,m=e.child,C=m.sibling,a=da(m,{mode:"hidden",children:a.children}),a.subtreeFlags=m.subtreeFlags&65011712,C!==null?o=da(C,o):(o=sn(o,n,l,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,Ci(null,a),a=t.child,o=e.child.memoizedState,o===null?o=vu(l):(n=o.cachePool,n!==null?(m=Xt._currentValue,n=n.parent!==m?{parent:m,pool:m}:n):n=fr(),o={baseLanes:o.baseLanes|l,cachePool:n}),a.memoizedState=o,a.childLanes=xu(e,c,l),t.memoizedState=pu,Ci(e.child,a)):(Ha(t),l=e.child,e=l.sibling,l=da(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(c=t.deletions,c===null?(t.deletions=[e],t.flags|=16):c.push(e)),t.child=l,t.memoizedState=null,l)}function bu(e,t){return t=As({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function As(e,t){return e=jl(22,e,null,t),e.lanes=0,e}function Su(e,t,l){return mn(t,e.child,null,l),e=bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mf(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Uc(e.return,t,l)}function ju(e,t,l,a,n,i){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:i}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=l,c.tailMode=n,c.treeForkCount=i)}function Cf(e,t,l){var a=t.pendingProps,n=a.revealOrder,i=a.tail;a=a.children;var c=Ut.current,o=(c&2)!==0;if(o?(c=c&1|2,t.flags|=128):c&=1,ue(Ut,c),Ft(e,t,a,l),a=st?mi:0,!o&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mf(e,l,t);else if(e.tag===19)Mf(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&ps(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),ju(t,!1,n,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&ps(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}ju(t,!0,l,null,i,a);break;case"together":ju(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function va(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Xa|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(_n(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,l=da(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=da(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function wu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&os(e)))}function Tm(e,t,l){switch(t.tag){case 3:ht(t,t.stateNode.containerInfo),Oa(t,Xt,e.memoizedState.cache),cn();break;case 27:case 5:tl(t);break;case 4:ht(t,t.stateNode.containerInfo);break;case 10:Oa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Jc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ha(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Nf(e,t,l):(Ha(t),e=va(e,t,l),e!==null?e.sibling:null);Ha(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(_n(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return Cf(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ue(Ut,Ut.current),a)break;return null;case 22:return t.lanes=0,vf(e,t,l,t.pendingProps);case 24:Oa(t,Xt,e.memoizedState.cache)}return va(e,t,l)}function Tf(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Vt=!0;else{if(!wu(e,l)&&(t.flags&128)===0)return Vt=!1,Tm(e,t,l);Vt=(e.flags&131072)!==0}else Vt=!1,st&&(t.flags&1048576)!==0&&nr(t,mi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=fn(t.elementType),t.type=e,typeof e=="function")Ec(e)?(a=yn(e,a),t.tag=1,t=jf(null,t,e,a,l)):(t.tag=0,t=gu(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===Se){t.tag=11,t=yf(null,t,e,a,l);break e}else if(n===k){t.tag=14,t=gf(null,t,e,a,l);break e}}throw t=at(e)||e,Error(r(306,t,""))}}return t;case 0:return gu(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=yn(a,t.pendingProps),jf(e,t,a,n,l);case 3:e:{if(ht(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var i=t.memoizedState;n=i.element,Vc(e,t),Si(t,a,null,l);var c=t.memoizedState;if(a=c.cache,Oa(t,Xt,a),a!==i.cache&&Hc(t,[Xt],l,!0),bi(),a=c.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:c.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=wf(e,t,a,l);break e}else if(a!==n){n=Ul(Error(r(424)),t),hi(n),t=wf(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Et=Xl(e.firstChild),Jt=t,st=!0,Da=null,Yl=!0,l=pr(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(cn(),a===n){t=va(e,t,l);break e}Ft(e,t,a,l)}t=t.child}return t;case 26:return Es(e,t),e===null?(l=Bd(t.type,null,t.pendingProps,null))?t.memoizedState=l:st||(l=t.type,e=t.pendingProps,a=Qs(Xe.current).createElement(l),a[se]=t,a[I]=e,$t(a,l,e),et(a),t.stateNode=a):t.memoizedState=Bd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return tl(t),e===null&&st&&(a=t.stateNode=Ld(t.type,t.pendingProps,Xe.current),Jt=t,Yl=!0,n=Et,ka(t.type)?(lo=n,Et=Xl(a.firstChild)):Et=n),Ft(e,t,t.pendingProps.children,l),Es(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&st&&((n=a=Et)&&(a=ah(a,t.type,t.pendingProps,Yl),a!==null?(t.stateNode=a,Jt=t,Et=Xl(a.firstChild),Yl=!1,n=!0):n=!1),n||Ra(t)),tl(t),n=t.type,i=t.pendingProps,c=e!==null?e.memoizedProps:null,a=i.children,$u(n,i)?a=null:c!==null&&$u(n,c)&&(t.flags|=32),t.memoizedState!==null&&(n=Fc(e,t,vm,null,null,l),Xi._currentValue=n),Es(e,t),Ft(e,t,a,l),t.child;case 6:return e===null&&st&&((e=l=Et)&&(l=nh(l,t.pendingProps,Yl),l!==null?(t.stateNode=l,Jt=t,Et=null,e=!0):e=!1),e||Ra(t)),null;case 13:return Nf(e,t,l);case 4:return ht(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=mn(t,null,a,l):Ft(e,t,a,l),t.child;case 11:return yf(e,t,t.type,t.pendingProps,l);case 7:return Ft(e,t,t.pendingProps,l),t.child;case 8:return Ft(e,t,t.pendingProps.children,l),t.child;case 12:return Ft(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Oa(t,t.type,a.value),Ft(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,on(t),n=Wt(n),a=a(n),t.flags|=1,Ft(e,t,a,l),t.child;case 14:return gf(e,t,t.type,t.pendingProps,l);case 15:return pf(e,t,t.type,t.pendingProps,l);case 19:return Cf(e,t,l);case 31:return Cm(e,t,l);case 22:return vf(e,t,l,t.pendingProps);case 24:return on(t),a=Wt(Xt),e===null?(n=qc(),n===null&&(n=Nt,i=Bc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:a,cache:n},Gc(t),Oa(t,Xt,n)):((e.lanes&l)!==0&&(Vc(e,t),Si(t,null,null,l),bi()),n=e.memoizedState,i=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Oa(t,Xt,a)):(a=i.cache,Oa(t,Xt,a),a!==n.cache&&Hc(t,[Xt],l,!0))),Ft(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function xa(e){e.flags|=4}function Nu(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(ed())e.flags|=8192;else throw dn=ms,Xc}else e.flags&=-16777217}function Ef(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t))if(ed())e.flags|=8192;else throw dn=ms,Xc}function zs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wn():536870912,e.lanes|=t,kn|=t)}function Ti(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Em(e,t,l){var a=t.pendingProps;switch(Rc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return At(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ya(Xt),yt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(On(t)?xa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_c())),At(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(xa(t),i!==null?(At(t),Ef(t,i)):(At(t),Nu(t,n,null,a,l))):i?i!==e.memoizedState?(xa(t),At(t),Ef(t,i)):(At(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&xa(t),At(t),Nu(t,n,e,a,l)),null;case 27:if(El(t),l=Xe.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&xa(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return At(t),null}e=he.current,On(t)?sr(t):(e=Ld(n,a,l),t.stateNode=e,xa(t))}return At(t),null;case 5:if(El(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&xa(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return At(t),null}if(i=he.current,On(t))sr(t);else{var c=Qs(Xe.current);switch(i){case 1:i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=c.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=c.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=c.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?c.createElement("select",{is:a.is}):c.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?c.createElement(n,{is:a.is}):c.createElement(n)}}i[se]=t,i[I]=a;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=i;e:switch($t(i,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&xa(t)}}return At(t),Nu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&xa(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=Xe.current,On(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=Jt,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[se]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Nd(e.nodeValue,l)),e||Ra(t,!0)}else e=Qs(e).createTextNode(a),e[se]=t,t.stateNode=e}return At(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=On(t),l!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[se]=t}else cn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;At(t),e=!1}else l=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Nl(t),t):(Nl(t),null);if((t.flags&128)!==0)throw Error(r(558))}return At(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=On(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(r(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));n[se]=t}else cn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;At(t),n=!1}else n=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Nl(t),t):(Nl(t),null)}return Nl(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),zs(t,t.updateQueue),At(t),null);case 4:return yt(),e===null&&ku(t.stateNode.containerInfo),At(t),null;case 10:return ya(t.type),At(t),null;case 19:if(L(Ut),a=t.memoizedState,a===null)return At(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Ti(a,!1);else{if(Lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=ps(e),i!==null){for(t.flags|=128,Ti(a,!1),e=i.updateQueue,t.updateQueue=e,zs(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)tr(l,e),l=l.sibling;return ue(Ut,Ut.current&1|2),st&&ma(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Yt()>Ls&&(t.flags|=128,n=!0,Ti(a,!1),t.lanes=4194304)}else{if(!n)if(e=ps(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,zs(t,e),Ti(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!st)return At(t),null}else 2*Yt()-a.renderingStartTime>Ls&&l!==536870912&&(t.flags|=128,n=!0,Ti(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Yt(),e.sibling=null,l=Ut.current,ue(Ut,n?l&1|2:l&1),st&&ma(t,a.treeForkCount),e):(At(t),null);case 22:case 23:return Nl(t),Kc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),l=t.updateQueue,l!==null&&zs(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&L(rn),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ya(Xt),At(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function Am(e,t){switch(Rc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ya(Xt),yt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return El(t),null;case 31:if(t.memoizedState!==null){if(Nl(t),t.alternate===null)throw Error(r(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Nl(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Ut),null;case 4:return yt(),null;case 10:return ya(t.type),null;case 22:case 23:return Nl(t),Kc(),e!==null&&L(rn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ya(Xt),null;case 25:return null;default:return null}}function Af(e,t){switch(Rc(t),t.tag){case 3:ya(Xt),yt();break;case 26:case 27:case 5:El(t);break;case 4:yt();break;case 31:t.memoizedState!==null&&Nl(t);break;case 13:Nl(t);break;case 19:L(Ut);break;case 10:ya(t.type);break;case 22:case 23:Nl(t),Kc(),e!==null&&L(rn);break;case 24:ya(Xt)}}function Ei(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var i=l.create,c=l.inst;a=i(),c.destroy=a}l=l.next}while(l!==n)}}catch(o){pt(t,t.return,o)}}function Ya(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){var c=a.inst,o=c.destroy;if(o!==void 0){c.destroy=void 0,n=t;var m=l,C=o;try{C()}catch(U){pt(n,m,U)}}}a=a.next}while(a!==i)}}catch(U){pt(t,t.return,U)}}function zf(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{xr(t,l)}catch(a){pt(e,e.return,a)}}}function Df(e,t,l){l.props=yn(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){pt(e,t,a)}}function Ai(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){pt(e,t,n)}}function la(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){pt(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){pt(e,t,n)}else l.current=null}function Rf(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){pt(e,e.return,n)}}function Mu(e,t,l){try{var a=e.stateNode;$m(a,e.type,l,t),a[I]=t}catch(n){pt(e,e.return,n)}}function Of(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ka(e.type)||e.tag===4}function Cu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Of(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ka(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tu(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=_l));else if(a!==4&&(a===27&&ka(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Tu(e,t,l),e=e.sibling;e!==null;)Tu(e,t,l),e=e.sibling}function Ds(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&ka(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ds(e,t,l),e=e.sibling;e!==null;)Ds(e,t,l),e=e.sibling}function _f(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);$t(t,a,l),t[se]=e,t[I]=l}catch(i){pt(e,e.return,i)}}var ba=!1,Zt=!1,Eu=!1,Lf=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function zm(e,t){if(e=e.containerInfo,Wu=Is,e=ko(e),Sc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var c=0,o=-1,m=-1,C=0,U=0,Y=e,z=null;t:for(;;){for(var R;Y!==l||n!==0&&Y.nodeType!==3||(o=c+n),Y!==i||a!==0&&Y.nodeType!==3||(m=c+a),Y.nodeType===3&&(c+=Y.nodeValue.length),(R=Y.firstChild)!==null;)z=Y,Y=R;for(;;){if(Y===e)break t;if(z===l&&++C===n&&(o=c),z===i&&++U===a&&(m=c),(R=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=R}l=o===-1||m===-1?null:{start:o,end:m}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fu={focusedElem:e,selectionRange:l},Is=!1,Kt=t;Kt!==null;)if(t=Kt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Kt=e;else for(;Kt!==null;){switch(t=Kt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var Me=yn(l.type,n);e=a.getSnapshotBeforeUpdate(Me,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(Ye){pt(l,l.return,Ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Pu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Kt=e;break}Kt=t.return}}function Uf(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:ja(e,l),a&4&&Ei(5,l);break;case 1:if(ja(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(c){pt(l,l.return,c)}else{var n=yn(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(c){pt(l,l.return,c)}}a&64&&zf(l),a&512&&Ai(l,l.return);break;case 3:if(ja(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{xr(e,t)}catch(c){pt(l,l.return,c)}}break;case 27:t===null&&a&4&&_f(l);case 26:case 5:ja(e,l),t===null&&a&4&&Rf(l),a&512&&Ai(l,l.return);break;case 12:ja(e,l);break;case 31:ja(e,l),a&4&&Yf(e,l);break;case 13:ja(e,l),a&4&&qf(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Ym.bind(null,l),ih(e,l))));break;case 22:if(a=l.memoizedState!==null||ba,!a){t=t!==null&&t.memoizedState!==null||Zt,n=ba;var i=Zt;ba=a,(Zt=t)&&!i?wa(e,l,(l.subtreeFlags&8772)!==0):ja(e,l),ba=n,Zt=i}break;case 30:break;default:ja(e,l)}}function Hf(e){var t=e.alternate;t!==null&&(e.alternate=null,Hf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dt=null,ml=!1;function Sa(e,t,l){for(l=l.child;l!==null;)Bf(e,t,l),l=l.sibling}function Bf(e,t,l){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(kt,l)}catch{}switch(l.tag){case 26:Zt||la(l,t),Sa(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Zt||la(l,t);var a=Dt,n=ml;ka(l.type)&&(Dt=l.stateNode,ml=!1),Sa(e,t,l),Bi(l.stateNode),Dt=a,ml=n;break;case 5:Zt||la(l,t);case 6:if(a=Dt,n=ml,Dt=null,Sa(e,t,l),Dt=a,ml=n,Dt!==null)if(ml)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(l.stateNode)}catch(i){pt(l,t,i)}else try{Dt.removeChild(l.stateNode)}catch(i){pt(l,t,i)}break;case 18:Dt!==null&&(ml?(e=Dt,zd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ei(e)):zd(Dt,l.stateNode));break;case 4:a=Dt,n=ml,Dt=l.stateNode.containerInfo,ml=!0,Sa(e,t,l),Dt=a,ml=n;break;case 0:case 11:case 14:case 15:Ya(2,l,t),Zt||Ya(4,l,t),Sa(e,t,l);break;case 1:Zt||(la(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Df(l,t,a)),Sa(e,t,l);break;case 21:Sa(e,t,l);break;case 22:Zt=(a=Zt)||l.memoizedState!==null,Sa(e,t,l),Zt=a;break;default:Sa(e,t,l)}}function Yf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ei(e)}catch(l){pt(t,t.return,l)}}}function qf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ei(e)}catch(l){pt(t,t.return,l)}}function Dm(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Lf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Lf),t;default:throw Error(r(435,e.tag))}}function Rs(e,t){var l=Dm(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=qm.bind(null,e,a);a.then(n,n)}})}function hl(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],i=e,c=t,o=c;e:for(;o!==null;){switch(o.tag){case 27:if(ka(o.type)){Dt=o.stateNode,ml=!1;break e}break;case 5:Dt=o.stateNode,ml=!1;break e;case 3:case 4:Dt=o.stateNode.containerInfo,ml=!0;break e}o=o.return}if(Dt===null)throw Error(r(160));Bf(i,c,n),Dt=null,ml=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Xf(t,e),t=t.sibling}var Wl=null;function Xf(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hl(t,e),yl(e),a&4&&(Ya(3,e,e.return),Ei(3,e),Ya(5,e,e.return));break;case 1:hl(t,e),yl(e),a&512&&(Zt||l===null||la(l,l.return)),a&64&&ba&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=Wl;if(hl(t,e),yl(e),a&512&&(Zt||l===null||la(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Te]||i[se]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(a),n.head.insertBefore(i,n.querySelector("head > title"))),$t(i,a,l),i[se]=e,et(i),a=i;break e;case"link":var c=Xd("link","href",n).get(a+(l.href||""));if(c){for(var o=0;o<c.length;o++)if(i=c[o],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){c.splice(o,1);break t}}i=n.createElement(a),$t(i,a,l),n.head.appendChild(i);break;case"meta":if(c=Xd("meta","content",n).get(a+(l.content||""))){for(o=0;o<c.length;o++)if(i=c[o],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){c.splice(o,1);break t}}i=n.createElement(a),$t(i,a,l),n.head.appendChild(i);break;default:throw Error(r(468,a))}i[se]=e,et(i),a=i}e.stateNode=a}else Gd(n,e.type,e.stateNode);else e.stateNode=qd(n,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?Gd(n,e.type,e.stateNode):qd(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Mu(e,e.memoizedProps,l.memoizedProps)}break;case 27:hl(t,e),yl(e),a&512&&(Zt||l===null||la(l,l.return)),l!==null&&a&4&&Mu(e,e.memoizedProps,l.memoizedProps);break;case 5:if(hl(t,e),yl(e),a&512&&(Zt||l===null||la(l,l.return)),e.flags&32){n=e.stateNode;try{Ot(n,"")}catch(Me){pt(e,e.return,Me)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Mu(e,n,l!==null?l.memoizedProps:n)),a&1024&&(Eu=!0);break;case 6:if(hl(t,e),yl(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(Me){pt(e,e.return,Me)}}break;case 3:if(Js=null,n=Wl,Wl=ks(t.containerInfo),hl(t,e),Wl=n,yl(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{ei(t.containerInfo)}catch(Me){pt(e,e.return,Me)}Eu&&(Eu=!1,Gf(e));break;case 4:a=Wl,Wl=ks(e.stateNode.containerInfo),hl(t,e),yl(e),Wl=a;break;case 12:hl(t,e),yl(e);break;case 31:hl(t,e),yl(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Rs(e,a)));break;case 13:hl(t,e),yl(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_s=Yt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Rs(e,a)));break;case 22:n=e.memoizedState!==null;var m=l!==null&&l.memoizedState!==null,C=ba,U=Zt;if(ba=C||n,Zt=U||m,hl(t,e),Zt=U,ba=C,yl(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||m||ba||Zt||gn(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){m=l=t;try{if(i=m.stateNode,n)c=i.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{o=m.stateNode;var Y=m.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;o.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(Me){pt(m,m.return,Me)}}}else if(t.tag===6){if(l===null){m=t;try{m.stateNode.nodeValue=n?"":m.memoizedProps}catch(Me){pt(m,m.return,Me)}}}else if(t.tag===18){if(l===null){m=t;try{var R=m.stateNode;n?Dd(R,!0):Dd(m.stateNode,!1)}catch(Me){pt(m,m.return,Me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Rs(e,l))));break;case 19:hl(t,e),yl(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Rs(e,a)));break;case 30:break;case 21:break;default:hl(t,e),yl(e)}}function yl(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Of(a)){l=a;break}a=a.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var n=l.stateNode,i=Cu(e);Ds(e,i,n);break;case 5:var c=l.stateNode;l.flags&32&&(Ot(c,""),l.flags&=-33);var o=Cu(e);Ds(e,o,c);break;case 3:case 4:var m=l.stateNode.containerInfo,C=Cu(e);Tu(e,C,m);break;default:throw Error(r(161))}}catch(U){pt(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Gf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ja(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Uf(e,t.alternate,t),t=t.sibling}function gn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ya(4,t,t.return),gn(t);break;case 1:la(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Df(t,t.return,l),gn(t);break;case 27:Bi(t.stateNode);case 26:case 5:la(t,t.return),gn(t);break;case 22:t.memoizedState===null&&gn(t);break;case 30:gn(t);break;default:gn(t)}e=e.sibling}}function wa(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,i=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:wa(n,i,l),Ei(4,i);break;case 1:if(wa(n,i,l),a=i,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(C){pt(a,a.return,C)}if(a=i,n=a.updateQueue,n!==null){var o=a.stateNode;try{var m=n.shared.hiddenCallbacks;if(m!==null)for(n.shared.hiddenCallbacks=null,n=0;n<m.length;n++)vr(m[n],o)}catch(C){pt(a,a.return,C)}}l&&c&64&&zf(i),Ai(i,i.return);break;case 27:_f(i);case 26:case 5:wa(n,i,l),l&&a===null&&c&4&&Rf(i),Ai(i,i.return);break;case 12:wa(n,i,l);break;case 31:wa(n,i,l),l&&c&4&&Yf(n,i);break;case 13:wa(n,i,l),l&&c&4&&qf(n,i);break;case 22:i.memoizedState===null&&wa(n,i,l),Ai(i,i.return);break;case 30:break;default:wa(n,i,l)}t=t.sibling}}function Au(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&yi(l))}function zu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yi(e))}function Fl(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vf(e,t,l,a),t=t.sibling}function Vf(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Fl(e,t,l,a),n&2048&&Ei(9,t);break;case 1:Fl(e,t,l,a);break;case 3:Fl(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&yi(e)));break;case 12:if(n&2048){Fl(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,c=i.id,o=i.onPostCommit;typeof o=="function"&&o(c,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(m){pt(t,t.return,m)}}else Fl(e,t,l,a);break;case 31:Fl(e,t,l,a);break;case 13:Fl(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,c=t.alternate,t.memoizedState!==null?i._visibility&2?Fl(e,t,l,a):zi(e,t):i._visibility&2?Fl(e,t,l,a):(i._visibility|=2,Vn(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Au(c,t);break;case 24:Fl(e,t,l,a),n&2048&&zu(t.alternate,t);break;default:Fl(e,t,l,a)}}function Vn(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,c=t,o=l,m=a,C=c.flags;switch(c.tag){case 0:case 11:case 15:Vn(i,c,o,m,n),Ei(8,c);break;case 23:break;case 22:var U=c.stateNode;c.memoizedState!==null?U._visibility&2?Vn(i,c,o,m,n):zi(i,c):(U._visibility|=2,Vn(i,c,o,m,n)),n&&C&2048&&Au(c.alternate,c);break;case 24:Vn(i,c,o,m,n),n&&C&2048&&zu(c.alternate,c);break;default:Vn(i,c,o,m,n)}t=t.sibling}}function zi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:zi(l,a),n&2048&&Au(a.alternate,a);break;case 24:zi(l,a),n&2048&&zu(a.alternate,a);break;default:zi(l,a)}t=t.sibling}}var Di=8192;function Zn(e,t,l){if(e.subtreeFlags&Di)for(e=e.child;e!==null;)Zf(e,t,l),e=e.sibling}function Zf(e,t,l){switch(e.tag){case 26:Zn(e,t,l),e.flags&Di&&e.memoizedState!==null&&ph(l,Wl,e.memoizedState,e.memoizedProps);break;case 5:Zn(e,t,l);break;case 3:case 4:var a=Wl;Wl=ks(e.stateNode.containerInfo),Zn(e,t,l),Wl=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Di,Di=16777216,Zn(e,t,l),Di=a):Zn(e,t,l));break;default:Zn(e,t,l)}}function Qf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ri(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Kt=a,Kf(a,e)}Qf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kf(e),e=e.sibling}function kf(e){switch(e.tag){case 0:case 11:case 15:Ri(e),e.flags&2048&&Ya(9,e,e.return);break;case 3:Ri(e);break;case 12:Ri(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Os(e)):Ri(e);break;default:Ri(e)}}function Os(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Kt=a,Kf(a,e)}Qf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ya(8,t,t.return),Os(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Os(t));break;default:Os(t)}e=e.sibling}}function Kf(e,t){for(;Kt!==null;){var l=Kt;switch(l.tag){case 0:case 11:case 15:Ya(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:yi(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Kt=a;else e:for(l=e;Kt!==null;){a=Kt;var n=a.sibling,i=a.return;if(Hf(a),a===l){Kt=null;break e}if(n!==null){n.return=i,Kt=n;break e}Kt=i}}}var Rm={getCacheForType:function(e){var t=Wt(Xt),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return Wt(Xt).controller.signal}},Om=typeof WeakMap=="function"?WeakMap:Map,mt=0,Nt=null,tt=null,nt=0,gt=0,Ml=null,qa=!1,Qn=!1,Du=!1,Na=0,Lt=0,Xa=0,pn=0,Ru=0,Cl=0,kn=0,Oi=null,gl=null,Ou=!1,_s=0,Jf=0,Ls=1/0,Us=null,Ga=null,Qt=0,Va=null,Kn=null,Ma=0,_u=0,Lu=null,Wf=null,_i=0,Uu=null;function Tl(){return(mt&2)!==0&&nt!==0?nt&-nt:E.T!==null?Gu():te()}function Ff(){if(Cl===0)if((nt&536870912)===0||st){var e=ua;ua<<=1,(ua&3932160)===0&&(ua=262144),Cl=e}else Cl=536870912;return e=wl.current,e!==null&&(e.flags|=32),Cl}function pl(e,t,l){(e===Nt&&(gt===2||gt===9)||e.cancelPendingCommit!==null)&&(Jn(e,0),Za(e,nt,Cl,!1)),X(e,l),((mt&2)===0||e!==Nt)&&(e===Nt&&((mt&2)===0&&(pn|=l),Lt===4&&Za(e,nt,Cl,!1)),aa(e))}function $f(e,t,l){if((mt&6)!==0)throw Error(r(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||oa(e,t),n=a?Um(e,t):Bu(e,t,!0),i=a;do{if(n===0){Qn&&!a&&Za(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!_m(l)){n=Bu(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var c=0;else c=e.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){t=c;e:{var o=e;n=Oi;var m=o.current.memoizedState.isDehydrated;if(m&&(Jn(o,c).flags|=256),c=Bu(o,c,!1),c!==2){if(Du&&!m){o.errorRecoveryDisabledLanes|=i,pn|=i,n=4;break e}i=gl,gl=n,i!==null&&(gl===null?gl=i:gl.push.apply(gl,i))}n=c}if(i=!1,n!==2)continue}}if(n===1){Jn(e,0),Za(e,t,0,!0);break}e:{switch(a=e,i=n,i){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Za(a,t,Cl,!qa);break e;case 2:gl=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(n=_s+300-Yt(),10<n)){if(Za(a,t,Cl,!qa),al(a,0,!0)!==0)break e;Ma=t,a.timeoutHandle=Ed(If.bind(null,a,l,gl,Us,Ou,t,Cl,pn,kn,qa,i,"Throttled",-0,0),n);break e}If(a,l,gl,Us,Ou,t,Cl,pn,kn,qa,i,null,-0,0)}}break}while(!0);aa(e)}function If(e,t,l,a,n,i,c,o,m,C,U,Y,z,R){if(e.timeoutHandle=-1,Y=t.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_l},Zf(t,i,Y);var Me=(i&62914560)===i?_s-Yt():(i&4194048)===i?Jf-Yt():0;if(Me=vh(Y,Me),Me!==null){Ma=i,e.cancelPendingCommit=Me(sd.bind(null,e,t,i,l,a,n,c,o,m,U,Y,null,z,R)),Za(e,i,c,!C);return}}sd(e,t,i,l,a,n,c,o,m)}function _m(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],i=n.getSnapshot;n=n.value;try{if(!Sl(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Za(e,t,l,a){t&=~Ru,t&=~pn,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var i=31-qt(n),c=1<<i;a[i]=-1,n&=~c}l!==0&&A(e,l,t)}function Hs(){return(mt&6)===0?(Li(0),!1):!0}function Hu(){if(tt!==null){if(gt===0)var e=tt.return;else e=tt,ha=un=null,Pc(e),Bn=null,pi=0,e=tt;for(;e!==null;)Af(e.alternate,e),e=e.return;tt=null}}function Jn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,eh(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Ma=0,Hu(),Nt=e,tt=l=da(e.current,null),nt=t,gt=0,Ml=null,qa=!1,Qn=oa(e,t),Du=!1,kn=Cl=Ru=pn=Xa=Lt=0,gl=Oi=null,Ou=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-qt(a),i=1<<n;t|=e[n],a&=~i}return Na=t,ns(),l}function Pf(e,t){Qe=null,E.H=Mi,t===Hn||t===ds?(t=hr(),gt=3):t===Xc?(t=hr(),gt=4):gt=t===yu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ml=t,tt===null&&(Lt=1,Cs(e,Ul(t,e.current)))}function ed(){var e=wl.current;return e===null?!0:(nt&4194048)===nt?ql===null:(nt&62914560)===nt||(nt&536870912)!==0?e===ql:!1}function td(){var e=E.H;return E.H=Mi,e===null?Mi:e}function ld(){var e=E.A;return E.A=Rm,e}function Bs(){Lt=4,qa||(nt&4194048)!==nt&&wl.current!==null||(Qn=!0),(Xa&134217727)===0&&(pn&134217727)===0||Nt===null||Za(Nt,nt,Cl,!1)}function Bu(e,t,l){var a=mt;mt|=2;var n=td(),i=ld();(Nt!==e||nt!==t)&&(Us=null,Jn(e,t)),t=!1;var c=Lt;e:do try{if(gt!==0&&tt!==null){var o=tt,m=Ml;switch(gt){case 8:Hu(),c=6;break e;case 3:case 2:case 9:case 6:wl.current===null&&(t=!0);var C=gt;if(gt=0,Ml=null,Wn(e,o,m,C),l&&Qn){c=0;break e}break;default:C=gt,gt=0,Ml=null,Wn(e,o,m,C)}}Lm(),c=Lt;break}catch(U){Pf(e,U)}while(!0);return t&&e.shellSuspendCounter++,ha=un=null,mt=a,E.H=n,E.A=i,tt===null&&(Nt=null,nt=0,ns()),c}function Lm(){for(;tt!==null;)ad(tt)}function Um(e,t){var l=mt;mt|=2;var a=td(),n=ld();Nt!==e||nt!==t?(Us=null,Ls=Yt()+500,Jn(e,t)):Qn=oa(e,t);e:do try{if(gt!==0&&tt!==null){t=tt;var i=Ml;t:switch(gt){case 1:gt=0,Ml=null,Wn(e,t,i,1);break;case 2:case 9:if(dr(i)){gt=0,Ml=null,nd(t);break}t=function(){gt!==2&&gt!==9||Nt!==e||(gt=7),aa(e)},i.then(t,t);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:dr(i)?(gt=0,Ml=null,nd(t)):(gt=0,Ml=null,Wn(e,t,i,7));break;case 5:var c=null;switch(tt.tag){case 26:c=tt.memoizedState;case 5:case 27:var o=tt;if(c?Vd(c):o.stateNode.complete){gt=0,Ml=null;var m=o.sibling;if(m!==null)tt=m;else{var C=o.return;C!==null?(tt=C,Ys(C)):tt=null}break t}}gt=0,Ml=null,Wn(e,t,i,5);break;case 6:gt=0,Ml=null,Wn(e,t,i,6);break;case 8:Hu(),Lt=6;break e;default:throw Error(r(462))}}Hm();break}catch(U){Pf(e,U)}while(!0);return ha=un=null,E.H=a,E.A=n,mt=l,tt!==null?0:(Nt=null,nt=0,ns(),Lt)}function Hm(){for(;tt!==null&&!sa();)ad(tt)}function ad(e){var t=Tf(e.alternate,e,Na);e.memoizedProps=e.pendingProps,t===null?Ys(e):tt=t}function nd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Sf(l,t,t.pendingProps,t.type,void 0,nt);break;case 11:t=Sf(l,t,t.pendingProps,t.type.render,t.ref,nt);break;case 5:Pc(t);default:Af(l,t),t=tt=tr(t,Na),t=Tf(l,t,Na)}e.memoizedProps=e.pendingProps,t===null?Ys(e):tt=t}function Wn(e,t,l,a){ha=un=null,Pc(t),Bn=null,pi=0;var n=t.return;try{if(Mm(e,n,t,l,nt)){Lt=1,Cs(e,Ul(l,e.current)),tt=null;return}}catch(i){if(n!==null)throw tt=n,i;Lt=1,Cs(e,Ul(l,e.current)),tt=null;return}t.flags&32768?(st||a===1?e=!0:Qn||(nt&536870912)!==0?e=!1:(qa=e=!0,(a===2||a===9||a===3||a===6)&&(a=wl.current,a!==null&&a.tag===13&&(a.flags|=16384))),id(t,e)):Ys(t)}function Ys(e){var t=e;do{if((t.flags&32768)!==0){id(t,qa);return}e=t.return;var l=Em(t.alternate,t,Na);if(l!==null){tt=l;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);Lt===0&&(Lt=5)}function id(e,t){do{var l=Am(e.alternate,e);if(l!==null){l.flags&=32767,tt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){tt=e;return}tt=e=l}while(e!==null);Lt=6,tt=null}function sd(e,t,l,a,n,i,c,o,m){e.cancelPendingCommit=null;do qs();while(Qt!==0);if((mt&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(i=t.lanes|t.childLanes,i|=Cc,ie(e,l,i,c,o,m),e===Nt&&(tt=Nt=null,nt=0),Kn=t,Va=e,Ma=l,_u=i,Lu=n,Wf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Xm(Rl,function(){return fd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=E.T,E.T=null,n=ee.p,ee.p=2,c=mt,mt|=4;try{zm(e,t,l)}finally{mt=c,ee.p=n,E.T=a}}Qt=1,cd(),ud(),od()}}function cd(){if(Qt===1){Qt=0;var e=Va,t=Kn,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=E.T,E.T=null;var a=ee.p;ee.p=2;var n=mt;mt|=4;try{Xf(t,e);var i=Fu,c=ko(e.containerInfo),o=i.focusedElem,m=i.selectionRange;if(c!==o&&o&&o.ownerDocument&&Qo(o.ownerDocument.documentElement,o)){if(m!==null&&Sc(o)){var C=m.start,U=m.end;if(U===void 0&&(U=C),"selectionStart"in o)o.selectionStart=C,o.selectionEnd=Math.min(U,o.value.length);else{var Y=o.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var R=z.getSelection(),Me=o.textContent.length,Ye=Math.min(m.start,Me),St=m.end===void 0?Ye:Math.min(m.end,Me);!R.extend&&Ye>St&&(c=St,St=Ye,Ye=c);var S=Zo(o,Ye),v=Zo(o,St);if(S&&v&&(R.rangeCount!==1||R.anchorNode!==S.node||R.anchorOffset!==S.offset||R.focusNode!==v.node||R.focusOffset!==v.offset)){var M=Y.createRange();M.setStart(S.node,S.offset),R.removeAllRanges(),Ye>St?(R.addRange(M),R.extend(v.node,v.offset)):(M.setEnd(v.node,v.offset),R.addRange(M))}}}}for(Y=[],R=o;R=R.parentNode;)R.nodeType===1&&Y.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<Y.length;o++){var H=Y[o];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Is=!!Wu,Fu=Wu=null}finally{mt=n,ee.p=a,E.T=l}}e.current=t,Qt=2}}function ud(){if(Qt===2){Qt=0;var e=Va,t=Kn,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=E.T,E.T=null;var a=ee.p;ee.p=2;var n=mt;mt|=4;try{Uf(e,t.alternate,t)}finally{mt=n,ee.p=a,E.T=l}}Qt=3}}function od(){if(Qt===4||Qt===3){Qt=0,bl();var e=Va,t=Kn,l=Ma,a=Wf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qt=5:(Qt=0,Kn=Va=null,rd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Ga=null),ve(l),t=t.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(kt,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=E.T,n=ee.p,ee.p=2,E.T=null;try{for(var i=e.onRecoverableError,c=0;c<a.length;c++){var o=a[c];i(o.value,{componentStack:o.stack})}}finally{E.T=t,ee.p=n}}(Ma&3)!==0&&qs(),aa(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===Uu?_i++:(_i=0,Uu=e):_i=0,Li(0)}}function rd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,yi(t)))}function qs(){return cd(),ud(),od(),fd()}function fd(){if(Qt!==5)return!1;var e=Va,t=_u;_u=0;var l=ve(Ma),a=E.T,n=ee.p;try{ee.p=32>l?32:l,E.T=null,l=Lu,Lu=null;var i=Va,c=Ma;if(Qt=0,Kn=Va=null,Ma=0,(mt&6)!==0)throw Error(r(331));var o=mt;if(mt|=4,kf(i.current),Vf(i,i.current,c,l),mt=o,Li(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(kt,i)}catch{}return!0}finally{ee.p=n,E.T=a,rd(e,t)}}function dd(e,t,l){t=Ul(l,t),t=hu(e.stateNode,t,2),e=Ua(e,t,2),e!==null&&(X(e,2),aa(e))}function pt(e,t,l){if(e.tag===3)dd(e,e,l);else for(;t!==null;){if(t.tag===3){dd(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ga===null||!Ga.has(a))){e=Ul(l,e),l=mf(2),a=Ua(t,l,2),a!==null&&(hf(l,a,t,e),X(a,2),aa(a));break}}t=t.return}}function Yu(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Om;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(Du=!0,n.add(l),e=Bm.bind(null,e,t,l),t.then(e,e))}function Bm(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Nt===e&&(nt&l)===l&&(Lt===4||Lt===3&&(nt&62914560)===nt&&300>Yt()-_s?(mt&2)===0&&Jn(e,0):Ru|=l,kn===nt&&(kn=0)),aa(e)}function md(e,t){t===0&&(t=wn()),e=nn(e,t),e!==null&&(X(e,t),aa(e))}function Ym(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),md(e,l)}function qm(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),md(e,l)}function Xm(e,t){return ul(e,t)}var Xs=null,Fn=null,qu=!1,Gs=!1,Xu=!1,Qa=0;function aa(e){e!==Fn&&e.next===null&&(Fn===null?Xs=Fn=e:Fn=Fn.next=e),Gs=!0,qu||(qu=!0,Vm())}function Li(e,t){if(!Xu&&Gs){Xu=!0;do for(var l=!1,a=Xs;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var i=0;else{var c=a.suspendedLanes,o=a.pingedLanes;i=(1<<31-qt(42|e)+1)-1,i&=n&~(c&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,pd(a,i))}else i=nt,i=al(a,a===Nt?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||oa(a,i)||(l=!0,pd(a,i));a=a.next}while(l);Xu=!1}}function Gm(){hd()}function hd(){Gs=qu=!1;var e=0;Qa!==0&&Pm()&&(e=Qa);for(var t=Yt(),l=null,a=Xs;a!==null;){var n=a.next,i=yd(a,t);i===0?(a.next=null,l===null?Xs=n:l.next=n,n===null&&(Fn=l)):(l=a,(e!==0||(i&3)!==0)&&(Gs=!0)),a=n}Qt!==0&&Qt!==5||Li(e),Qa!==0&&(Qa=0)}function yd(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var c=31-qt(i),o=1<<c,m=n[c];m===-1?((o&l)===0||(o&a)!==0)&&(n[c]=jn(o,t)):m<=t&&(e.expiredLanes|=o),i&=~o}if(t=Nt,l=nt,l=al(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(gt===2||gt===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Vl(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||oa(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Vl(a),ve(l)){case 2:case 8:l=Dl;break;case 32:l=Rl;break;case 268435456:l=xn;break;default:l=Rl}return a=gd.bind(null,e),l=ul(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Vl(a),e.callbackPriority=2,e.callbackNode=null,2}function gd(e,t){if(Qt!==0&&Qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(qs()&&e.callbackNode!==l)return null;var a=nt;return a=al(e,e===Nt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:($f(e,a,t),yd(e,Yt()),e.callbackNode!=null&&e.callbackNode===l?gd.bind(null,e):null)}function pd(e,t){if(qs())return null;$f(e,t,!0)}function Vm(){th(function(){(mt&6)!==0?ul(Ta,Gm):hd()})}function Gu(){if(Qa===0){var e=Ln;e===0&&(e=Rt,Rt<<=1,(Rt&261888)===0&&(Rt=256)),Qa=e}return Qa}function vd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:en(""+e)}function xd(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Zm(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var i=vd((n[I]||null).action),c=a.submitter;c&&(t=(t=c[I]||null)?vd(t.formAction):c.getAttribute("formAction"),t!==null&&(i=t,c=null));var o=new es("action","action",null,a,n);e.push({event:o,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Qa!==0){var m=c?xd(n,c):new FormData(n);uu(l,{pending:!0,data:m,method:n.method,action:i},null,m)}}else typeof i=="function"&&(o.preventDefault(),m=c?xd(n,c):new FormData(n),uu(l,{pending:!0,data:m,method:n.method,action:i},i,m))},currentTarget:n}]})}}for(var Vu=0;Vu<Mc.length;Vu++){var Zu=Mc[Vu],Qm=Zu.toLowerCase(),km=Zu[0].toUpperCase()+Zu.slice(1);Jl(Qm,"on"+km)}Jl(Wo,"onAnimationEnd"),Jl(Fo,"onAnimationIteration"),Jl($o,"onAnimationStart"),Jl("dblclick","onDoubleClick"),Jl("focusin","onFocus"),Jl("focusout","onBlur"),Jl(um,"onTransitionRun"),Jl(om,"onTransitionStart"),Jl(rm,"onTransitionCancel"),Jl(Io,"onTransitionEnd"),N("onMouseEnter",["mouseout","mouseover"]),N("onMouseLeave",["mouseout","mouseover"]),N("onPointerEnter",["pointerout","pointerover"]),N("onPointerLeave",["pointerout","pointerover"]),Tt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Km=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ui));function bd(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var c=a.length-1;0<=c;c--){var o=a[c],m=o.instance,C=o.currentTarget;if(o=o.listener,m!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=C;try{i(n)}catch(U){as(U)}n.currentTarget=null,i=m}else for(c=0;c<a.length;c++){if(o=a[c],m=o.instance,C=o.currentTarget,o=o.listener,m!==i&&n.isPropagationStopped())break e;i=o,n.currentTarget=C;try{i(n)}catch(U){as(U)}n.currentTarget=null,i=m}}}}function lt(e,t){var l=t[xe];l===void 0&&(l=t[xe]=new Set);var a=e+"__bubble";l.has(a)||(Sd(t,e,2,!1),l.add(a))}function Qu(e,t,l){var a=0;t&&(a|=4),Sd(l,e,a,t)}var Vs="_reactListening"+Math.random().toString(36).slice(2);function ku(e){if(!e[Vs]){e[Vs]=!0,Ct.forEach(function(l){l!=="selectionchange"&&(Km.has(l)||Qu(l,!1,e),Qu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vs]||(t[Vs]=!0,Qu("selectionchange",!1,t))}}function Sd(e,t,l,a){switch(Fd(t)){case 2:var n=Sh;break;case 8:n=jh;break;default:n=co}l=n.bind(null,t,l,e),n=void 0,!dc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Ku(e,t,l,a,n){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var c=a.tag;if(c===3||c===4){var o=a.stateNode.containerInfo;if(o===n)break;if(c===4)for(c=a.return;c!==null;){var m=c.tag;if((m===3||m===4)&&c.stateNode.containerInfo===n)return;c=c.return}for(;o!==null;){if(c=Ie(o),c===null)return;if(m=c.tag,m===5||m===6||m===26||m===27){a=i=c;continue e}o=o.parentNode}}a=a.return}Fi(function(){var C=i,U=li(l),Y=[];e:{var z=Po.get(e);if(z!==void 0){var R=es,Me=e;switch(e){case"keypress":if(Ii(l)===0)break e;case"keydown":case"keyup":R=q0;break;case"focusin":Me="focus",R=gc;break;case"focusout":Me="blur",R=gc;break;case"beforeblur":case"afterblur":R=gc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=E0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=V0;break;case Wo:case Fo:case $o:R=D0;break;case Io:R=Q0;break;case"scroll":case"scrollend":R=C0;break;case"wheel":R=K0;break;case"copy":case"cut":case"paste":R=O0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=zo;break;case"toggle":case"beforetoggle":R=W0}var Ye=(t&4)!==0,St=!Ye&&(e==="scroll"||e==="scrollend"),S=Ye?z!==null?z+"Capture":null:z;Ye=[];for(var v=C,M;v!==null;){var H=v;if(M=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||M===null||S===null||(H=ni(v,S),H!=null&&Ye.push(Hi(v,H,M))),St)break;v=v.return}0<Ye.length&&(z=new R(z,Me,null,l,U),Y.push({event:z,listeners:Ye}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",z&&l!==Mn&&(Me=l.relatedTarget||l.fromElement)&&(Ie(Me)||Me[J]))break e;if((R||z)&&(z=U.window===U?U:(z=U.ownerDocument)?z.defaultView||z.parentWindow:window,R?(Me=l.relatedTarget||l.toElement,R=C,Me=Me?Ie(Me):null,Me!==null&&(St=w(Me),Ye=Me.tag,Me!==St||Ye!==5&&Ye!==27&&Ye!==6)&&(Me=null)):(R=null,Me=C),R!==Me)){if(Ye=Eo,H="onMouseLeave",S="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(Ye=zo,H="onPointerLeave",S="onPointerEnter",v="pointer"),St=R==null?z:ct(R),M=Me==null?z:ct(Me),z=new Ye(H,v+"leave",R,l,U),z.target=St,z.relatedTarget=M,H=null,Ie(U)===C&&(Ye=new Ye(S,v+"enter",Me,l,U),Ye.target=M,Ye.relatedTarget=St,H=Ye),St=H,R&&Me)t:{for(Ye=Jm,S=R,v=Me,M=0,H=S;H;H=Ye(H))M++;H=0;for(var _e=v;_e;_e=Ye(_e))H++;for(;0<M-H;)S=Ye(S),M--;for(;0<H-M;)v=Ye(v),H--;for(;M--;){if(S===v||v!==null&&S===v.alternate){Ye=S;break t}S=Ye(S),v=Ye(v)}Ye=null}else Ye=null;R!==null&&jd(Y,z,R,Ye,!1),Me!==null&&St!==null&&jd(Y,St,Me,Ye,!0)}}e:{if(z=C?ct(C):window,R=z.nodeName&&z.nodeName.toLowerCase(),R==="select"||R==="input"&&z.type==="file")var ut=Bo;else if(Uo(z))if(Yo)ut=im;else{ut=am;var Ee=lm}else R=z.nodeName,!R||R.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?C&&Pl(C.elementType)&&(ut=Bo):ut=nm;if(ut&&(ut=ut(e,C))){Ho(Y,ut,l,U);break e}Ee&&Ee(e,z,C),e==="focusout"&&C&&z.type==="number"&&C.memoizedProps.value!=null&&ft(z,"number",z.value)}switch(Ee=C?ct(C):window,e){case"focusin":(Uo(Ee)||Ee.contentEditable==="true")&&(Tn=Ee,jc=C,di=null);break;case"focusout":di=jc=Tn=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Ko(Y,l,U);break;case"selectionchange":if(cm)break;case"keydown":case"keyup":Ko(Y,l,U)}var Ke;if(vc)e:{switch(e){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Cn?_o(e,l)&&(it="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(it="onCompositionStart");it&&(Do&&l.locale!=="ko"&&(Cn||it!=="onCompositionStart"?it==="onCompositionEnd"&&Cn&&(Ke=Co()):(Aa=U,mc="value"in Aa?Aa.value:Aa.textContent,Cn=!0)),Ee=Zs(C,it),0<Ee.length&&(it=new Ao(it,e,null,l,U),Y.push({event:it,listeners:Ee}),Ke?it.data=Ke:(Ke=Lo(l),Ke!==null&&(it.data=Ke)))),(Ke=$0?I0(e,l):P0(e,l))&&(it=Zs(C,"onBeforeInput"),0<it.length&&(Ee=new Ao("onBeforeInput","beforeinput",null,l,U),Y.push({event:Ee,listeners:it}),Ee.data=Ke)),Zm(Y,e,C,l,U)}bd(Y,t)})}function Hi(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Zs(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=ni(e,l),n!=null&&a.unshift(Hi(e,n,i)),n=ni(e,t),n!=null&&a.push(Hi(e,n,i))),e.tag===3)return a;e=e.return}return[]}function Jm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jd(e,t,l,a,n){for(var i=t._reactName,c=[];l!==null&&l!==a;){var o=l,m=o.alternate,C=o.stateNode;if(o=o.tag,m!==null&&m===a)break;o!==5&&o!==26&&o!==27||C===null||(m=C,n?(C=ni(l,i),C!=null&&c.unshift(Hi(l,C,m))):n||(C=ni(l,i),C!=null&&c.push(Hi(l,C,m)))),l=l.return}c.length!==0&&e.push({event:t,listeners:c})}var Wm=/\r\n?/g,Fm=/\u0000|\uFFFD/g;function wd(e){return(typeof e=="string"?e:""+e).replace(Wm,`
`).replace(Fm,"")}function Nd(e,t){return t=wd(t),wd(e)===t}function bt(e,t,l,a,n,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ot(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ot(e,""+a);break;case"className":V(e,"class",a);break;case"tabIndex":V(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":V(e,l,a);break;case"style":ra(e,a,i);break;case"data":if(t!=="object"){V(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=en(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&bt(e,t,"name",n.name,n,null),bt(e,t,"formEncType",n.formEncType,n,null),bt(e,t,"formMethod",n.formMethod,n,null),bt(e,t,"formTarget",n.formTarget,n,null)):(bt(e,t,"encType",n.encType,n,null),bt(e,t,"method",n.method,n,null),bt(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=en(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=_l);break;case"onScroll":a!=null&&lt("scroll",e);break;case"onScrollEnd":a!=null&&lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=en(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":lt("beforetoggle",e),lt("toggle",e),be(e,"popover",a);break;case"xlinkActuate":Ne(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Ne(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Ne(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Ne(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Ne(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Ne(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Ne(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":be(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Nn.get(l)||l,be(e,l,a))}}function Ju(e,t,l,a,n,i){switch(l){case"style":ra(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ot(e,a):(typeof a=="number"||typeof a=="bigint")&&Ot(e,""+a);break;case"onScroll":a!=null&&lt("scroll",e);break;case"onScrollEnd":a!=null&&lt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=_l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rt.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[I]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):be(e,l,a)}}}function $t(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",e),lt("load",e);var a=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];if(c!=null)switch(i){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:bt(e,t,i,c,l,null)}}n&&bt(e,t,"srcSet",l.srcSet,l,null),a&&bt(e,t,"src",l.src,l,null);return;case"input":lt("invalid",e);var o=i=c=n=null,m=null,C=null;for(a in l)if(l.hasOwnProperty(a)){var U=l[a];if(U!=null)switch(a){case"name":n=U;break;case"type":c=U;break;case"checked":m=U;break;case"defaultChecked":C=U;break;case"value":i=U;break;case"defaultValue":o=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:bt(e,t,a,U,l,null)}}wt(e,i,o,m,C,c,n,!1);return;case"select":lt("invalid",e),a=c=i=null;for(n in l)if(l.hasOwnProperty(n)&&(o=l[n],o!=null))switch(n){case"value":i=o;break;case"defaultValue":c=o;break;case"multiple":a=o;default:bt(e,t,n,o,l,null)}t=i,l=c,e.multiple=!!a,t!=null?dt(e,!!a,t,!1):l!=null&&dt(e,!!a,l,!0);return;case"textarea":lt("invalid",e),i=n=a=null;for(c in l)if(l.hasOwnProperty(c)&&(o=l[c],o!=null))switch(c){case"value":a=o;break;case"defaultValue":n=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:bt(e,t,c,o,l,null)}fl(e,a,n,i);return;case"option":for(m in l)if(l.hasOwnProperty(m)&&(a=l[m],a!=null))switch(m){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:bt(e,t,m,a,l,null)}return;case"dialog":lt("beforetoggle",e),lt("toggle",e),lt("cancel",e),lt("close",e);break;case"iframe":case"object":lt("load",e);break;case"video":case"audio":for(a=0;a<Ui.length;a++)lt(Ui[a],e);break;case"image":lt("error",e),lt("load",e);break;case"details":lt("toggle",e);break;case"embed":case"source":case"link":lt("error",e),lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in l)if(l.hasOwnProperty(C)&&(a=l[C],a!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:bt(e,t,C,a,l,null)}return;default:if(Pl(t)){for(U in l)l.hasOwnProperty(U)&&(a=l[U],a!==void 0&&Ju(e,t,U,a,l,void 0));return}}for(o in l)l.hasOwnProperty(o)&&(a=l[o],a!=null&&bt(e,t,o,a,l,null))}function $m(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,c=null,o=null,m=null,C=null,U=null;for(R in l){var Y=l[R];if(l.hasOwnProperty(R)&&Y!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":m=Y;default:a.hasOwnProperty(R)||bt(e,t,R,null,a,Y)}}for(var z in a){var R=a[z];if(Y=l[z],a.hasOwnProperty(z)&&(R!=null||Y!=null))switch(z){case"type":i=R;break;case"name":n=R;break;case"checked":C=R;break;case"defaultChecked":U=R;break;case"value":c=R;break;case"defaultValue":o=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:R!==Y&&bt(e,t,z,R,a,Y)}}vt(e,c,o,m,C,U,i,n);return;case"select":R=c=o=z=null;for(i in l)if(m=l[i],l.hasOwnProperty(i)&&m!=null)switch(i){case"value":break;case"multiple":R=m;default:a.hasOwnProperty(i)||bt(e,t,i,null,a,m)}for(n in a)if(i=a[n],m=l[n],a.hasOwnProperty(n)&&(i!=null||m!=null))switch(n){case"value":z=i;break;case"defaultValue":o=i;break;case"multiple":c=i;default:i!==m&&bt(e,t,n,i,a,m)}t=o,l=c,a=R,z!=null?dt(e,!!l,z,!1):!!a!=!!l&&(t!=null?dt(e,!!l,t,!0):dt(e,!!l,l?[]:"",!1));return;case"textarea":R=z=null;for(o in l)if(n=l[o],l.hasOwnProperty(o)&&n!=null&&!a.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:bt(e,t,o,null,a,n)}for(c in a)if(n=a[c],i=l[c],a.hasOwnProperty(c)&&(n!=null||i!=null))switch(c){case"value":z=n;break;case"defaultValue":R=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(r(91));break;default:n!==i&&bt(e,t,c,n,a,i)}Mt(e,z,R);return;case"option":for(var Me in l)if(z=l[Me],l.hasOwnProperty(Me)&&z!=null&&!a.hasOwnProperty(Me))switch(Me){case"selected":e.selected=!1;break;default:bt(e,t,Me,null,a,z)}for(m in a)if(z=a[m],R=l[m],a.hasOwnProperty(m)&&z!==R&&(z!=null||R!=null))switch(m){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:bt(e,t,m,z,a,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in l)z=l[Ye],l.hasOwnProperty(Ye)&&z!=null&&!a.hasOwnProperty(Ye)&&bt(e,t,Ye,null,a,z);for(C in a)if(z=a[C],R=l[C],a.hasOwnProperty(C)&&z!==R&&(z!=null||R!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:bt(e,t,C,z,a,R)}return;default:if(Pl(t)){for(var St in l)z=l[St],l.hasOwnProperty(St)&&z!==void 0&&!a.hasOwnProperty(St)&&Ju(e,t,St,void 0,a,z);for(U in a)z=a[U],R=l[U],!a.hasOwnProperty(U)||z===R||z===void 0&&R===void 0||Ju(e,t,U,z,a,R);return}}for(var S in l)z=l[S],l.hasOwnProperty(S)&&z!=null&&!a.hasOwnProperty(S)&&bt(e,t,S,null,a,z);for(Y in a)z=a[Y],R=l[Y],!a.hasOwnProperty(Y)||z===R||z==null&&R==null||bt(e,t,Y,z,a,R)}function Md(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Im(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],i=n.transferSize,c=n.initiatorType,o=n.duration;if(i&&o&&Md(c)){for(c=0,o=n.responseEnd,a+=1;a<l.length;a++){var m=l[a],C=m.startTime;if(C>o)break;var U=m.transferSize,Y=m.initiatorType;U&&Md(Y)&&(m=m.responseEnd,c+=U*(m<o?1:(o-C)/(m-C)))}if(--a,t+=8*(i+c)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wu=null,Fu=null;function Qs(e){return e.nodeType===9?e:e.ownerDocument}function Cd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Td(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $u(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iu=null;function Pm(){var e=window.event;return e&&e.type==="popstate"?e===Iu?!1:(Iu=e,!0):(Iu=null,!1)}var Ed=typeof setTimeout=="function"?setTimeout:void 0,eh=typeof clearTimeout=="function"?clearTimeout:void 0,Ad=typeof Promise=="function"?Promise:void 0,th=typeof queueMicrotask=="function"?queueMicrotask:typeof Ad<"u"?function(e){return Ad.resolve(null).then(e).catch(lh)}:Ed;function lh(e){setTimeout(function(){throw e})}function ka(e){return e==="head"}function zd(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),ei(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Bi(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Bi(l);for(var i=l.firstChild;i;){var c=i.nextSibling,o=i.nodeName;i[Te]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=c}}else l==="body"&&Bi(e.ownerDocument.body);l=n}while(l);ei(t)}function Dd(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Pu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Pu(l),$e(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function ah(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Te])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Xl(e.nextSibling),e===null)break}return null}function nh(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Xl(e.nextSibling),e===null))return null;return e}function Rd(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xl(e.nextSibling),e===null))return null;return e}function eo(e){return e.data==="$?"||e.data==="$~"}function to(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ih(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Xl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var lo=null;function Od(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Xl(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function _d(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Ld(e,t,l){switch(t=Qs(l),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Bi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Gl=new Map,Ud=new Set;function ks(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ca=ee.d;ee.d={f:sh,r:ch,D:uh,C:oh,L:rh,m:fh,X:mh,S:dh,M:hh};function sh(){var e=Ca.f(),t=Hs();return e||t}function ch(e){var t=Fe(e);t!==null&&t.tag===5&&t.type==="form"?Ir(t):Ca.r(e)}var $n=typeof document>"u"?null:document;function Hd(e,t,l){var a=$n;if(a&&typeof t=="string"&&t){var n=ye(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),Ud.has(n)||(Ud.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),$t(t,"link",e),et(t),a.head.appendChild(t)))}}function uh(e){Ca.D(e),Hd("dns-prefetch",e,null)}function oh(e,t){Ca.C(e,t),Hd("preconnect",e,t)}function rh(e,t,l){Ca.L(e,t,l);var a=$n;if(a&&e&&t){var n='link[rel="preload"][as="'+ye(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+ye(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+ye(l.imageSizes)+'"]')):n+='[href="'+ye(e)+'"]';var i=n;switch(t){case"style":i=In(e);break;case"script":i=Pn(e)}Gl.has(i)||(e=j({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Gl.set(i,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Yi(i))||t==="script"&&a.querySelector(qi(i))||(t=a.createElement("link"),$t(t,"link",e),et(t),a.head.appendChild(t)))}}function fh(e,t){Ca.m(e,t);var l=$n;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+ye(a)+'"][href="'+ye(e)+'"]',i=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Pn(e)}if(!Gl.has(i)&&(e=j({rel:"modulepreload",href:e},t),Gl.set(i,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qi(i)))return}a=l.createElement("link"),$t(a,"link",e),et(a),l.head.appendChild(a)}}}function dh(e,t,l){Ca.S(e,t,l);var a=$n;if(a&&e){var n=Je(a).hoistableStyles,i=In(e);t=t||"default";var c=n.get(i);if(!c){var o={loading:0,preload:null};if(c=a.querySelector(Yi(i)))o.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Gl.get(i))&&ao(e,l);var m=c=a.createElement("link");et(m),$t(m,"link",e),m._p=new Promise(function(C,U){m.onload=C,m.onerror=U}),m.addEventListener("load",function(){o.loading|=1}),m.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ks(c,t,a)}c={type:"stylesheet",instance:c,count:1,state:o},n.set(i,c)}}}function mh(e,t){Ca.X(e,t);var l=$n;if(l&&e){var a=Je(l).hoistableScripts,n=Pn(e),i=a.get(n);i||(i=l.querySelector(qi(n)),i||(e=j({src:e,async:!0},t),(t=Gl.get(n))&&no(e,t),i=l.createElement("script"),et(i),$t(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function hh(e,t){Ca.M(e,t);var l=$n;if(l&&e){var a=Je(l).hoistableScripts,n=Pn(e),i=a.get(n);i||(i=l.querySelector(qi(n)),i||(e=j({src:e,async:!0,type:"module"},t),(t=Gl.get(n))&&no(e,t),i=l.createElement("script"),et(i),$t(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(n,i))}}function Bd(e,t,l,a){var n=(n=Xe.current)?ks(n):null;if(!n)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=In(l.href),l=Je(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=In(l.href);var i=Je(n).hoistableStyles,c=i.get(e);if(c||(n=n.ownerDocument||n,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,c),(i=n.querySelector(Yi(e)))&&!i._p&&(c.instance=i,c.state.loading=5),Gl.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gl.set(e,l),i||yh(n,e,l,c.state))),t&&a===null)throw Error(r(528,""));return c}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pn(l),l=Je(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function In(e){return'href="'+ye(e)+'"'}function Yi(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function yh(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),$t(t,"link",l),et(t),e.head.appendChild(t))}function Pn(e){return'[src="'+ye(e)+'"]'}function qi(e){return"script[async]"+e}function qd(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+ye(l.href)+'"]');if(a)return t.instance=a,et(a),a;var n=j({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),et(a),$t(a,"style",n),Ks(a,l.precedence,e),t.instance=a;case"stylesheet":n=In(l.href);var i=e.querySelector(Yi(n));if(i)return t.state.loading|=4,t.instance=i,et(i),i;a=Yd(l),(n=Gl.get(n))&&ao(a,n),i=(e.ownerDocument||e).createElement("link"),et(i);var c=i;return c._p=new Promise(function(o,m){c.onload=o,c.onerror=m}),$t(i,"link",a),t.state.loading|=4,Ks(i,l.precedence,e),t.instance=i;case"script":return i=Pn(l.src),(n=e.querySelector(qi(i)))?(t.instance=n,et(n),n):(a=l,(n=Gl.get(i))&&(a=j({},l),no(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),et(n),$t(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ks(a,l.precedence,e));return t.instance}function Ks(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,i=n,c=0;c<a.length;c++){var o=a[c];if(o.dataset.precedence===t)i=o;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function ao(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function no(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Js=null;function Xd(e,t,l){if(Js===null){var a=new Map,n=Js=new Map;n.set(l,a)}else n=Js,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[Te]||i[se]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var c=i.getAttribute(t)||"";c=e+c;var o=a.get(c);o?o.push(i):a.set(c,[i])}}return a}function Gd(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function gh(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ph(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=In(a.href),i=t.querySelector(Yi(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ws.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,et(i);return}i=t.ownerDocument||t,a=Yd(a),(n=Gl.get(n))&&ao(a,n),i=i.createElement("link"),et(i);var c=i;c._p=new Promise(function(o,m){c.onload=o,c.onerror=m}),$t(i,"link",a),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ws.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var io=0;function vh(e,t){return e.stylesheets&&e.count===0&&$s(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&$s(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&io===0&&(io=62500*Im());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$s(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>io?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function Ws(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$s(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fs=null;function $s(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fs=new Map,t.forEach(xh,e),Fs=null,Ws.call(e))}function xh(e,t){if(!(t.state.loading&4)){var l=Fs.get(e);if(l)var a=l.get(null);else{l=new Map,Fs.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var c=n[i];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(l.set(c.dataset.precedence,c),a=c)}a&&l.set(null,a)}n=t.instance,c=n.getAttribute("data-precedence"),i=l.get(c)||a,i===a&&l.set(null,n),l.set(c,n),this.count++,a=Ws.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Xi={$$typeof:fe,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function bh(e,t,l,a,n,i,c,o,m){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ol(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ol(0),this.hiddenUpdates=Ol(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function Zd(e,t,l,a,n,i,c,o,m,C,U,Y){return e=new bh(e,t,l,c,m,C,U,Y,o),t=1,i===!0&&(t|=24),i=jl(3,null,null,t),e.current=i,i.stateNode=e,t=Bc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},Gc(i),e}function Qd(e){return e?(e=zn,e):zn}function kd(e,t,l,a,n,i){n=Qd(n),a.context===null?a.context=n:a.pendingContext=n,a=La(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=Ua(e,a,t),l!==null&&(pl(l,e,t),xi(l,e,t))}function Kd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function so(e,t){Kd(e,t),(e=e.alternate)&&Kd(e,t)}function Jd(e){if(e.tag===13||e.tag===31){var t=nn(e,67108864);t!==null&&pl(t,e,67108864),so(e,67108864)}}function Wd(e){if(e.tag===13||e.tag===31){var t=Tl();t=re(t);var l=nn(e,t);l!==null&&pl(l,e,t),so(e,t)}}var Is=!0;function Sh(e,t,l,a){var n=E.T;E.T=null;var i=ee.p;try{ee.p=2,co(e,t,l,a)}finally{ee.p=i,E.T=n}}function jh(e,t,l,a){var n=E.T;E.T=null;var i=ee.p;try{ee.p=8,co(e,t,l,a)}finally{ee.p=i,E.T=n}}function co(e,t,l,a){if(Is){var n=uo(a);if(n===null)Ku(e,t,a,Ps,l),$d(e,a);else if(Nh(n,e,t,l,a))a.stopPropagation();else if($d(e,a),t&4&&-1<wh.indexOf(e)){for(;n!==null;){var i=Fe(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var c=Ql(i.pendingLanes);if(c!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;c;){var m=1<<31-qt(c);o.entanglements[1]|=m,c&=~m}aa(i),(mt&6)===0&&(Ls=Yt()+500,Li(0))}}break;case 31:case 13:o=nn(i,2),o!==null&&pl(o,i,2),Hs(),so(i,2)}if(i=uo(a),i===null&&Ku(e,t,a,Ps,l),i===n)break;n=i}n!==null&&a.stopPropagation()}else Ku(e,t,a,null,l)}}function uo(e){return e=li(e),oo(e)}var Ps=null;function oo(e){if(Ps=null,e=Ie(e),e!==null){var t=w(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=_(t),e!==null)return e;e=null}else if(l===31){if(e=q(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ps=e,null}function Fd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zl()){case Ta:return 2;case Dl:return 8;case Rl:case ol:return 32;case xn:return 268435456;default:return 32}default:return 32}}var ro=!1,Ka=null,Ja=null,Wa=null,Gi=new Map,Vi=new Map,Fa=[],wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $d(e,t){switch(e){case"focusin":case"focusout":Ka=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":Gi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(t.pointerId)}}function Zi(e,t,l,a,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},t!==null&&(t=Fe(t),t!==null&&Jd(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Nh(e,t,l,a,n){switch(t){case"focusin":return Ka=Zi(Ka,e,t,l,a,n),!0;case"dragenter":return Ja=Zi(Ja,e,t,l,a,n),!0;case"mouseover":return Wa=Zi(Wa,e,t,l,a,n),!0;case"pointerover":var i=n.pointerId;return Gi.set(i,Zi(Gi.get(i)||null,e,t,l,a,n)),!0;case"gotpointercapture":return i=n.pointerId,Vi.set(i,Zi(Vi.get(i)||null,e,t,l,a,n)),!0}return!1}function Id(e){var t=Ie(e.target);if(t!==null){var l=w(t);if(l!==null){if(t=l.tag,t===13){if(t=_(l),t!==null){e.blockedOn=t,me(e.priority,function(){Wd(l)});return}}else if(t===31){if(t=q(l),t!==null){e.blockedOn=t,me(e.priority,function(){Wd(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ec(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=uo(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Mn=a,l.target.dispatchEvent(a),Mn=null}else return t=Fe(l),t!==null&&Jd(t),e.blockedOn=l,!1;t.shift()}return!0}function Pd(e,t,l){ec(e)&&l.delete(t)}function Mh(){ro=!1,Ka!==null&&ec(Ka)&&(Ka=null),Ja!==null&&ec(Ja)&&(Ja=null),Wa!==null&&ec(Wa)&&(Wa=null),Gi.forEach(Pd),Vi.forEach(Pd)}function tc(e,t){e.blockedOn===t&&(e.blockedOn=null,ro||(ro=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Mh)))}var lc=null;function e0(e){lc!==e&&(lc=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){lc===e&&(lc=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(oo(a||l)===null)continue;break}var i=Fe(l);i!==null&&(e.splice(t,3),t-=3,uu(i,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function ei(e){function t(m){return tc(m,e)}Ka!==null&&tc(Ka,e),Ja!==null&&tc(Ja,e),Wa!==null&&tc(Wa,e),Gi.forEach(t),Vi.forEach(t);for(var l=0;l<Fa.length;l++){var a=Fa[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Fa.length&&(l=Fa[0],l.blockedOn===null);)Id(l),l.blockedOn===null&&Fa.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],i=l[a+1],c=n[I]||null;if(typeof i=="function")c||e0(l);else if(c){var o=null;if(i&&i.hasAttribute("formAction")){if(n=i,c=i[I]||null)o=c.formAction;else if(oo(n)!==null)continue}else o=c.action;typeof o=="function"?l[a+1]=o:(l.splice(a,3),a-=3),e0(l)}}}function t0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(c){return n=c})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function fo(e){this._internalRoot=e}ac.prototype.render=fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var l=t.current,a=Tl();kd(l,a,e,t,null,null)},ac.prototype.unmount=fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kd(e.current,2,null,e,null,null),Hs(),t[J]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var t=te();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Fa.length&&t!==0&&t<Fa[l].priority;l++);Fa.splice(l,0,e),l===0&&Id(e)}};var l0=f.version;if(l0!=="19.2.0")throw Error(r(527,l0,"19.2.0"));ee.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Ch={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{kt=nc.inject(Ch),jt=nc}catch{}}return ki.createRoot=function(e,t){if(!g(e))throw Error(r(299));var l=!1,a="",n=of,i=rf,c=ff;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Zd(e,1,!1,null,null,l,a,null,n,i,c,t0),e[J]=t.current,ku(e),new fo(t)},ki.hydrateRoot=function(e,t,l){if(!g(e))throw Error(r(299));var a=!1,n="",i=of,c=rf,o=ff,m=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(c=l.onCaughtError),l.onRecoverableError!==void 0&&(o=l.onRecoverableError),l.formState!==void 0&&(m=l.formState)),t=Zd(e,1,!0,t,l??null,a,n,m,i,c,o,t0),t.context=Qd(null),l=t.current,a=Tl(),a=re(a),n=La(a),n.callback=null,Ua(l,n,a),l=a,t.current.lanes=l,X(t,l),aa(t),e[J]=t.current,ku(e),new ac(t)},ki.version="19.2.0",ki}var d0;function Uh(){if(d0)return yo.exports;d0=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(f){console.error(f)}}return u(),yo.exports=Lh(),yo.exports}var Hh=Uh();const Bh=v0(Hh),ic=({label:u,icon:f,isActive:h,onClick:r})=>s.jsxs("button",{onClick:r,title:u,"aria-label":u,"aria-current":h?"page":void 0,className:`w-full flex flex-col items-center justify-center p-2 rounded-lg transition-colors duration-200 ${h?"bg-cyan-500/20 text-cyan-300":"text-gray-400 hover:bg-gray-700/50 hover:text-gray-200"}`,children:[f,s.jsx("span",{className:"text-xs mt-1",children:u})]}),Yh=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2H5a2 2 0 00-2 2v2m14 0V9"})}),qh=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.121 15.536c-1.171 1.952-3.07 1.952-4.242 0-1.172-1.953-1.172-5.119 0-7.072 1.171-1.952 3.07-1.952 4.242 0M8 12h8M12 8v8"})}),Xh=()=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),Gh=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672L13.684 16.6m0 0l-2.51 2.225.569-9.47 5.227 7.917-3.286-.672zm-7.518-.267A8.25 8.25 0 1120.25 10.5M8.288 14.212A5.25 5.25 0 1117.25 10.5"})}),Vh=({activeTool:u,onToolSelect:f})=>s.jsxs("aside",{className:"bg-gray-800/50 border-r border-gray-700 p-2 w-20 flex-shrink-0 flex flex-col items-center gap-4",role:"navigation","aria-label":"Main navigation",children:[s.jsx("div",{className:"my-2","aria-label":"Lunagis logo",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-cyan-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM4.332 8.027a6.012 6.012 0 011.912-2.706C6.512 5.73 6.974 6 7.5 6A1.5 1.5 0 019 7.5V8a2 2 0 004 0 2 2 0 011.527-1.912 6.01 6.01 0 012.186 5.332A6.002 6.002 0 0110 16a6.002 6.002 0 01-5.668-7.973z",clipRule:"evenodd"})})}),s.jsx(ic,{label:"Layers",icon:s.jsx(Yh,{}),isActive:u==="layers",onClick:()=>f("layers")}),s.jsx(ic,{label:"Artifacts",icon:s.jsx(Gh,{}),isActive:u==="artifacts",onClick:()=>f("artifacts")}),s.jsx(ic,{label:"Measure",icon:s.jsx(qh,{}),isActive:u==="measurement",onClick:()=>f("measurement")}),s.jsx(ic,{label:"Config",icon:s.jsx(Xh,{}),isActive:u==="config",onClick:()=>f("config")})]}),Zh=["Viridis","Plasma","Inferno","Magma","Cividis","Turbo","Grayscale","Custom"];function x0(u,f,h,r,g){if(u==="Custom"&&r&&r.length>0){const q=[...r].sort((x,j)=>x.value-j.value);if(g){if(q.length===1)return()=>q[0].color;const x=q.map(O=>O.value).slice(1),j=q.map(O=>O.color);return d3.scaleThreshold().domain(x).range(j)}const T=h?[...r].reverse():r;return T.length===1?()=>T[0].color:d3.scaleLinear().domain(T.map(x=>x.value)).range(T.map(x=>x.color)).clamp(!0)}const w=(()=>{switch(u){case"Viridis":return d3.interpolateViridis;case"Plasma":return d3.interpolatePlasma;case"Inferno":return d3.interpolateInferno;case"Magma":return d3.interpolateMagma;case"Cividis":return d3.interpolateCividis;case"Turbo":return d3.interpolateTurbo;case"Grayscale":return d3.interpolateGreys;default:return d3.interpolateViridis}})(),_=h?q=>w(1-q):w;return d3.scaleSequential(f,_)}const sc=20,Ia=200,Qh=({colorMap:u,dataRange:f,units:h,inverted:r,customColormap:g,isThreshold:w})=>{const _=b.useRef(null);b.useEffect(()=>{if(!f||!_.current)return;const x=_.current.getContext("2d");if(!x)return;const j=[f.min,f.max],D=x0(u,j,r,g,w);x.clearRect(0,0,sc,Ia);for(let O=0;O<Ia;O++){const K=1-O/Ia,P=f.min+K*(f.max-f.min);x.fillStyle=D(P),x.fillRect(0,O,sc,1)}},[u,f,r,g,w]);const q=y=>h==="days"?(y/24).toFixed(1):y<100?y.toFixed(1):Math.round(y),T=b.useMemo(()=>{if(!f)return[];const{min:y,max:x}=f,j=x-y,D=new Map;D.set(x,{value:x,y:0}),D.set(y,{value:y,y:Ia}),w&&g&&g.length>1&&g.forEach(K=>{if(K.value>y&&K.value<x){const P=Ia*(1-(K.value-y)/j);D.set(K.value,{value:K.value,y:P})}});const O=Array.from(D.values());return O.sort((K,P)=>K.y-P.y),O},[f,w,g]);return f?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"relative",style:{height:Ia,width:sc},children:s.jsx("canvas",{ref:_,width:sc,height:Ia,className:"rounded-sm border border-gray-600 absolute"})}),s.jsxs("div",{className:"relative h-full",style:{height:Ia,width:60},children:[T.map(({value:y,y:x})=>s.jsxs("div",{className:"absolute w-full right-0",style:{top:`${x}px`,transform:"translateY(-50%)"},children:[s.jsx("span",{className:"block border-t border-gray-500 w-3 -mr-3 absolute right-full top-1/2"}),s.jsx("span",{className:"text-xs font-mono text-gray-300",children:q(y)})]},y)),h&&s.jsx("span",{className:"absolute -bottom-4 right-1/2 translate-x-1/2 text-xs text-gray-400 mt-1",children:h})]})]}):null},vn={">":{precedence:2,associativity:"Left"},">=":{precedence:2,associativity:"Left"},"<":{precedence:2,associativity:"Left"},"<=":{precedence:2,associativity:"Left"},"==":{precedence:2,associativity:"Left"},AND:{precedence:1,associativity:"Left"},OR:{precedence:1,associativity:"Left"},NOT:{precedence:3,associativity:"Right"}};function Mo(u){const f=[],h=/\s*(>=|<=|==|>|<|\(|\)|[a-zA-Z_][a-zA-Z0-9_]*|-?\d+(\.\d+)?|\S)\s*/g;let r;for(;(r=h.exec(u))!==null;){const g=r[1],w=g.toUpperCase();if(!isNaN(Number(g)))f.push({type:"LITERAL",value:Number(g)});else if(w in vn)f.push({type:"OPERATOR",value:w});else if(g==="(")f.push({type:"LPAREN",value:g});else if(g===")")f.push({type:"RPAREN",value:g});else if(/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(g))f.push({type:"VARIABLE",value:g});else throw new Error(`Invalid token: ${g}`)}return f}function b0(u){const f=[],h=[];for(const r of u)if(r.type==="LITERAL"||r.type==="VARIABLE")f.push(r);else if(r.type==="OPERATOR"){const g=r.value;for(;h.length>0&&h[h.length-1].type==="OPERATOR";){const w=h[h.length-1].value;if(vn[g].associativity==="Left"&&vn[g].precedence<=vn[w].precedence||vn[g].associativity==="Right"&&vn[g].precedence<vn[w].precedence)f.push(h.pop());else break}h.push(r)}else if(r.type==="LPAREN")h.push(r);else if(r.type==="RPAREN"){for(;h.length>0&&h[h.length-1].type!=="LPAREN";)f.push(h.pop());if(h.length===0)throw new Error("Mismatched parentheses");h.pop()}for(;h.length>0;){const r=h.pop();if(r.type==="LPAREN")throw new Error("Mismatched parentheses");f.push(r)}return f}function S0(u,f){const h=[];for(const r of u)if(r.type==="LITERAL")h.push(r.value);else if(r.type==="VARIABLE"){const g=f[r.value];if(g===void 0)throw new Error(`Undefined variable: ${r.value}`);h.push(g)}else if(r.type==="OPERATOR"){if(r.value==="NOT"){if(h.length<1)throw new Error("Invalid expression for NOT operator");const _=h.pop();h.push(_?0:1);continue}if(h.length<2)throw new Error(`Invalid expression for operator ${r.value}`);const g=h.pop(),w=h.pop();switch(r.value){case">":h.push(w>g?1:0);break;case">=":h.push(w>=g?1:0);break;case"<":h.push(w<g?1:0);break;case"<=":h.push(w<=g?1:0);break;case"==":h.push(w==g?1:0);break;case"AND":h.push(w&&g?1:0);break;case"OR":h.push(w||g?1:0);break;default:throw new Error(`Unknown operator: ${r.value}`)}}if(h.length!==1)throw new Error("The final expression stack is invalid");return h[0]}function kh(u){if(!u.trim())throw new Error("Empty expression");try{const f=Mo(u);return b0(f)}catch(f){throw f instanceof Error?new Error(`Expression compilation failed: ${f.message}`):new Error("An unknown error occurred during expression compilation.")}}function Kh(u,f){return S0(u,f)}function Jh(u,f){if(!u.trim())return 0;try{const h=Mo(u),r=b0(h);return S0(r,f)}catch(h){throw h instanceof Error?new Error(`Expression evaluation failed: ${h.message}`):new Error("An unknown error occurred during expression evaluation.")}}function Wh(u){try{const f=Mo(u),h=new Set;for(const r of f)r.type==="VARIABLE"&&h.add(r.value);return Array.from(h)}catch{return[]}}const rc=u=>u.replace(/[^a-zA-Z0-9_]/g,"_"),xo=async(u,f,h)=>{const r=Wh(u),g=[];for(const ge of r){const fe=f.find(Se=>rc(Se.name)===ge);if(!fe||!("dataset"in fe))throw new Error(`Variable "${ge}" does not correspond to a valid data layer.`);g.push(fe)}if(g.length===0&&r.length>0)throw new Error(`No layers found for variables in expression: ${r.join(", ")}`);if(g.length===0&&r.length===0){const ge=f.find(pe=>"dataset"in pe);if(!ge)throw new Error("Cannot evaluate a constant expression without at least one data layer to define dimensions.");const{time:fe,height:Se,width:He}=ge.dimensions,W=Jh(u,{});return{dataset:Array.from({length:fe},()=>Array.from({length:Se},()=>new Array(He).fill(W))),range:{min:0,max:1},dimensions:{time:fe,height:Se,width:He}}}const w=g[0],{time:_,height:q,width:T}=w.dimensions;if(!g.every(ge=>ge.dimensions.time===_&&ge.dimensions.height===q&&ge.dimensions.width===T))throw new Error("All layers used in an expression must have the same dimensions.");const y=kh(u),x=g.map(ge=>rc(ge.name)),j=Array.from({length:_},()=>Array.from({length:q},()=>new Array(T).fill(0))),D=()=>new Promise(ge=>setTimeout(ge,0)),O={},K=5e4;let P=0;const Ce=_*q*T;let de=-1;h&&(h("Calculating expression... 0%"),await D());for(let ge=0;ge<_;ge++)for(let fe=0;fe<q;fe++)for(let Se=0;Se<T;Se++){for(let W=0;W<g.length;W++)O[x[W]]=g[W].dataset[ge][fe][Se];const He=Kh(y,O);if(j[ge][fe][Se]=He,P++,P>=K){if(h){const W=ge*q*T+fe*T+Se+1,k=Math.floor(W/Ce*100);k!==de&&(h(`Calculating expression... ${k}%`),de=k)}await D(),P=0}}return h&&h("Calculating expression... 100%"),{dataset:j,range:{min:0,max:1},dimensions:{time:_,height:q,width:T}}},bo=(u,f,h)=>{const{height:r,width:g}=h,w=Array.from({length:r},()=>new Array(g).fill(0)),_=f.end-f.start+1;if(_<=0)return{slice:w,range:{min:0,max:100}};for(let q=0;q<r;q++)for(let T=0;T<g;T++){let y=0;for(let j=f.start;j<=f.end;j++){if(j>=u.length)continue;u[j][q][T]===1&&y++}const x=y/_*100;w[q][T]=x}return{slice:w,range:{min:0,max:100}}},m0=async u=>{const{dataset:f,dimensions:h}=u,{time:r,height:g,width:w}=h,_=Array.from({length:r},()=>Array.from({length:g},()=>new Array(w).fill(0))),q=()=>new Promise(x=>setTimeout(x,0));let T=0,y=0;for(let x=0;x<g;x++){for(let j=0;j<w;j++){const D=f.map(de=>de[x][j]),O=[];let K=!1,P=-1;for(let de=0;de<r;de++){const ge=D[de]===0;if(ge&&!K)K=!0,P=de;else if(!ge&&K){K=!1;const fe=de-P;O.push({start:P,end:de,duration:fe})}}if(K){const de=r-P;O.push({start:P,end:r,duration:de})}let Ce=0;for(let de=0;de<r;de++)if(D[de]===1){for(;Ce<O.length&&O[Ce].start<=de;)Ce++;if(Ce<O.length){const ge=O[Ce];_[de][x][j]=ge.duration,ge.duration>T&&(T=ge.duration)}else _[de][x][j]=0}else{const ge=O.find(fe=>de>=fe.start&&de<fe.end);if(ge){const fe=-ge.duration;_[de][x][j]=fe,fe<y&&(y=fe)}else _[de][x][j]=-1}}x%10===0&&await q()}return{dataset:_,range:{min:y,max:T},maxDuration:T}};function h0(u){const f=new DataView(u);if(String.fromCharCode(...new Uint8Array(u,0,6))!=="NUMPY")throw new Error("Not a valid .npy file: invalid magic string.");const r=f.getUint8(6);let g,w;if(r===1)w=f.getUint16(8,!0),g=10;else if(r===2)w=f.getUint32(8,!0),g=12;else throw new Error(`Unsupported .npy version: ${r}. Only v1 and v2 are supported.`);const q=new TextDecoder().decode(u.slice(g,g+w)).replace(/False/g,"false").replace(/True/g,"true").replace(/\(/g,"[").replace(/\)/g,"]").replace(/'/g,'"').replace(/,(\s*\])/g,"$1").replace(/,(\s*})/g,"$1"),T=JSON.parse(q),y=g+w,x=T.descr;let j;if(x.includes("f4")||x.includes("f32"))j=new Float32Array(u,y);else if(x.includes("f8")||x.includes("f64")){console.warn("Downcasting float64 to float32. Precision may be lost.");const D=new Float64Array(u,y);j=new Float32Array(D)}else if(x.includes("b1")||x.includes("?")){const D=new Uint8Array(u,y);j=new Float32Array(D.length);for(let O=0;O<D.length;O++)j[O]=D[O]}else throw new Error(`Unsupported dtype in .npy file: ${x}. Only float32, float64, and boolean are supported.`);return{header:T,data:j,shape:T.shape}}function y0(u){var f,h;try{const g=new DOMParser().parseFromString(u,"application/xml"),w=g.querySelector("parsererror");if(w)throw new Error("XML parsing error: "+w.textContent);const _=g.querySelector("VRTDataset");if(!_)throw new Error("<VRTDataset> tag not found.");const q=parseInt(_.getAttribute("rasterXSize")||"0",10),T=parseInt(_.getAttribute("rasterYSize")||"0",10),y=(f=g.querySelector("GeoTransform"))==null?void 0:f.textContent;if(!y)throw new Error("<GeoTransform> tag not found.");const x=y.split(",").map(Number);if(x.length!==6||x.some(isNaN))throw new Error("Invalid GeoTransform content.");const j=(h=g.querySelector("SRS"))==null?void 0:h.textContent;if(!j)throw new Error("<SRS> tag not found.");return{geoTransform:x,srs:j,width:q,height:T}}catch(r){return console.error("Failed to parse VRT file:",r),null}}const j0=new Date("2030-01-01T00:00:00Z"),Bt=u=>{const f=new Date(j0.getTime());return f.setUTCHours(f.getUTCHours()+u),f},Fh=u=>{const f=(u.getTime()-j0.getTime())/36e5;return Math.round(f)},So=u=>Bt(u).toLocaleString("en-US",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"UTC"}).replace(",",""),w0=b.createContext(null),$h=()=>{const u=b.useContext(w0);if(!u)throw new Error("useToast must be used within a ToastProvider");return u},Ih=({children:u})=>{const[f,h]=b.useState([]),r=b.useCallback(x=>{const j=`toast-${Date.now()}-${Math.random()}`,D={id:j,duration:5e3,...x};h(O=>[...O,D]),D.duration&&setTimeout(()=>{g(j)},D.duration)},[]),g=b.useCallback(x=>{h(j=>j.filter(D=>D.id!==x))},[]),w=b.useCallback((x,j)=>{r({type:"success",message:x,title:j})},[r]),_=b.useCallback((x,j)=>{r({type:"error",message:x,title:j,duration:8e3})},[r]),q=b.useCallback((x,j)=>{r({type:"warning",message:x,title:j,duration:6e3})},[r]),T=b.useCallback((x,j)=>{r({type:"info",message:x,title:j})},[r]),y={showToast:r,showSuccess:w,showError:_,showWarning:q,showInfo:T,dismissToast:g};return s.jsxs(w0.Provider,{value:y,children:[u,s.jsx(Ph,{toasts:f,onDismiss:g})]})},Ph=({toasts:u,onDismiss:f})=>u.length===0?null:s.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 max-w-md pointer-events-none",children:u.map(h=>s.jsx(ey,{toast:h,onDismiss:f},h.id))}),ey=({toast:u,onDismiss:f})=>{const[h,r]=b.useState(!1),g=()=>{r(!0),setTimeout(()=>{f(u.id)},300)},w=()=>{const q="pointer-events-auto rounded-lg shadow-lg p-4 border";switch(u.type){case"success":return`${q} bg-green-900/95 border-green-500/50 text-green-100`;case"error":return`${q} bg-red-900/95 border-red-500/50 text-red-100`;case"warning":return`${q} bg-yellow-900/95 border-yellow-500/50 text-yellow-100`;case"info":return`${q} bg-blue-900/95 border-blue-500/50 text-blue-100`;default:return`${q} bg-gray-800/95 border-gray-500/50 text-gray-100`}},_=()=>{switch(u.type){case"success":return s.jsx("svg",{className:"w-6 h-6 text-green-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"error":return s.jsx("svg",{className:"w-6 h-6 text-red-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"warning":return s.jsx("svg",{className:"w-6 h-6 text-yellow-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});case"info":return s.jsx("svg",{className:"w-6 h-6 text-blue-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}};return s.jsx("div",{className:`${w()} transition-all duration-300 ${h?"opacity-0 translate-x-full":"opacity-100 translate-x-0"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[_(),s.jsxs("div",{className:"flex-1 min-w-0",children:[u.title&&s.jsx("h4",{className:"font-semibold text-sm mb-1",children:u.title}),s.jsx("p",{className:"text-sm",children:u.message}),u.action&&s.jsx("button",{onClick:()=>{u.action.onClick(),g()},className:"mt-2 text-xs font-medium underline hover:no-underline",children:u.action.label})]}),s.jsx("button",{onClick:g,className:"flex-shrink-0 text-gray-400 hover:text-white transition-colors","aria-label":"Dismiss",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})},cc=[-85.505,-85.26],uc=[28.97,32.53],oc=u=>new Promise((f,h)=>{const r=new Image;r.onload=()=>f(r),r.onerror=h,r.src=u}),N0=b.createContext(null),xl=()=>{const u=b.useContext(N0);if(!u)throw new Error("useAppContext must be used within an AppProvider");return u},ty=({children:u})=>{const{showError:f,showWarning:h,showSuccess:r}=$h(),[g,w]=b.useState([]),[_,q]=b.useState(null),[T,y]=b.useState(null),[x,j]=b.useState(null),[D,O]=b.useState(null),[K,P]=b.useState(null),[Ce,de]=b.useState(!0),[ge,fe]=b.useState(null),[Se,He]=b.useState(1),[W,k]=b.useState("layers"),[pe,Ae]=b.useState(null),[F,De]=b.useState(null),[Le,Ze]=b.useState(null),[at,je]=b.useState(null),[E,ee]=b.useState(null),le=b.useRef(null),Re=b.useRef(null),[We,p]=b.useState(!1),[L,ue]=b.useState(200),[he,Be]=b.useState("#ffffff80"),[Xe,ke]=b.useState([]),[ht,yt]=b.useState("#ffff00"),[tl,El]=b.useState(!1),[$l,Al]=b.useState(!1),[cl,Pa]=b.useState(10),It=b.useRef(null),Il=b.useRef(0),zl=b.useRef(null),[ll,ul]=b.useState(null),[Vl,sa]=b.useState([]),[bl,Yt]=b.useState(null),[Zl,Ta]=b.useState(null),[Dl,Rl]=b.useState(!1),[ol,xn]=b.useState(null),[Pt,Ea]=b.useState({waypointDotSize:8,showSegmentLengths:!0,labelFontSize:14}),[kt,jt]=b.useState({defaultMaxSegmentLength:200}),[rl,qt]=b.useState({min:-15,max:15}),[bn,Sn]=b.useState(!1),ca=b.useMemo(()=>g.find(N=>N.type==="basemap"),[g]),Rt=b.useMemo(()=>g.find(N=>N.type==="data"),[g]),ua=b.useMemo(()=>g.find(N=>N.id===_),[g,_]),zt=b.useMemo(()=>ca?proj4(ca.vrt.srs):null,[ca]),Ql=()=>{P(null),Ae(null)},al=b.useMemo(()=>Rt?[Bt(0),Bt(Rt.dimensions.time-1)]:null,[Rt]),oa=b.useMemo(()=>{if(!Rt)return null;const{width:N,height:G}=Rt.dimensions,[Q,ae]=uc,[we,be]=cc;if(zt){const V=zt.forward([Q,be]),Ne=zt.forward([ae,be]),ne=zt.forward([Q,we]),ce=(Ne[0]-V[0])/N,oe=(Ne[1]-V[1])/N,Oe=(ne[0]-V[0])/G,ze=(ne[1]-V[1])/G,Pe=V[0],qe=V[1],ye=ce*ze-oe*Oe;return Math.abs(ye)<1e-9?null:(vt,wt)=>{try{const[ft,dt]=zt.forward([wt,vt]),Mt=(ze*(ft-Pe)-Oe*(dt-qe))/ye,fl=(ce*(dt-qe)-oe*(ft-Pe))/ye,Ot=Math.round(Mt),nl=Math.round(fl);return Ot>=0&&Ot<N&&nl>=0&&nl<G?{x:Ot,y:nl}:null}catch{return null}}}return null},[zt,Rt]),jn=b.useMemo(()=>{if(!Rt||!zt)return null;const{width:N,height:G}=Rt.dimensions,[Q,ae]=uc,[we,be]=cc,V=zt.forward([Q,be]),Ne=zt.forward([ae,be]),ne=zt.forward([Q,we]),ce=(Ne[0]-V[0])/N,oe=(Ne[1]-V[1])/N,Oe=(ne[0]-V[0])/G,ze=(ne[1]-V[1])/G,Pe=V[0],qe=V[1],ye=ce*ze-oe*Oe;return Math.abs(ye)<1e-9?null:vt=>{try{const[wt,ft]=vt,dt=(ze*(wt-Pe)-Oe*(ft-qe))/ye,Mt=(ce*(ft-qe)-oe*(wt-Pe))/ye,fl=Math.round(dt),Ot=Math.round(Mt),nl=Math.max(0,Math.min(N,fl)),il=Math.max(0,Math.min(G,Ot)),ra=ce*nl+Oe*il+Pe,Pl=oe*nl+ze*il+qe;return[ra,Pl]}catch{return null}}},[zt,Rt]),wn=b.useMemo(()=>{if(!Rt||!zt)return null;const{width:N,height:G}=Rt.dimensions,[Q,ae]=uc,[we,be]=cc,V=zt.forward([Q,be]),Ne=zt.forward([ae,be]),ne=zt.forward([Q,we]),ce=(Ne[0]-V[0])/N,oe=(Ne[1]-V[1])/N,Oe=(ne[0]-V[0])/G,ze=(ne[1]-V[1])/G,Pe=V[0],qe=V[1],ye=ce*ze-oe*Oe;return Math.abs(ye)<1e-9?null:(vt,wt)=>{try{const ft=(ze*(vt[0]-Pe)-Oe*(vt[1]-qe))/ye,dt=(ce*(vt[1]-qe)-oe*(vt[0]-Pe))/ye,Mt=(ze*(wt[0]-Pe)-Oe*(wt[1]-qe))/ye,fl=(ce*(wt[1]-qe)-oe*(wt[0]-Pe))/ye,Ot=Math.abs(Mt-ft),nl=Math.abs(fl-dt),il=Math.min(ft,Mt),ra=Math.min(dt,fl),Pl=Math.max(ft,Mt),Nn=Math.max(dt,fl),Ji=[ce*il+Oe*ra+Pe,oe*il+ze*ra+qe],en=[ce*Pl+Oe*ra+Pe,oe*Pl+ze*ra+qe],_l=[ce*Pl+Oe*Nn+Pe,oe*Pl+ze*Nn+qe],Mn=[ce*il+Oe*Nn+Pe,oe*il+ze*Nn+qe],li=[(Ji[0]+en[0]+_l[0]+Mn[0])/4,(Ji[1]+en[1]+_l[1]+Mn[1])/4],kl=[ce*Ot,oe*Ot],Kl=[Oe*nl,ze*nl],Wi=Math.sqrt(kl[0]*kl[0]+kl[1]*kl[1]),ai=Math.sqrt(Kl[0]*Kl[0]+Kl[1]*Kl[1]),Fi=Math.atan2(oe,ce)*180/Math.PI;return{center:li,width:Wi,height:ai,rotation:Fi}}catch{return null}}},[zt,Rt]);b.useEffect(()=>{if(pe){const N=g.find(G=>G.id===pe.layerId);if((N==null?void 0:N.type)==="data"||(N==null?void 0:N.type)==="analysis"||(N==null?void 0:N.type)==="dte_comms"||(N==null?void 0:N.type)==="lpf_comms")if(pe.y<N.dimensions.height&&pe.x<N.dimensions.width){const G=N.dataset.map(Q=>{var ae;return((ae=Q==null?void 0:Q[pe.y])==null?void 0:ae[pe.x])??0});De({data:G,range:N.range})}else De(null);else De(null)}else De(null)},[pe,g]),b.useEffect(()=>{if(_&&pe&&x){const N=g.find(G=>G.id===_);if((N==null?void 0:N.type)==="analysis"&&N.analysisType==="daylight_fraction"){const G=g.find(Q=>Q.id===N.sourceLayerId);if(G){const{x:Q,y:ae}=pe;if(ae>=G.dimensions.height||Q>=G.dimensions.width){je(null);return}const{start:we,end:be}=x,V=be-we+1;let Ne=0,ne=0,ce=1/0,oe=0,Oe=0,ze=1/0,Pe=0,qe=null,ye=0;for(let ft=we;ft<=be;ft++){if(ft>=G.dataset.length||!G.dataset[ft])continue;const dt=G.dataset[ft][ae][Q];dt===1&&Ne++;const Mt=dt===1?"day":"night";qe!==Mt?(qe==="day"?(oe++,ye>ne&&(ne=ye),ye<ce&&(ce=ye)):qe==="night"&&(Pe++,ye>Oe&&(Oe=ye),ye<ze&&(ze=ye)),qe=Mt,ye=1):ye++}qe==="day"?(oe++,ye>ne&&(ne=ye),ye<ce&&(ce=ye)):qe==="night"&&(Pe++,ye>Oe&&(Oe=ye),ye<ze&&(ze=ye));const vt=V-Ne,wt=V>0?Ne/V*100:0;je({fraction:wt,dayHours:Ne,nightHours:vt,longestDayPeriod:ne,shortestDayPeriod:ce===1/0?0:ce,dayPeriods:oe,longestNightPeriod:Oe,shortestNightPeriod:ze===1/0?0:ze,nightPeriods:Pe});return}}}je(null)},[pe,_,g,x]);const Ol=b.useCallback(async(N,G)=>{if(!N)return;y(`Parsing "${N.name}"...`);const Q=()=>new Promise(ae=>setTimeout(ae,0));try{const ae=await N.arrayBuffer(),{data:we,shape:be,header:V}=h0(ae);if(be.length!==3)throw new Error(`Expected a 3D array, but got ${be.length} dimensions.`);const[Ne,ne,ce]=be;let oe=1/0,Oe=-1/0;for(const ye of we)ye<oe&&(oe=ye),ye>Oe&&(Oe=ye);const ze=Array.from({length:ce},()=>Array.from({length:Ne},()=>new Array(ne)));let Pe=0;if(V.fortran_order)for(let ye=0;ye<ce;ye++){for(let vt=0;vt<ne;vt++)for(let wt=0;wt<Ne;wt++)ze[ye][wt][vt]=we[Pe++];ye%100===0&&await Q()}else for(let ye=0;ye<Ne;ye++){for(let vt=0;vt<ne;vt++)for(let wt=0;wt<ce;wt++)ze[wt][ye][vt]=we[Pe++];ye%10===0&&await Q()}const qe={id:`${G}-${Date.now()}`,name:N.name,type:G,visible:!0,opacity:1,fileName:N.name,dataset:ze,range:{min:oe,max:Oe},colormap:"Viridis",colormapInverted:!1,customColormap:[{value:oe,color:"#000000"},{value:Oe,color:"#ffffff"}],dimensions:{time:ce,height:Ne,width:ne}};if(w(ye=>[...ye,qe]),q(qe.id),G==="data"&&!Rt){const ye={start:0,end:ce-1};j(ye),O(0),Ze([Bt(0),Bt(ce-1)]),fe(null)}}catch(ae){f(`Error loading file: ${ae instanceof Error?ae.message:String(ae)}`)}finally{y(null)}},[Rt]),X=b.useCallback(N=>Ol(N,"data"),[Ol]),ie=b.useCallback(N=>Ol(N,"dte_comms"),[Ol]),A=b.useCallback(N=>Ol(N,"lpf_comms"),[Ol]),$=b.useCallback(async(N,G)=>{y(`Loading basemap "${N.name}"...`);try{const Q=await G.text(),ae=y0(Q);if(!ae)throw new Error("Failed to parse VRT file.");const we=URL.createObjectURL(N),be=await oc(we);URL.revokeObjectURL(we);const V={id:`basemap-${Date.now()}`,name:N.name,type:"basemap",visible:!0,opacity:1,image:be,vrt:ae,pngFileName:N.name,vrtFileName:G.name};w(Ne=>[V,...Ne]),q(V.id),fe(null)}catch(Q){f(`Error processing base map: ${Q instanceof Error?Q.message:String(Q)}`)}finally{y(null)}},[]),d=b.useCallback(async(N,G)=>{y(`Loading image "${N.name}"...`);try{const Q=URL.createObjectURL(N),ae=await oc(Q);URL.revokeObjectURL(Q);const we=G||(ge?ge.center:[0,0]),be={id:`image-${Date.now()}`,name:N.name,type:"image",visible:!0,opacity:.7,image:ae,fileName:N.name,position:we,scaleX:1,scaleY:1,rotation:0,originalWidth:ae.width,originalHeight:ae.height};w(V=>[...V,be]),q(be.id),r(`Image layer "${N.name}" added successfully`)}catch(Q){f(`Error loading image: ${Q instanceof Error?Q.message:String(Q)}`)}finally{y(null)}},[ge,r,f]),re=b.useCallback((N,G)=>{w(Q=>Q.map(ae=>ae.id===N?{...ae,...G}:ae))},[]),ve=b.useCallback(N=>{w(G=>G.filter(Q=>Q.id!==N)),_===N&&q(null)},[_]),te=b.useCallback(N=>{w(G=>{const Q=G.findIndex(we=>we.id===N);if(Q===-1||Q>=G.length-1)return G;const ae=[...G];return[ae[Q],ae[Q+1]]=[ae[Q+1],ae[Q]],ae})},[]),me=b.useCallback(N=>{w(G=>{const Q=G.findIndex(we=>we.id===N);if(Q<=0)return G;const ae=[...G];return[ae[Q-1],ae[Q]]=[ae[Q],ae[Q-1]],ae})},[]),Z=b.useCallback(async N=>{const G=g.find(oe=>oe.id===N);if(!G)return;y(`Forecasting nightfall for "${G.name}"...`),await new Promise(oe=>setTimeout(oe,50));const{dataset:Q,range:ae,maxDuration:we}=await m0(G),be="rgba(0,0,0,0)",V=336,Ne=[{value:-1/0,color:be},{value:-V,color:"cyan"},{value:0,color:"yellow"},{value:V+.001,color:be}],ne=Math.min(1e3,Math.ceil(we/24)*24||24),ce={id:`analysis-${Date.now()}`,name:`Nightfall Forecast for ${G.name}`,type:"analysis",analysisType:"nightfall",visible:!0,opacity:1,colormap:"Custom",colormapInverted:!1,dataset:Q,range:ae,dimensions:G.dimensions,sourceLayerId:N,customColormap:Ne,params:{clipValue:ne}};w(oe=>[...oe,ce]),q(ce.id),y(null)},[g]),se=b.useCallback(N=>{const G=g.find(V=>V.id===N);if(!G||!x)return;const{slice:Q,range:ae}=bo(G.dataset,x,G.dimensions),we=Array.from({length:G.dimensions.time},()=>Q),be={id:`analysis-${Date.now()}`,name:`Daylight Fraction for ${G.name}`,type:"analysis",analysisType:"daylight_fraction",visible:!0,opacity:1,colormap:"Turbo",dataset:we,range:ae,dimensions:G.dimensions,sourceLayerId:N,params:{}};w(V=>[...V,be]),q(be.id)},[g,x]),I=b.useCallback(async(N,G)=>{y(`Calculating expression "${N}"...`),await new Promise(Q=>setTimeout(Q,50));try{const{dataset:Q,range:ae,dimensions:we}=await xo(G,g,V=>y(V)),be={id:`analysis-expr-${Date.now()}`,name:N,type:"analysis",analysisType:"expression",visible:!0,opacity:1,colormap:"Custom",dataset:Q,range:ae,dimensions:we,sourceLayerId:void 0,customColormap:[{value:-1/0,color:"rgba(0,0,0,0)"},{value:1,color:"#ffff00"}],params:{expression:G}};w(V=>[...V,be]),q(be.id),Sn(!1)}catch(Q){f(`Expression Error: ${Q instanceof Error?Q.message:String(Q)}`)}finally{y(null)}},[g]),J=b.useCallback(async(N,G)=>{const Q=g.find(ae=>ae.id===N);if(!Q||Q.type!=="analysis"||Q.analysisType!=="expression"){f("Invalid layer for expression recalculation");return}y(`Recalculating expression "${Q.name}"...`),await new Promise(ae=>setTimeout(ae,50));try{const{dataset:ae,range:we,dimensions:be}=await xo(G,g,V=>y(V));w(V=>V.map(Ne=>Ne.id===N?{...Ne,dataset:ae,range:we,dimensions:be,params:{...Ne.params,expression:G}}:Ne))}catch(ae){f(`Expression Error: ${ae instanceof Error?ae.message:String(ae)}`)}finally{y(null)}},[g]);b.useEffect(()=>{x&&w(N=>{if(N.filter(we=>we.type==="analysis"&&we.analysisType==="daylight_fraction").length===0)return N;let Q=!1;const ae=N.map(we=>{if(we.type==="analysis"&&we.analysisType==="daylight_fraction"){const be=N.find(V=>V.id===we.sourceLayerId);if(be){const{slice:V,range:Ne}=bo(be.dataset,x,be.dimensions),ne=Array.from({length:be.dimensions.time},()=>V);return Q=!0,{...we,dataset:ne,range:Ne}}}return we});return Q?ae:N})},[x]),b.useEffect(()=>{if(!tl){It.current&&(cancelAnimationFrame(It.current),It.current=null);return}const N=G=>{Il.current===0&&(Il.current=G);const Q=G-Il.current,ae=1e3/cl;Q>=ae&&(Il.current=G,O(we=>{if(we===null||!zl.current)return we;let be=we+1;return be>zl.current.end&&(be=zl.current.start),be})),It.current=requestAnimationFrame(N)};return It.current=requestAnimationFrame(N),()=>{It.current&&(cancelAnimationFrame(It.current),It.current=null,Il.current=0)}},[tl,cl]);const xe=b.useCallback(()=>{if(!tl){if(!$l){if(!x||x.start>=x.end)return;zl.current={...x},O(x.start)}Al(!1),El(!0)}else Al(!0),El(!1)},[tl,$l,x]),Ue=N=>{tl&&El(!1),Al(!1),zl.current=null,j(N)},Ge=b.useCallback((N,G)=>{sa(Q=>Q.map(ae=>ae.id===N?{...ae,...G}:ae))},[]),B=b.useCallback(()=>{Ta(null),Rl(!1),Yt(null)},[]),Te=b.useCallback(()=>{Rl(!0)},[]);b.useEffect(()=>{const N=G=>{G.key==="Escape"&&B()};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[B]);const $e=b.useCallback(N=>{sa(G=>G.filter(Q=>Q.id!==N)),bl===N&&Yt(null)},[bl]),Ie=b.useCallback(()=>{ke([])},[]),Fe=b.useCallback(()=>{if(!x||!al)return;let N;if(x.start===x.end){const G=Bt(x.start),Q=720*60*1e3;N=[new Date(Math.max(al[0].getTime(),G.getTime()-Q)),new Date(Math.min(al[1].getTime(),G.getTime()+Q))]}else N=[Bt(x.start),Bt(x.end)];Ze(N)},[x,al]),ct=b.useCallback(()=>{al&&Ze(al)},[al]),Je=b.useCallback(N=>{const G=E;if(le.current&&(clearInterval(le.current),le.current=null),G&&Re.current!==null&&re(G,{visible:Re.current}),G===N)ee(null),Re.current=null;else{const Q=g.find(ae=>ae.id===N);Q&&(Re.current=Q.visible,ee(N))}},[g,E,re]);b.useEffect(()=>(E&&(le.current=window.setInterval(()=>{w(N=>N.map(G=>G.id===E?{...G,visible:!G.visible}:G))},400)),()=>{le.current&&(clearInterval(le.current),le.current=null)}),[E]);const et=b.useCallback(async()=>{if(g.length===0){h("Cannot export an empty session.");return}y("Exporting session...");try{const G={version:1,layers:g.map(V=>{if(V.type==="basemap"){const{image:Ne,...ne}=V;return ne}else if(V.type==="image"){const Ne=document.createElement("canvas");Ne.width=V.image.width,Ne.height=V.image.height,Ne.getContext("2d").drawImage(V.image,0,0);const ce=Ne.toDataURL("image/png"),{image:oe,...Oe}=V;return{...Oe,imageDataUrl:ce}}else{const{dataset:Ne,...ne}=V;return ne}}),activeLayerId:_,timeRange:x,timeZoomDomain:Le?[Le[0].toISOString(),Le[1].toISOString()]:null,viewState:ge,showGraticule:Ce,graticuleDensity:Se,showGrid:We,gridSpacing:L,gridColor:he,selectedCells:Xe,selectionColor:ht,activeTool:W,artifacts:Vl.map(V=>({...V})),artifactDisplayOptions:Pt,pathCreationOptions:kt,nightfallPlotYAxisRange:rl},Q=JSON.stringify(G,null,2),ae=new Blob([Q],{type:"application/json"}),we=URL.createObjectURL(ae),be=document.createElement("a");be.href=we,be.download=`session_${new Date().toISOString()}.json`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(we)}catch(N){f(`Error exporting session: ${N instanceof Error?N.message:String(N)}`)}finally{y(null)}},[g,_,x,Le,ge,Ce,Se,We,L,he,Xe,ht,W,Vl,Pt,kt,rl]),Ct=b.useCallback(N=>{y("Reading config file...");const G=new FileReader;G.onload=Q=>{var ae;try{const we=JSON.parse((ae=Q.target)==null?void 0:ae.result);if(we.version!==1)throw new Error("Unsupported config version.");const be=[];for(const V of we.layers)V.type==="data"||V.type==="dte_comms"||V.type==="lpf_comms"?be.push(V.fileName):V.type==="basemap"&&(be.push(V.pngFileName),be.push(V.vrtFileName));be.length>0?ul({config:we,requiredFiles:be}):rt(we,[])}catch(we){f(`Error reading config file: ${we instanceof Error?we.message:String(we)}`)}finally{y(null)}},G.onerror=()=>{f("Failed to read the file."),y(null)},G.readAsText(N)},[]),rt=b.useCallback(async(N,G)=>{var Q;ul(null),y("Restoring session...");try{const ae=new Map;Array.from(G).forEach(V=>ae.set(V.name,V)),w([]),j(null),Ze(null),fe(null),ke([]),sa([]);let we=[];for(const V of N.layers)if(V.type==="basemap"){const Ne=ae.get(V.pngFileName),ne=ae.get(V.vrtFileName);if(!Ne)throw new Error(`Required file "${V.pngFileName}" was not provided.`);if(!ne)throw new Error(`Required file "${V.vrtFileName}" was not provided.`);const ce=await ne.text(),oe=y0(ce);if(!oe)throw new Error(`Failed to parse VRT file: ${ne.name}`);const Oe=URL.createObjectURL(Ne),ze=await oc(Oe);URL.revokeObjectURL(Oe);const Pe={...V,image:ze,vrt:oe};we.push(Pe)}else if(V.type==="data"||V.type==="dte_comms"||V.type==="lpf_comms"){const Ne=ae.get(V.fileName);if(!Ne)throw new Error(`Required file "${V.fileName}" was not provided.`);const ne=await Ne.arrayBuffer(),{data:ce,shape:oe,header:Oe}=h0(ne),[ze,Pe,qe]=oe,ye=Array.from({length:qe},()=>Array.from({length:ze},()=>new Array(Pe)));let vt=0;if(Oe.fortran_order)for(let ft=0;ft<qe;ft++)for(let dt=0;dt<Pe;dt++)for(let Mt=0;Mt<ze;Mt++)ye[ft][Mt][dt]=ce[vt++];else for(let ft=0;ft<ze;ft++)for(let dt=0;dt<Pe;dt++)for(let Mt=0;Mt<qe;Mt++)ye[Mt][ft][dt]=ce[vt++];const wt={...V,dataset:ye};we.push(wt)}else if(V.type==="image"){const Ne=await oc(V.imageDataUrl),{imageDataUrl:ne,...ce}=V,oe={...ce,image:Ne};we.push(oe)}let be=[...we];for(const V of N.layers)if(V.type==="analysis"){let Ne,ne;if(V.analysisType==="expression"&&V.params.expression){const{dataset:ce}=await xo(V.params.expression,be,oe=>y(oe));Ne=ce,ne={...V,dataset:Ne}}else{const ce=be.find(oe=>oe.id===V.sourceLayerId);if(!ce)throw new Error(`Source layer with ID ${V.sourceLayerId} not found for analysis layer "${V.name}".`);if(V.analysisType==="nightfall"){const{dataset:oe}=await m0(ce);Ne=oe}else{const oe=N.timeRange||{start:0,end:ce.dimensions.time-1},{slice:Oe}=bo(ce.dataset,oe,ce.dimensions);Ne=Array.from({length:ce.dimensions.time},()=>Oe)}ne={...V,dataset:Ne}}be.push(ne)}w(be),q(N.activeLayerId),j(N.timeRange),O(((Q=N.timeRange)==null?void 0:Q.start)??null),fe(N.viewState),de(N.showGraticule),He(N.graticuleDensity),p(N.showGrid),ue(N.gridSpacing),Be(N.gridColor),ke(N.selectedCells),yt(N.selectionColor),k(N.activeTool),sa(N.artifacts||[]),N.timeZoomDomain&&Ze([new Date(N.timeZoomDomain[0]),new Date(N.timeZoomDomain[1])]),Ea(N.artifactDisplayOptions||{waypointDotSize:8,showSegmentLengths:!0,labelFontSize:14}),jt(N.pathCreationOptions||{defaultMaxSegmentLength:200}),qt(N.nightfallPlotYAxisRange||{min:-15,max:15})}catch(ae){f(`Error restoring session: ${ae instanceof Error?ae.message:String(ae)}`)}finally{y(null)}},[]),Tt={layers:g,activeLayerId:_,isLoading:T,timeRange:x,currentDateIndex:D,hoveredCoords:K,showGraticule:Ce,viewState:ge,graticuleDensity:Se,activeTool:W,selectedPixel:pe,timeSeriesData:F,timeZoomDomain:Le,daylightFractionHoverData:at,flickeringLayerId:E,showGrid:We,gridSpacing:L,gridColor:he,selectedCells:Xe,selectionColor:ht,isPlaying:tl,isPaused:$l,playbackSpeed:cl,importRequest:ll,artifacts:Vl,activeArtifactId:bl,artifactCreationMode:Zl,isAppendingWaypoints:Dl,draggedInfo:ol,artifactDisplayOptions:Pt,nightfallPlotYAxisRange:rl,isCreatingExpression:bn,baseMapLayer:ca,primaryDataLayer:Rt,activeLayer:ua,proj:zt,fullTimeDomain:al,coordinateTransformer:oa,snapToCellCorner:jn,calculateRectangleFromCellCorners:wn,setLayers:w,setActiveLayerId:q,setIsLoading:y,setTimeRange:j,setCurrentDateIndex:O,setHoveredCoords:P,setShowGraticule:de,setViewState:fe,setGraticuleDensity:He,onToolSelect:k,setSelectedPixel:Ae,setTimeZoomDomain:Ze,onToggleFlicker:Je,setShowGrid:p,setGridSpacing:ue,setGridColor:Be,setSelectedCells:ke,setSelectionColor:yt,setIsPlaying:El,setIsPaused:Al,onPlaybackSpeedChange:Pa,setImportRequest:ul,setArtifacts:sa,setActiveArtifactId:Yt,setArtifactCreationMode:Ta,setIsAppendingWaypoints:Rl,setDraggedInfo:xn,setArtifactDisplayOptions:Ea,pathCreationOptions:kt,setPathCreationOptions:jt,onNightfallPlotYAxisRangeChange:qt,setIsCreatingExpression:Sn,clearHoverState:Ql,onAddDataLayer:X,onAddDteCommsLayer:ie,onAddLpfCommsLayer:A,onAddBaseMapLayer:$,onAddImageLayer:d,onUpdateLayer:re,onRemoveLayer:ve,onMoveLayerUp:te,onMoveLayerDown:me,onCalculateNightfallLayer:Z,onCalculateDaylightFractionLayer:se,onCreateExpressionLayer:I,onRecalculateExpressionLayer:J,handleManualTimeRangeChange:Ue,onTogglePlay:xe,onUpdateArtifact:Ge,onRemoveArtifact:$e,onFinishArtifactCreation:B,onStartAppendWaypoints:Te,onClearSelection:Ie,onZoomToSelection:Fe,onResetZoom:ct,onExportConfig:et,onImportConfig:Ct,handleRestoreSession:rt,latRange:cc,lonRange:uc};return s.jsx(N0.Provider,{value:Tt,children:u})},ti=u=>{if(u===0)return"0 hrs";const f=(u/24).toFixed(1);return`${u} hrs (${f} days)`},vl=({title:u,children:f,defaultOpen:h=!1})=>{const[r,g]=b.useState(h);return s.jsxs("div",{children:[s.jsxs("h3",{className:"text-base font-medium text-gray-300 mb-2 bg-gray-900/50 p-2 rounded-md cursor-pointer flex justify-between items-center",onClick:()=>g(!r),children:[s.jsx("span",{children:u}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${r?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&s.jsx("div",{className:"p-3 rounded-md space-y-4 animate-fade-in bg-gray-800/30",children:f})]})},ly=()=>{const{onAddDataLayer:u,onAddDteCommsLayer:f,onAddLpfCommsLayer:h,onAddBaseMapLayer:r,onAddImageLayer:g,isLoading:w}=xl(),[_,q]=b.useState(!1),T=b.useRef(null),y=b.useRef(null),x=b.useRef(null),j=b.useRef(null),D=b.useRef(null),O=b.useRef(null),[K,P]=b.useState(null),[Ce,de]=b.useState(null),ge=b.useRef(null),fe=(W,k)=>{var pe;(pe=W.target.files)!=null&&pe[0]&&k(W.target.files[0]),q(!1)},Se=async W=>{var k;(k=W.target.files)!=null&&k[0]&&await g(W.target.files[0]),q(!1)},He=()=>{K&&Ce&&(r(K,Ce),P(null),de(null),q(!1))};return b.useEffect(()=>{const W=k=>{ge.current&&!ge.current.contains(k.target)&&q(!1)};return document.addEventListener("mousedown",W),()=>document.removeEventListener("mousedown",W)},[]),s.jsxs("div",{className:"relative",ref:ge,children:[s.jsxs("button",{onClick:()=>q(!_),disabled:!!w,className:"w-full bg-cyan-600 hover:bg-cyan-500 disabled:bg-gray-600 text-white font-semibold py-2 px-4 rounded-md text-sm transition-all flex items-center justify-center gap-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Layer"]}),_&&s.jsxs("div",{className:"absolute top-full left-0 mt-2 w-full bg-gray-800 border border-gray-700 rounded-md shadow-lg z-10 p-3 space-y-2",children:[s.jsx("input",{type:"file",ref:T,onChange:W=>fe(W,u),accept:".npy",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var W;return(W=T.current)==null?void 0:W.click()},className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md",children:"Data Layer (.npy)"}),s.jsx("input",{type:"file",ref:y,onChange:W=>fe(W,f),accept:".npy",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var W;return(W=y.current)==null?void 0:W.click()},className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md",children:"DTE Comms Layer (.npy)"}),s.jsx("input",{type:"file",ref:x,onChange:W=>fe(W,h),accept:".npy",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var W;return(W=x.current)==null?void 0:W.click()},className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md",children:"LPF Comms Layer (.npy)"}),s.jsx("input",{type:"file",ref:O,onChange:Se,accept:".png,.jpg,.jpeg",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var W;return(W=O.current)==null?void 0:W.click()},className:"w-full text-left px-3 py-2 text-sm text-gray-300 hover:bg-gray-700 rounded-md",children:"Image Layer (.png, .jpg)"}),s.jsxs("div",{className:"border-t border-gray-700 pt-2 space-y-2",children:[s.jsx("p",{className:"text-sm text-gray-400 px-3",children:"Base Map Layer"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"file",ref:j,onChange:W=>{var k;return P(((k=W.target.files)==null?void 0:k[0])??null)},accept:".png",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var W;return(W=j.current)==null?void 0:W.click()},className:"w-full text-center px-3 py-2 text-xs bg-teal-700 hover:bg-teal-600 rounded-md truncate",title:K==null?void 0:K.name,children:K?K.name:"Select .png"}),s.jsx("input",{type:"file",ref:D,onChange:W=>{var k;return de(((k=W.target.files)==null?void 0:k[0])??null)},accept:".vrt",style:{display:"none"}}),s.jsx("button",{onClick:()=>{var W;return(W=D.current)==null?void 0:W.click()},className:"w-full text-center px-3 py-2 text-xs bg-purple-700 hover:bg-purple-600 rounded-md truncate",title:Ce==null?void 0:Ce.name,children:Ce?Ce.name:"Select .vrt"})]}),s.jsx("button",{onClick:He,disabled:!K||!Ce,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-600 text-white font-semibold py-1 px-3 rounded-md text-sm transition-all",children:"Add Base Map"})]})]})]})},g0=u=>{const f=d3.color(u);if(!f)return{hex:"#000000",alpha:1};const{r:h,g:r,b:g,opacity:w}=f.rgb(),_=T=>("0"+Math.round(T).toString(16)).slice(-2);return{hex:`#${_(h)}${_(r)}${_(g)}`,alpha:w}},p0=(u,f)=>{const h=d3.color(u);if(!h)return`rgba(0, 0, 0, ${f})`;const{r,g,b:w}=h.rgb();return`rgba(${r}, ${g}, ${w}, ${f})`},ay=({stops:u,onStopsChange:f,units:h,layerRange:r})=>{const[g,w]=b.useState("0"),[_,q]=b.useState("#ffffff"),[T,y]=b.useState(1),x=()=>{const O=parseFloat(g);if(isNaN(O))return;const K=[...u,{value:O,color:p0(_,T)}];K.sort((P,Ce)=>P.value-Ce.value),f(K)},j=(O,K)=>{const P=[...u],Ce=P[O];if("value"in K){const de=typeof K.value=="string"?parseFloat(K.value):K.value;if(isNaN(de))return;P[O]={...Ce,value:de},P.sort((ge,fe)=>ge.value-fe.value)}else{const{hex:de,alpha:ge}=g0(Ce.color),fe="color"in K?K.color:de,Se="alpha"in K?K.alpha:ge;P[O]={...Ce,color:p0(fe,Se)}}f(P)},D=O=>{f(u.filter((K,P)=>P!==O))};return s.jsxs("div",{className:"space-y-3 p-3 bg-gray-900/30 rounded-md",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Colormap Stops"}),s.jsx("div",{className:"space-y-2",children:u.map((O,K)=>{const{hex:P,alpha:Ce}=g0(O.color),de=K===0,ge=de?h==="days"?(r.min/24).toFixed(1):r.min.toFixed(0):h==="days"?O.value.toFixed(1):O.value.toFixed(0);return s.jsxs("div",{className:"grid grid-cols-[20px_1fr_auto_auto_auto] items-center gap-2 text-sm",children:[s.jsx("span",{className:"text-right pr-1 font-mono text-gray-400",children:!de&&">="}),s.jsx("input",{type:"text",defaultValue:ge,readOnly:de,onBlur:de?void 0:fe=>{let Se=parseFloat(fe.target.value);isNaN(Se)||j(K,{value:Se})},className:"w-full bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600 disabled:bg-gray-800 disabled:text-gray-500",disabled:de,title:`Value${h==="days"?" (days)":""}`},ge+O.color),s.jsx("input",{type:"color",value:P,onChange:fe=>j(K,{color:fe.target.value}),className:"w-8 h-8 p-0 border-none rounded-md bg-transparent"}),s.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",defaultValue:Ce.toFixed(2),onBlur:fe=>{let Se=parseFloat(fe.target.value);isNaN(Se)&&(Se=1),Se<0&&(Se=0),Se>1&&(Se=1),j(K,{alpha:Se})},className:"w-16 bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600",placeholder:"Opacity"}),s.jsx("button",{disabled:de,onClick:()=>D(K),className:"text-gray-500 hover:text-red-400 disabled:opacity-30 disabled:cursor-not-allowed ml-auto",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]},K)})}),s.jsxs("div",{className:"border-t border-gray-600 pt-3 grid grid-cols-[20px_1fr_auto_auto_auto] items-center gap-2",children:[s.jsx("span",{}),s.jsx("input",{type:"number",step:h==="days"?.1:1,value:g,onChange:O=>w(O.target.value),className:"w-full bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600",placeholder:"Value"}),s.jsx("input",{type:"color",value:_,onChange:O=>q(O.target.value),className:"w-8 h-8 p-0 border-none rounded-md bg-transparent"}),s.jsx("input",{type:"number",min:"0",max:"1",step:"0.01",value:T,onChange:O=>y(Number(O.target.value)),className:"w-16 bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600",placeholder:"Opacity"}),s.jsx("button",{onClick:x,className:"bg-teal-600 hover:bg-teal-500 text-white text-xs font-semibold py-1.5 px-2 rounded-md",children:"Add"})]})]})},ny=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),iy=u=>{switch(u){case"basemap":return"Basemap Layer";case"data":return"Data Layer";case"analysis":return"Analysis Layer";case"dte_comms":return"DTE Comms Layer";case"lpf_comms":return"LPF Comms Layer";case"image":return"Image Layer";default:return"Layer"}},sy=fc.memo(({layer:u,isActive:f,onSelect:h})=>{const{onUpdateLayer:r,onRemoveLayer:g,onMoveLayerUp:w,onMoveLayerDown:_,onCalculateNightfallLayer:q,onCalculateDaylightFractionLayer:T,daylightFractionHoverData:y,flickeringLayerId:x,onToggleFlicker:j,layers:D,onRecalculateExpressionLayer:O,isLoading:K}=xl(),[P,Ce]=b.useState(!1),[de,ge]=b.useState(""),fe=u.type==="analysis"&&u.analysisType==="nightfall",Se=u.type==="analysis"&&u.analysisType==="expression",He=fe&&u.colormap==="Custom",W=u.type==="data"||u.type==="analysis"||u.type==="dte_comms"||u.type==="lpf_comms",k=b.useMemo(()=>D.filter(F=>F.type==="data"||F.type==="analysis"||F.type==="dte_comms"||F.type==="lpf_comms").filter(F=>F.id!==u.id).map(F=>rc(F.name)),[D,u.id]),pe=()=>{u.type==="analysis"&&u.params.expression&&(ge(u.params.expression),Ce(!0))},Ae=async()=>{de.trim()&&O&&(await O(u.id,de),Ce(!1))};return s.jsxs("div",{className:`bg-gray-800/60 rounded-lg border ${f?"border-cyan-500/50":"border-gray-700/80"}`,children:[s.jsxs("div",{className:"flex items-center p-2 gap-2",children:[s.jsx("button",{onClick:()=>r(u.id,{visible:!u.visible}),title:u.visible?"Hide Layer":"Show Layer",className:"text-gray-400 hover:text-white",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd",style:{opacity:u.visible?1:.3}})]})}),s.jsx("button",{onClick:()=>j(u.id),title:"Flicker Layer",className:`${u.id===x?"text-cyan-400":"text-gray-400 hover:text-white"}`,children:s.jsx(ny,{})}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("button",{onClick:()=>w(u.id),title:"Move Layer Up",className:"text-gray-400 hover:text-white p-0 h-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:()=>_(u.id),title:"Move Layer Down",className:"text-gray-400 hover:text-white p-0 h-3",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),s.jsxs("div",{onClick:h,className:"flex-grow cursor-pointer truncate text-sm",children:[s.jsx("p",{className:"font-medium text-gray-200",title:u.name,children:u.name}),s.jsx("p",{className:"text-xs text-gray-400",children:iy(u.type)}),u.type==="analysis"&&u.analysisType==="expression"&&u.params.expression&&s.jsxs("p",{className:"text-xs text-gray-500 font-mono truncate mt-1",title:u.params.expression,children:["Expr: ",u.params.expression]})]}),s.jsx("button",{onClick:h,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${f?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:()=>g(u.id),title:"Remove Layer",className:"text-gray-500 hover:text-red-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),f&&s.jsxs("div",{className:"p-3 border-t border-gray-700 space-y-4 animate-fade-in",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-400",children:["Opacity: ",Math.round(u.opacity*100),"%"]}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:u.opacity,onChange:F=>r(u.id,{opacity:Number(F.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),u.type==="image"&&s.jsxs("div",{className:"space-y-3 border-t border-gray-700 pt-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Transformation"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Scale X: ",u.scaleX.toFixed(2),"x"]}),s.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.01",value:u.scaleX,onChange:F=>r(u.id,{scaleX:Number(F.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Scale Y: ",u.scaleY.toFixed(2),"x"]}),s.jsx("input",{type:"range",min:"0.1",max:"5",step:"0.01",value:u.scaleY,onChange:F=>r(u.id,{scaleY:Number(F.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Rotation: ",u.rotation.toFixed(0),""]}),s.jsx("input",{type:"range",min:"-180",max:"180",step:"1",value:u.rotation,onChange:F=>r(u.id,{rotation:Number(F.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position X"}),s.jsx("input",{type:"number",step:"100",value:u.position[0].toFixed(0),onChange:F=>{const De=[Number(F.target.value),u.position[1]];r(u.id,{position:De})},className:"w-full bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Position Y"}),s.jsx("input",{type:"number",step:"100",value:u.position[1].toFixed(0),onChange:F=>{const De=[u.position[0],Number(F.target.value)];r(u.id,{position:De})},className:"w-full bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"})]})]}),s.jsx("button",{onClick:()=>{r(u.id,{scaleX:1,scaleY:1,rotation:0})},className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-medium py-1.5 px-3 rounded-md text-xs transition-all",children:"Reset Transformation"}),s.jsx("button",{onClick:()=>{const F=document.createElement("canvas"),De=u.originalWidth*u.scaleX,Le=u.originalHeight*u.scaleY;F.width=De,F.height=Le;const Ze=F.getContext("2d");Ze.translate(F.width/2,F.height/2),Ze.rotate(u.rotation*Math.PI/180),Ze.scale(u.scaleX,u.scaleY),Ze.drawImage(u.image,-u.originalWidth/2,-u.originalHeight/2,u.originalWidth,u.originalHeight),F.toBlob(at=>{if(at){const je=URL.createObjectURL(at),E=document.createElement("a");E.href=je,E.download=`transformed_${u.fileName}`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(je)}},"image/png")},className:"w-full bg-green-600 hover:bg-green-500 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Export Transformed Image"})]})]}),W&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Colormap"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("select",{value:u.colormap,onChange:F=>r(u.id,{colormap:F.target.value}),className:"flex-grow bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-cyan-500 focus:border-cyan-500 block p-2.5",children:Zh.map(F=>s.jsx("option",{value:F,children:F},F))}),s.jsxs("label",{className:"flex items-center gap-1.5 text-sm text-gray-400 cursor-pointer whitespace-nowrap",children:[s.jsx("input",{type:"checkbox",checked:!!u.colormapInverted,onChange:F=>r(u.id,{colormapInverted:F.target.checked}),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),"Invert"]})]})]}),u.colormap==="Custom"&&s.jsx(ay,{layerRange:u.range,stops:(u.customColormap||[]).map(F=>({...F,value:He?F.value/24:F.value})),onStopsChange:F=>{const De=F.map(Le=>({...Le,value:He?Le.value*24:Le.value}));r(u.id,{customColormap:De})},units:He?"days":void 0}),u.colormap!=="Custom"&&s.jsxs("div",{className:"space-y-2 p-3 bg-gray-900/30 rounded-md",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Transparency Thresholds"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Lower "}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("input",{type:"number",step:"any",value:u.transparencyLowerThreshold??"",onChange:F=>{const De=F.target.value===""?void 0:Number(F.target.value);r(u.id,{transparencyLowerThreshold:De})},placeholder:"None",className:"flex-1 bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"}),u.transparencyLowerThreshold!==void 0&&s.jsx("button",{onClick:()=>r(u.id,{transparencyLowerThreshold:void 0}),className:"text-gray-400 hover:text-red-400 flex-shrink-0",title:"Clear",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Upper "}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx("input",{type:"number",step:"any",value:u.transparencyUpperThreshold??"",onChange:F=>{const De=F.target.value===""?void 0:Number(F.target.value);r(u.id,{transparencyUpperThreshold:De})},placeholder:"None",className:"flex-1 bg-gray-700 text-white text-sm rounded-md px-2 py-1.5 border border-gray-600"}),u.transparencyUpperThreshold!==void 0&&s.jsx("button",{onClick:()=>r(u.id,{transparencyUpperThreshold:void 0}),className:"text-gray-400 hover:text-red-400 flex-shrink-0",title:"Clear",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),s.jsx("p",{className:"text-xs text-gray-500 italic",children:"Values at or beyond thresholds become transparent"})]})]}),s.jsx("div",{className:"flex flex-col items-center",children:s.jsx(Qh,{colorMap:u.colormap,customColormap:u.customColormap,dataRange:fe?{min:-(u.params.clipValue??0),max:u.params.clipValue??0}:u.range,units:u.type==="analysis"?u.analysisType==="nightfall"?"days":"%":void 0,inverted:u.colormapInverted,isThreshold:u.colormap==="Custom"})})]}),u.type==="analysis"&&u.analysisType==="daylight_fraction"&&y&&s.jsxs("div",{className:"mt-3 p-3 bg-gray-900/40 rounded-md text-sm space-y-2 animate-fade-in",children:[s.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Hover Details"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Daylight Fraction:"}),s.jsxs("span",{className:"font-mono text-cyan-300",children:[y.fraction.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Total Daylight:"}),s.jsx("span",{className:"font-mono text-cyan-300",children:ti(y.dayHours)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Total Night:"}),s.jsx("span",{className:"font-mono text-cyan-300",children:ti(y.nightHours)})]}),s.jsxs("div",{className:"border-t border-gray-700/50 pt-2 mt-2 space-y-1",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Day Periods"}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Count:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:y.dayPeriods})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Longest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ti(y.longestDayPeriod)})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Shortest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ti(y.shortestDayPeriod)})]})]}),s.jsxs("div",{className:"border-t border-gray-700/50 pt-2 mt-2 space-y-1",children:[s.jsx("p",{className:"text-xs text-gray-400",children:"Night Periods"}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Count:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:y.nightPeriods})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Longest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ti(y.longestNightPeriod)})]}),s.jsxs("div",{className:"flex justify-between text-xs pl-2",children:[s.jsx("span",{className:"text-gray-400",children:"Shortest:"}),s.jsx("span",{className:"font-mono text-cyan-400",children:ti(y.shortestNightPeriod)})]})]})]}),u.type==="data"&&s.jsxs("div",{className:"border-t border-gray-700 pt-3 space-y-2",children:[s.jsx("button",{onClick:()=>q(u.id),className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Calculate Nightfall Forecast"}),s.jsx("button",{onClick:()=>T(u.id),className:"w-full bg-amber-600 hover:bg-amber-500 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Calculate Daylight Fraction"})]}),fe&&s.jsxs("div",{className:"border-t border-gray-700 pt-3 space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Colormap Clipping"}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-400",children:["Clip colormap at: ",`${((u.params.clipValue??0)/24).toFixed(1)} days`]}),s.jsx("input",{type:"range",min:"0",max:"1000",step:"1",value:u.params.clipValue,onChange:F=>r(u.id,{params:{...u.params,clipValue:Number(F.target.value)}}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500 mt-1"})]})]}),Se&&s.jsxs("div",{className:"border-t border-gray-700 pt-3 space-y-3",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Expression"}),P?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"New Expression"}),s.jsx("textarea",{value:de,onChange:F=>ge(F.target.value),rows:3,className:"w-full bg-gray-700 text-white text-xs rounded-md p-1.5 border border-gray-600 font-mono",placeholder:"Enter expression..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Available Variables"}),s.jsx("div",{className:"bg-gray-800 p-2 rounded-md text-xs font-mono text-gray-400 flex flex-wrap gap-x-2 gap-y-1",children:k.length>0?k.map(F=>s.jsx("span",{children:F},F)):s.jsx("span",{className:"text-gray-500",children:"No variables available"})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Ce(!1),className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white font-semibold py-1.5 px-3 rounded-md text-sm",children:"Cancel"}),s.jsx("button",{onClick:Ae,disabled:!de.trim()||!!K,className:"flex-1 bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-700 disabled:cursor-not-allowed text-white font-semibold py-1.5 px-3 rounded-md text-sm",children:K&&K.toLowerCase().includes("expression")?"Calculating...":"Apply"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-gray-900/40 p-2 rounded-md",children:s.jsx("p",{className:"text-xs font-mono text-gray-300 break-words",children:u.params.expression||"No expression defined"})}),s.jsx("button",{onClick:pe,disabled:!!K,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Edit Expression"})]})]})]})]})}),cy=()=>{const{layers:u,onCreateExpressionLayer:f,setIsCreatingExpression:h,isLoading:r}=xl(),[g,w]=b.useState("Expression Layer"),[_,q]=b.useState(""),T=b.useMemo(()=>u.filter(j=>j.type==="data"||j.type==="analysis"||j.type==="dte_comms"||j.type==="lpf_comms").map(j=>rc(j.name)),[u]),y=async()=>{g.trim()&&_.trim()&&await f(g,_)},x=!!r&&r.toLowerCase().includes("expression");return s.jsxs("div",{className:"p-3 bg-gray-900/50 border border-cyan-700 rounded-md text-sm text-cyan-200 space-y-4",children:[s.jsx("h3",{className:"text-base font-medium text-cyan-300",children:"Create Expression Layer"}),x&&s.jsxs("div",{className:"p-4 bg-cyan-900/50 border border-cyan-500 rounded-md text-center space-y-3 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsxs("svg",{className:"animate-spin h-5 w-5 text-cyan-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{className:"text-cyan-300 font-semibold",children:r})]}),s.jsx("p",{className:"text-xs text-cyan-400",children:"Please wait, this may take a while for large datasets..."})]}),T.length===0&&!x&&s.jsx("div",{className:"p-2 bg-red-900/30 border border-red-600/50 rounded-md text-xs text-red-200",children:"No data layers available. Please load data layers before creating expressions."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Layer Name"}),s.jsx("input",{type:"text",value:g,onChange:j=>w(j.target.value),disabled:x,className:"w-full bg-gray-700 text-white text-sm rounded-md p-1.5 border border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Expression"}),s.jsx("textarea",{value:_,onChange:j=>q(j.target.value),rows:4,disabled:x,className:"w-full bg-gray-700 text-white text-sm rounded-md p-1.5 border border-gray-600 font-mono disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"(Nightfall_Forecast > 0) AND (DTE_Comms == 1)"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Available Variables"}),s.jsx("div",{className:"bg-gray-800 p-2 rounded-md text-xs font-mono text-gray-400 flex flex-wrap gap-x-3 gap-y-1",children:T.length>0?T.map(j=>s.jsx("span",{children:j},j)):s.jsx("span",{className:"text-gray-500",children:"No data layers available."})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>h(!1),disabled:x,className:"bg-gray-600 hover:bg-gray-500 disabled:bg-gray-800 disabled:cursor-not-allowed text-white font-semibold py-1.5 px-3 rounded-md text-sm",children:"Cancel"}),s.jsx("button",{onClick:y,disabled:!g.trim()||!_.trim()||x,className:"bg-cyan-600 hover:bg-cyan-500 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-semibold py-1.5 px-3 rounded-md text-sm",children:x?"Computing...":"Create"})]})]})},uy=()=>{const{layers:u,activeLayerId:f,setActiveLayerId:h,isCreatingExpression:r,setIsCreatingExpression:g,isLoading:w}=xl(),_=b.useMemo(()=>u.some(q=>q.type==="data"||q.type==="analysis"||q.type==="dte_comms"||q.type==="lpf_comms"),[u]);return r?s.jsx(cy,{}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Layer Management"}),s.jsx(ly,{}),!_&&s.jsx("div",{className:"p-2 bg-yellow-900/30 border border-yellow-600/50 rounded-md text-xs text-yellow-200",children:"Load a data layer before creating expression layers"}),s.jsx("button",{onClick:()=>g(!0),disabled:!!w||!_,className:"w-full bg-indigo-600 hover:bg-indigo-500 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-semibold py-2 px-4 rounded-md text-sm transition-all flex items-center justify-center gap-2",title:_?"Create a layer from an expression":"Load a data layer first",children:"Add Expression Layer"}),w&&s.jsx("div",{className:"text-sm text-cyan-300 text-center p-2 bg-gray-900/50 rounded-md",children:w}),s.jsx("div",{className:"space-y-2",children:u.length>0?[...u].reverse().map(q=>s.jsx(sy,{layer:q,isActive:q.id===f,onSelect:()=>h(q.id===f?null:q.id)},q.id)):s.jsx("p",{className:"text-sm text-gray-500 text-center p-4",children:"No layers loaded."})})]})},oy=fc.memo(({artifact:u,isActive:f,onSelect:h})=>{const{onUpdateArtifact:r,onRemoveArtifact:g,onStartAppendWaypoints:w}=xl(),_=(x,j)=>{r(u.id,{[x]:j})},q=(x,j,D)=>{const O=[...x.waypoints];O[j]={...O[j],...D},r(x.id,{waypoints:O})},T=(x,j,D,O)=>{const K=parseFloat(O);if(isNaN(K))return;const P=[...x.waypoints],Ce=P[j].geoPosition,de=[D==="lon"?K:Ce[0],D==="lat"?K:Ce[1]];P[j]={...P[j],geoPosition:de},r(x.id,{waypoints:P})},y=(x,j)=>{const D=x.waypoints.filter((O,K)=>K!==j);r(x.id,{waypoints:D})};return s.jsxs("div",{className:`bg-gray-800/60 rounded-lg border ${f?"border-cyan-500/50":"border-gray-700/80"}`,children:[s.jsxs("div",{className:"flex items-center p-2 gap-2",children:[s.jsx("button",{onClick:()=>_("visible",!u.visible),title:u.visible?"Hide":"Show",className:"text-gray-400 hover:text-white",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.022 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd",style:{opacity:u.visible?1:.3}})]})}),s.jsxs("div",{onClick:h,className:"flex-grow cursor-pointer truncate text-sm",children:[s.jsx("p",{className:"font-medium text-gray-200",title:u.name,children:u.name}),s.jsx("p",{className:"text-xs text-gray-400",children:u.type.charAt(0).toUpperCase()+u.type.slice(1)})]}),s.jsx("button",{onClick:h,className:"text-gray-400 hover:text-white",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`h-5 w-5 transition-transform ${f?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:()=>g(u.id),title:"Remove",className:"text-gray-500 hover:text-red-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),f&&s.jsxs("div",{className:"p-3 border-t border-gray-700 space-y-4 text-sm animate-fade-in",children:[s.jsxs(vl,{title:"General",defaultOpen:!0,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Name"}),s.jsx("input",{type:"text",value:u.name,onChange:x=>_("name",x.target.value),className:"w-40 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Color"}),s.jsx("input",{type:"color",value:u.color,onChange:x=>_("color",x.target.value),className:"w-10 h-8 p-0 border-none rounded-md bg-transparent cursor-pointer"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block font-medium text-gray-300 mb-1",children:["Thickness: ",u.thickness,"px"]}),s.jsx("input",{type:"range",min:"1",max:"10",step:"1",value:u.thickness,onChange:x=>_("thickness",Number(x.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]})]}),u.type==="circle"&&s.jsx(vl,{title:"Circle Properties",defaultOpen:!0,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Radius (m)"}),s.jsx("input",{type:"number",min:"0",value:u.radius,onChange:x=>r(u.id,{radius:Number(x.target.value)}),className:"w-24 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]})}),u.type==="rectangle"&&s.jsxs(vl,{title:"Rectangle Properties",defaultOpen:!0,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Width (m)"}),s.jsx("input",{type:"number",min:"0",value:u.width,onChange:x=>r(u.id,{width:Number(x.target.value)}),className:"w-24 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"font-medium text-gray-300",children:"Height (m)"}),s.jsx("input",{type:"number",min:"0",value:u.height,onChange:x=>r(u.id,{height:Number(x.target.value)}),className:"w-24 bg-gray-700 text-white rounded-md p-1 border border-gray-600 text-right"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block font-medium text-gray-300 mb-1",children:["Rotation: ",u.rotation,""]}),s.jsx("input",{type:"range",min:"0",max:"360",step:"1",value:u.rotation,onChange:x=>r(u.id,{rotation:Number(x.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]})]}),u.type==="path"&&s.jsxs(s.Fragment,{children:[s.jsx(vl,{title:"Path Tools",children:s.jsx("button",{onClick:w,className:"w-full bg-teal-600 hover:bg-teal-500 text-white text-sm font-semibold py-1.5 px-2 rounded-md",children:"Add Waypoints"})}),s.jsx(vl,{title:"Path Waypoints",defaultOpen:!0,children:s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto pr-2",children:u.waypoints.map((x,j)=>s.jsxs("div",{className:"bg-gray-900/40 p-1.5 rounded-md space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-mono text-gray-400",children:[j+1,"."]}),s.jsx("input",{type:"text",value:x.label,onChange:D=>q(u,j,{label:D.target.value}),className:"w-full bg-gray-700 text-white rounded p-1 border border-gray-600 text-sm",placeholder:"Label"}),s.jsx("button",{onClick:()=>y(u,j),title:"Remove Waypoint",className:"text-gray-500 hover:text-red-400",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),s.jsxs("div",{className:"flex items-center gap-2 pl-6",children:[s.jsx("input",{type:"number",step:"any",value:x.geoPosition[0],onChange:D=>T(u,j,"lon",D.target.value),className:"w-full bg-gray-700 text-white rounded p-1 border border-gray-600 text-xs",placeholder:"Lon",title:"Longitude"}),s.jsx("input",{type:"number",step:"any",value:x.geoPosition[1],onChange:D=>T(u,j,"lat",D.target.value),className:"w-full bg-gray-700 text-white rounded p-1 border border-gray-600 text-xs",placeholder:"Lat",title:"Latitude"})]})]},x.id))})})]})]})]})}),ry=()=>{const{artifacts:u,activeArtifactId:f,setActiveArtifactId:h,artifactCreationMode:r,setArtifactCreationMode:g,onFinishArtifactCreation:w,primaryDataLayer:_,baseMapLayer:q,isAppendingWaypoints:T,pathCreationOptions:y,setPathCreationOptions:x}=xl();return!!_||!!q?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Artifacts"}),r==="path"?s.jsxs("div",{className:"p-3 bg-cyan-900/50 border border-cyan-700 rounded-md text-sm text-cyan-200 space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Drawing Path:"})," Click on the map to add waypoints. Press 'Esc' or click finish when done."]}),s.jsx("button",{onClick:w,className:"w-full bg-cyan-600 hover:bg-cyan-500 text-white font-semibold py-1.5 px-3 rounded-md text-sm transition-all",children:"Finish Drawing"})]}):T?s.jsxs("div",{className:"p-3 bg-teal-900/50 border border-teal-700 rounded-md text-sm text-teal-200 space-y-3",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Appending to Path:"})," Click on the map to add new waypoints. Press 'Esc' or click finish to stop."]}),s.jsx("button",{onClick:w,className:"w-full bg-teal-600 hover:bg-teal-500 text-white font-semibold py-1.5 px-3 rounded-md text-sm transition-all",children:"Finish Appending"})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Add and manage annotations on the map. Click a button below, then click on the map to place an artifact."}),s.jsx(vl,{title:"Path Creation Settings",defaultOpen:!1,children:s.jsx("div",{className:"space-y-2",children:s.jsxs("label",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Max Segment Length (m):"}),s.jsx("input",{type:"number",min:"0",step:"100",value:y.defaultMaxSegmentLength??"",placeholder:"No limit",onChange:D=>{const O=D.target.value===""?null:parseFloat(D.target.value);x({defaultMaxSegmentLength:O})},className:"bg-gray-700 text-white rounded p-2 border border-gray-600 text-sm",title:"Maximum distance between waypoints. A visual guide circle will be shown during path creation."}),s.jsx("span",{className:"text-xs text-gray-500",children:"Set a limit before creating a path. Leave empty for no limit."})]})})}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{onClick:()=>g("circle"),className:"bg-teal-700 hover:bg-teal-600 text-white font-semibold py-2 px-2 rounded-md text-sm transition-all text-center",children:"Add Circle"}),s.jsx("button",{onClick:()=>g("rectangle"),className:"bg-indigo-700 hover:bg-indigo-600 text-white font-semibold py-2 px-2 rounded-md text-sm transition-all text-center",children:"Add Rect"}),s.jsx("button",{onClick:()=>g("path"),className:"bg-purple-700 hover:bg-purple-600 text-white font-semibold py-2 px-2 rounded-md text-sm transition-all text-center",children:"Add Path"})]})]}),s.jsx("div",{className:"space-y-2",children:u.length>0?[...u].reverse().map(D=>s.jsx(oy,{artifact:D,isActive:D.id===f,onSelect:()=>h(D.id===f?null:D.id)},D.id)):s.jsx("p",{className:"text-sm text-gray-500 text-center p-4",children:"No artifacts created."})})]}):s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Artifacts"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Load a basemap or data layer to add artifacts."})]})},fy=()=>{const{primaryDataLayer:u,selectedCells:f,selectionColor:h,setSelectionColor:r,onClearSelection:g}=xl();return!u?s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Measurement"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Load a data layer to select cells."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Cell Selection"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Click on the map to select or deselect individual cells."}),s.jsxs(vl,{title:"Selection Tools",defaultOpen:!0,children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-300",children:"Selected cells:"}),s.jsx("span",{className:"font-mono text-cyan-300",children:f.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-300",children:"Highlight Color"}),s.jsx("input",{type:"color",value:h,onChange:_=>r(_.target.value),className:"w-10 h-8 p-0 border-none rounded-md bg-transparent cursor-pointer"})]}),s.jsx("button",{onClick:g,disabled:f.length===0,className:"w-full bg-red-600 hover:bg-red-500 disabled:bg-gray-600 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Clear Selection"})]})]})},dy=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),my=()=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),hy=()=>{const{primaryDataLayer:u,baseMapLayer:f,activeLayer:h,timeRange:r,showGraticule:g,setShowGraticule:w,graticuleDensity:_,setGraticuleDensity:q,selectedPixel:T,showGrid:y,setShowGrid:x,gridSpacing:j,setGridSpacing:D,gridColor:O,setGridColor:K,isPlaying:P,isPaused:Ce,playbackSpeed:de,onTogglePlay:ge,onPlaybackSpeedChange:fe,onImportConfig:Se,onExportConfig:He,artifactDisplayOptions:W,setArtifactDisplayOptions:k,nightfallPlotYAxisRange:pe,onNightfallPlotYAxisRangeChange:Ae}=xl(),F=!!u||!!f,De=b.useRef(null),Le=()=>{var je;return(je=De.current)==null?void 0:je.click()},Ze=je=>{var E;(E=je.target.files)!=null&&E[0]&&(Se(je.target.files[0]),je.target.value="")},at=(h==null?void 0:h.type)==="analysis"&&h.analysisType==="nightfall";return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-cyan-300",children:"Configuration"}),s.jsxs(vl,{title:"Session Management",defaultOpen:!0,children:[s.jsx("input",{type:"file",ref:De,onChange:Ze,accept:".json",style:{display:"none"}}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:Le,className:"w-full bg-indigo-600 hover:bg-indigo-500 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Import Config"}),s.jsx("button",{onClick:He,disabled:!F,className:"w-full bg-teal-600 hover:bg-teal-500 disabled:bg-gray-600 text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",children:"Export Config"})]})]}),F?s.jsxs(s.Fragment,{children:[at&&s.jsxs(vl,{title:"Plot Options",defaultOpen:!0,children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Nightfall Plot Y-Axis Range"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-xs text-gray-400",children:"Min (days)"}),s.jsx("input",{type:"number",step:"1",value:pe.min,onChange:je=>Ae({...pe,min:Number(je.target.value)}),className:"w-full bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600"}),s.jsx("label",{className:"text-xs text-gray-400",children:"Max (days)"}),s.jsx("input",{type:"number",step:"1",value:pe.max,onChange:je=>Ae({...pe,max:Number(je.target.value)}),className:"w-full bg-gray-700 text-white text-sm rounded-md p-1 border border-gray-600"})]})]}),s.jsx(vl,{title:"Time Animation",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:ge,disabled:!P&&!Ce&&(!r||r.start>=r.end),className:"flex items-center justify-center gap-2 w-28 bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed text-white font-semibold py-2 px-3 rounded-md text-sm transition-all",title:P?"Stop":Ce?"Resume Playback":!r||r.start>=r.end?"Select a time range on the slider to enable playback":"Play",children:[P?s.jsx(my,{}):s.jsx(dy,{}),s.jsx("span",{children:P?"Stop":Ce?"Resume":"Play"})]}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("label",{className:"block text-xs text-gray-400 mb-1",children:["Speed: ",de," FPS"]}),s.jsx("input",{type:"range",min:"1",max:"30",step:"1",value:de,onChange:je=>fe(Number(je.target.value)),disabled:P,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 disabled:opacity-50"})]})]})}),s.jsxs(vl,{title:"View Options",defaultOpen:!0,children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:g,onChange:je=>w(je.target.checked),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),s.jsx("span",{children:"Show Graticule"})]}),g&&s.jsxs("div",{className:"pt-3",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-400",children:["Density: ",_.toFixed(1),"x"]}),s.jsx("input",{type:"range",min:"0.2",max:"5",step:"0.1",value:_,onChange:je=>q(Number(je.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]})]}),s.jsxs(vl,{title:"Artifact Display Options",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-400",children:["Waypoint Dot Size: ",W.waypointDotSize,"px"]}),s.jsx("input",{type:"range",min:"2",max:"20",step:"1",value:W.waypointDotSize,onChange:je=>k({...W,waypointDotSize:Number(je.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-400",children:["Label Font Size: ",W.labelFontSize,"px"]}),s.jsx("input",{type:"range",min:"8",max:"24",step:"1",value:W.labelFontSize,onChange:je=>k({...W,labelFontSize:Number(je.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-gray-300",children:[s.jsx("input",{type:"checkbox",checked:W.showSegmentLengths,onChange:je=>k({...W,showSegmentLengths:je.target.checked}),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),s.jsx("span",{children:"Show Segment Lengths"})]})]}),s.jsxs(vl,{title:"Grid Overlay",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y,onChange:je=>x(je.target.checked),className:"w-4 h-4 text-cyan-600 bg-gray-700 border-gray-600 rounded focus:ring-cyan-500"}),s.jsx("span",{children:"Show Grid Overlay"})]}),y&&s.jsxs("div",{className:"pt-3 space-y-3 border-t border-gray-700/50 mt-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-400",children:["Spacing: ",j,"m"]}),s.jsx("input",{type:"range",min:"10",max:"1000",step:"10",value:j,onChange:je=>D(Number(je.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-1"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Color"}),s.jsx("input",{type:"color",value:O.slice(0,7),onChange:je=>K(je.target.value+"80"),className:"w-10 h-8 p-0 border-none rounded-md bg-transparent cursor-pointer"})]})]})]}),s.jsx(vl,{title:"Selected Pixel",defaultOpen:!0,children:s.jsx("div",{className:"text-sm space-y-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Pixel (X, Y):"}),s.jsx("span",{className:"font-mono text-green-400",children:T?`${T.x}, ${T.y}`:"---"})]})})})]}):s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Load a data layer or import a session to see more options."})]})},yy=()=>{const{activeTool:u}=xl(),f=()=>{switch(u){case"layers":return s.jsx(uy,{});case"artifacts":return s.jsx(ry,{});case"measurement":return s.jsx(fy,{});case"config":return s.jsx(hy,{});default:return null}};return s.jsx("aside",{className:"bg-gray-800/50 border-r border-gray-700 p-4 w-80 flex-shrink-0 flex flex-col gap-6 overflow-y-auto",children:f()})},jo="w-9 h-9 bg-gray-800/80 hover:bg-gray-700/90 text-gray-200 rounded-md flex items-center justify-center text-xl font-mono transition-colors shadow-lg border border-gray-600/50",gy=({onZoomIn:u,onZoomOut:f,onResetView:h})=>s.jsxs("div",{className:"absolute top-3 left-3 z-30 flex flex-col gap-1.5",children:[s.jsx("button",{onClick:u,className:jo,"aria-label":"Zoom In",title:"Zoom In",children:"+"}),s.jsx("button",{onClick:f,className:jo,"aria-label":"Zoom Out",title:"Zoom Out",children:"-"}),s.jsx("button",{onClick:h,className:jo,"aria-label":"Reset View",title:"Reset View",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5v-4m0 0h-4m4 0l-5-5"})})})]});class py{constructor(f){if(f<=0)throw new Error("Cache capacity must be positive");this.capacity=f,this.cache=new Map,this.accessOrder=[]}get(f){const h=this.cache.get(f);return h!==void 0&&this.updateAccessOrder(f),h}set(f,h){if(this.cache.has(f)){this.cache.set(f,h),this.updateAccessOrder(f);return}this.cache.size>=this.capacity&&this.evictLRU(),this.cache.set(f,h),this.accessOrder.push(f)}has(f){return this.cache.has(f)}delete(f){const h=this.cache.delete(f);return h&&(this.accessOrder=this.accessOrder.filter(r=>r!==f)),h}clear(){this.cache.clear(),this.accessOrder=[]}get size(){return this.cache.size}get maxSize(){return this.capacity}keys(){return[...this.accessOrder]}values(){return this.accessOrder.map(f=>this.cache.get(f))}getStats(){return{size:this.size,capacity:this.capacity,utilizationPercent:this.size/this.capacity*100}}updateAccessOrder(f){this.accessOrder=this.accessOrder.filter(h=>h!==f),this.accessOrder.push(f)}evictLRU(){if(this.accessOrder.length===0)return;const f=this.accessOrder[0];this.cache.delete(f),this.accessOrder.shift()}}class vy extends py{constructor(f,h=500){super(f),this.currentMemoryBytes=0,this.maxMemoryBytes=h*1024*1024}getCanvasMemorySize(f){return f.width*f.height*4}set(f,h){const r=this.getCanvasMemorySize(h);if(this.currentMemoryBytes+r>this.maxMemoryBytes)for(;this.currentMemoryBytes+r>this.maxMemoryBytes&&this.size>0;)this.evictOldest();if(r>this.maxMemoryBytes){console.warn(`Canvas too large for cache: ${(r/1024/1024).toFixed(2)}MB`);return}super.set(f,h),this.currentMemoryBytes+=r}delete(f){const h=this.get(f);return h&&(this.currentMemoryBytes-=this.getCanvasMemorySize(h)),super.delete(f)}clear(){super.clear(),this.currentMemoryBytes=0}evictOldest(){const f=this.keys();f.length>0&&this.delete(f[0])}getStats(){return{...super.getStats(),currentMemoryMB:this.currentMemoryBytes/1024/1024,maxMemoryMB:this.maxMemoryBytes/1024/1024,memoryUtilizationPercent:this.currentMemoryBytes/this.maxMemoryBytes*100}}}function wo(u,f=16){const[h,r]=b.useState(u);return b.useEffect(()=>{const g=setTimeout(()=>{r(u)},f);return()=>{clearTimeout(g)}},[u,f]),h}const xy=u=>!u||u.length===0?"":u.map(f=>`${f.value}:${f.color}`).join("|"),by=(u,f,h=256)=>{const r=new Uint8ClampedArray(h*4),[g,w]=f,_=w-g;for(let q=0;q<h;q++){const T=g+_*q/(h-1),y=d3.color(u(T));if(y){const x=q*4;r[x]=y.r,r[x+1]=y.g,r[x+2]=y.b,r[x+3]=y.opacity*255}}return r},Sy=(u,f)=>{const r=D=>D*Math.PI/180,[g,w]=u,[_,q]=f,T=r(q-w),y=r(_-g),x=Math.sin(T/2)*Math.sin(T/2)+Math.cos(r(w))*Math.cos(r(q))*Math.sin(y/2)*Math.sin(y/2);return 6371e3*(2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x)))},jy=()=>s.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[s.jsxs("svg",{className:"animate-spin h-10 w-10 text-cyan-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("p",{className:"mt-4",children:"Rendering..."})]}),wy=()=>{const{layers:u,timeRange:f,currentDateIndex:h,setHoveredCoords:r,setSelectedPixel:g,onFinishArtifactCreation:w,onUpdateArtifact:_,clearHoverState:q,latRange:T,lonRange:y,showGraticule:x,graticuleDensity:j,proj:D,viewState:O,setViewState:K,primaryDataLayer:P,baseMapLayer:Ce,showGrid:de,gridSpacing:ge,gridColor:fe,activeTool:Se,selectedCells:He,selectionColor:W,artifacts:k,artifactCreationMode:pe,draggedInfo:Ae,setDraggedInfo:F,artifactDisplayOptions:De,isAppendingWaypoints:Le,coordinateTransformer:Ze,snapToCellCorner:at,calculateRectangleFromCellCorners:je,setActiveArtifactId:E,setArtifacts:ee,setSelectedCells:le,activeLayerId:Re,onUpdateLayer:We,pathCreationOptions:p,activeArtifactId:L}=xl(),ue=h??0,he=f,Be=!!P||!!Ce,Xe=wo(j,100),ke=wo(de,50),ht=wo(ge,100),yt=b.useRef(null),tl=b.useRef(null),El=b.useRef(null),$l=b.useRef(null),Al=b.useRef(null),cl=b.useRef(null),[Pa,It]=b.useState(!1),Il=b.useRef(new vy(50,500)).current,zl=b.useRef(!1),ll=b.useRef(!1),ul=b.useRef({x:0,y:0}),[Vl,sa]=b.useState(null),[bl,Yt]=b.useState(null),[Zl,Ta]=b.useState(null),[Dl,Rl]=b.useState(null),[ol,xn]=b.useState(null),[Pt,Ea]=b.useState(null);b.useEffect(()=>{pe!=="rectangle"&&Rl(null)},[pe]);const kt=b.useMemo(()=>{if(!P&&!Ce)return null;let X=null;if(P&&D){const[A,$]=y,[d,re]=T,ve=[[A,d],[$,d],[$,re],[A,re]].map(te=>D.forward(te));X={minX:Math.min(...ve.map(te=>te[0])),maxX:Math.max(...ve.map(te=>te[0])),minY:Math.min(...ve.map(te=>te[1])),maxY:Math.max(...ve.map(te=>te[1]))}}let ie=null;if(Ce){const A=Ce.vrt.geoTransform;ie={minX:A[0],maxX:A[0]+Ce.vrt.width*A[1],minY:A[3]+Ce.vrt.height*A[5],maxY:A[3]}}return X&&ie?{minX:Math.min(X.minX,ie.minX),maxX:Math.max(X.maxX,ie.maxX),minY:Math.min(X.minY,ie.minY),maxY:Math.max(X.maxY,ie.maxY)}:X||ie},[P,Ce,D,y,T]);b.useEffect(()=>{const X=Al.current;if(!kt||!X||O&&zl.current)return;const{clientWidth:ie,clientHeight:A}=X;if(ie===0||A===0)return;const $=kt.maxX-kt.minX,d=kt.maxY-kt.minY,re=Math.min(ie/$,A/d)*.95,te={center:[kt.minX+$/2,kt.minY+d/2],scale:re};sa(te),K(te),zl.current=!0},[kt,K,O]),b.useEffect(()=>{zl.current=!1},[u]);const jt=b.useCallback((X,ie)=>{const A=Al.current;if(!A||!O)return null;const $=window.devicePixelRatio||1,{center:d,scale:re}=O,ve=(X*$-A.width/2)/(re*$)+d[0],te=-(ie*$-A.height/2)/(re*$)+d[1];return[ve,te]},[O]),rl=b.useCallback(X=>{try{if(!O||!Re||!X)return null;const ie=u.find(Ge=>Ge.id===Re&&Ge.type==="image");if(!ie||ie.type!=="image")return null;const A=ie;if(!A.originalWidth||!A.originalHeight||!A.scaleX||!A.scaleY||!A.position)return null;const $=A.originalWidth*A.scaleX,d=A.originalHeight*A.scaleY,re=12/O.scale,ve=X[0]-A.position[0],te=X[1]-A.position[1],me=A.rotation*Math.PI/180,Z=Math.cos(-me),se=Math.sin(-me),I=ve*Z-te*se,J=ve*se+te*Z;if(Math.abs(I)<re&&Math.abs(J)<re)return{layerId:A.id,handleType:"center"};const xe=[[-$/2,-d/2],[$/2,-d/2],[$/2,d/2],[-$/2,d/2]];for(let Ge=0;Ge<xe.length;Ge++){const[B,Te]=xe[Ge];if(Math.abs(I-B)<re&&Math.abs(J-Te)<re)return{layerId:A.id,handleType:"corner",handleIndex:Ge}}const Ue=[[0,-d/2],[$/2,0],[0,d/2],[-$/2,0]];for(let Ge=0;Ge<Ue.length;Ge++){const[B,Te]=Ue[Ge];if(Math.abs(I-B)<re&&Math.abs(J-Te)<re)return{layerId:A.id,handleType:"edge",handleIndex:Ge}}return null}catch(ie){return console.error("Error in getImageLayerHandle:",ie),null}},[O,u,Re]);b.useEffect(()=>{const X=yt.current;if(!X)return;const ie=A=>{if(!O)return;A.preventDefault();const $=X.getBoundingClientRect(),d=A.clientX-$.left,re=A.clientY-$.top,ve=jt(d,re);if(!ve)return;const te=1-A.deltaY*.001,me=O.scale*te,Z=window.devicePixelRatio||1,se=[ve[0]-(d*Z-X.offsetWidth*Z/2)/(me*Z),ve[1]+(re*Z-X.offsetHeight*Z/2)/(me*Z)];K({scale:me,center:se})};return X.addEventListener("wheel",ie,{passive:!1}),()=>{X.removeEventListener("wheel",ie)}},[O,jt,K]),b.useEffect(()=>{const X=[tl.current,El.current,Al.current];if(X.some(B=>!B)||!O||!Be)return;It(!0);const ie=performance.now(),[A,$,d]=X,re=window.devicePixelRatio||1;[A,$,d].forEach(B=>{const{clientWidth:Te,clientHeight:$e}=B.parentElement;B.width=Te*re,B.height=$e*re});const ve=A.getContext("2d"),te=$.getContext("2d"),me=d.getContext("2d"),Z=[ve,te,me],{center:se,scale:I}=O;Z.forEach(B=>{B.clearRect(0,0,B.canvas.width,B.canvas.height),B.save(),B.translate(B.canvas.width/2,B.canvas.height/2);const Te=I*re;B.scale(Te,-Te),B.translate(-se[0],-se[1]),B.imageSmoothingEnabled=!1}),u.forEach(B=>{if(B.visible){if(B.type==="basemap"){const Te=B.vrt.geoTransform;ve.save(),ve.globalAlpha=B.opacity,ve.transform(Te[1],Te[4],Te[2],Te[5],Te[0],Te[3]),ve.drawImage(B.image,0,0),ve.restore()}else if(B.type==="image"){ve.save(),ve.globalAlpha=B.opacity,ve.translate(B.position[0],B.position[1]);const Te=B.rotation*Math.PI/180;ve.rotate(Te),ve.scale(1,-1);const $e=B.originalWidth*B.scaleX,Ie=B.originalHeight*B.scaleY;ve.drawImage(B.image,-$e/2,-Ie/2,$e,Ie),ve.restore()}else if((B.type==="data"||B.type==="analysis"||B.type==="dte_comms"||B.type==="lpf_comms")&&D){let Te;const $e=!!B.colormapInverted;let Ie;B.type==="analysis"&&B.analysisType==="daylight_fraction"&&he?Ie=`${B.id}-${he.start}-${he.end}-${B.colormap}-${$e}`:(Ie=`${B.id}-${ue}-${B.colormap}-${$e}-${B.range.min}-${B.range.max}`,B.type==="analysis"&&B.analysisType==="nightfall"&&(Ie+=`-${B.params.clipValue}`)),B.colormap==="Custom"&&(Ie+=`-${xy(B.customColormap)}`),B.transparencyLowerThreshold!==void 0&&(Ie+=`-lt${B.transparencyLowerThreshold}`),B.transparencyUpperThreshold!==void 0&&(Ie+=`-ut${B.transparencyUpperThreshold}`),Te=Ie;let Fe=Il.get(Te);if(!Fe){const Ne=B.dataset[B.type==="analysis"&&B.analysisType==="daylight_fraction"?0:ue];if(!Ne)return;const{width:ne,height:ce}=B.dimensions;Fe=document.createElement("canvas"),Fe.width=ne,Fe.height=ce;const oe=Fe.getContext("2d");let Oe;const ze=B.colormap==="Custom";B.type==="analysis"&&B.analysisType==="nightfall"?Oe=[B.range.min,B.params.clipValue??B.range.max]:Oe=[B.range.min,B.range.max];const Pe=x0(B.colormap,Oe,B.colormapInverted,B.customColormap,ze),qe=oe.createImageData(ne,ce),ye=by(Pe,Oe,256),[vt,wt]=Oe,ft=wt-vt;for(let dt=0;dt<ce;dt++)for(let Mt=0;Mt<ne;Mt++){const fl=Ne[dt][Mt],Ot=(dt*ne+Mt)*4;let nl=(fl-vt)/ft;nl=Math.max(0,Math.min(1,nl));const il=Math.floor(nl*255)*4;qe.data[Ot]=ye[il],qe.data[Ot+1]=ye[il+1],qe.data[Ot+2]=ye[il+2],qe.data[Ot+3]=ye[il+3],B.transparencyLowerThreshold!==void 0&&fl<=B.transparencyLowerThreshold&&(qe.data[Ot+3]=0),B.transparencyUpperThreshold!==void 0&&fl>=B.transparencyUpperThreshold&&(qe.data[Ot+3]=0)}oe.putImageData(qe,0,0),Il.set(Te,Fe)}te.save(),te.globalAlpha=B.opacity;const[ct,Je]=y,[et,Ct]=T,rt=D.forward([ct,Ct]),Tt=D.forward([Je,Ct]),N=D.forward([ct,et]),G=(Tt[0]-rt[0])/Fe.width,Q=(Tt[1]-rt[1])/Fe.width,ae=(N[0]-rt[0])/Fe.height,we=(N[1]-rt[1])/Fe.height,be=rt[0],V=rt[1];te.transform(G,Q,ae,we,be,V),te.drawImage(Fe,0,0),te.restore()}}});const{clientWidth:J,clientHeight:xe}=d,Ue=jt(0,0),Ge=jt(J*(window.devicePixelRatio||1),xe*(window.devicePixelRatio||1));if(Ue&&Ge){const[B,Te]=[Ue[0],Ge[1]],[$e,Ie]=[Ge[0],Ue[1]];if(ke){me.strokeStyle=fe,me.lineWidth=.8/(I*re);const Fe=Math.ceil(B/ht)*ht,ct=Math.ceil(Te/ht)*ht;me.beginPath();for(let Je=Fe;Je<=$e;Je+=ht)me.moveTo(Je,Te),me.lineTo(Je,Ie);for(let Je=ct;Je<=Ie;Je+=ht)me.moveTo(B,Je),me.lineTo($e,Je);me.stroke()}if(x&&D){me.strokeStyle="rgba(255, 255, 255, 0.4)",me.lineWidth=1/(I*re);const ct=[[0,0],[J/2,0],[J,0],[J,xe/2],[J,xe],[J/2,xe],[0,xe],[0,xe/2]].map(ne=>jt(ne[0]*(window.devicePixelRatio||1),ne[1]*(window.devicePixelRatio||1))).filter(ne=>ne!==null).map(ne=>{try{return proj4("EPSG:4326",D).inverse(ne)}catch{return null}}).filter(ne=>ne!==null);let Je=1,et=1;if(ct.length>0){const ne=Math.min(...ct.map(ze=>ze[0])),ce=Math.max(...ct.map(ze=>ze[0])),oe=Math.min(...ct.map(ze=>ze[1])),Oe=Math.max(...ct.map(ze=>ze[1]));Je=Math.abs(ce-ne),Je>180&&(Je=360-Je),et=Math.abs(Oe-oe)}const Ct=ne=>{if(ne<=0)return 1;const ce=ne/(5*Xe),oe=Math.pow(10,Math.floor(Math.log10(ce))),Oe=ce/oe;return Oe<1.5?oe:Oe<3.5?2*oe:Oe<7.5?5*oe:10*oe},rt=Ct(Je),Tt=Ct(et);let N=0,G=0;try{const ne=proj4("EPSG:4326",D).inverse(O.center);N=Math.round(ne[0]/rt)*rt,G=Math.round(ne[1]/Tt)*Tt}catch{N=0,G=0}const Q=(ne,ce)=>{me.save(),me.translate(ce[0],ce[1]);const oe=1/(I*re);me.scale(oe,-oe),me.fillStyle="rgba(255, 255, 255, 0.95)",me.font="12px sans-serif",me.strokeStyle="rgba(0, 0, 0, 0.8)",me.lineWidth=2,me.textAlign="left",me.textBaseline="top",me.strokeText(ne,5,5),me.fillText(ne,5,5),me.restore()};let ae=0,we=0,be=0;for(let ne=-180;ne<=180;ne+=rt){ae++;const ce=ae===1;try{me.beginPath();let oe=0;const Oe=[];for(let ze=0;ze<=100;ze++){const Pe=-90+ze/100*180;try{const qe=D.forward([ne,Pe]);isFinite(qe[0])&&isFinite(qe[1])&&(oe===0?me.moveTo(qe[0],qe[1]):me.lineTo(qe[0],qe[1]),oe++,ce&&ze%25===0&&Oe.push({lat:Pe,pt:qe}))}catch{}}oe>=2&&(me.stroke(),we++,be+=oe)}catch{}try{const oe=D.forward([ne,G]);isFinite(oe[0])&&isFinite(oe[1])&&oe[0]>=B&&oe[0]<=$e&&oe[1]>=Te&&oe[1]<=Ie&&Q(`${ne.toFixed(1)}`,oe)}catch{}}let V=0,Ne=0;for(let ne=-90;ne<=90;ne+=Tt){try{me.beginPath();let ce=0;for(let oe=0;oe<=200;oe++){const Oe=-180+oe/200*360;try{const ze=D.forward([Oe,ne]);isFinite(ze[0])&&isFinite(ze[1])&&(ce===0?me.moveTo(ze[0],ze[1]):me.lineTo(ze[0],ze[1]),ce++)}catch{}}ce>=2&&(me.stroke(),V++,Ne+=ce)}catch{}try{const ce=D.forward([N,ne]);isFinite(ce[0])&&isFinite(ce[1])&&ce[0]>=B&&ce[0]<=$e&&ce[1]>=Te&&ce[1]<=Ie&&Q(`${ne.toFixed(1)}`,ce)}catch{}}}}Z.forEach(B=>B.restore()),performance.now()-ie>16?requestAnimationFrame(()=>It(!1)):It(!1)},[u,ue,x,Xe,D,O,Be,T,y,jt,he,ke,ht,fe]);const qt=b.useCallback(X=>{if(!P||!D)return null;const{width:ie,height:A}=P.dimensions,[$,d]=y,[re,ve]=T,te=D.forward([$,ve]),me=D.forward([d,ve]),Z=D.forward([$,re]),se=(me[0]-te[0])/ie,I=(me[1]-te[1])/ie,J=(Z[0]-te[0])/A,xe=(Z[1]-te[1])/A,Ue=te[0],Ge=te[1],B=se*xe-I*J;if(Math.abs(B)<1e-9)return null;try{const Te=(xe*(X.center[0]-Ue)-J*(X.center[1]-Ge))/B,$e=(se*(X.center[1]-Ge)-I*(X.center[0]-Ue))/B,Ie=X.width/Math.sqrt(se*se+I*I),Fe=X.height/Math.sqrt(J*J+xe*xe),ct=Ie/2,Je=Fe/2,et=Math.round(Te-ct),Ct=Math.round(Te+ct),rt=Math.round($e-Je),Tt=Math.round($e+Je);return[[et,rt],[Ct,rt],[Ct,Tt],[et,Tt]].map(([G,Q])=>[se*G+J*Q+Ue,I*G+xe*Q+Ge])}catch{return null}},[P,D,y,T]);b.useEffect(()=>{var me;const X=$l.current;if(!X||!O||!D){(me=X==null?void 0:X.getContext("2d"))==null||me.clearRect(0,0,X.width,X.height);return}const ie=window.devicePixelRatio||1,{clientWidth:A,clientHeight:$}=X.parentElement;X.width=A*ie,X.height=$*ie;const d=X.getContext("2d");d.clearRect(0,0,X.width,X.height);const{center:re,scale:ve}=O;d.save(),d.translate(d.canvas.width/2,d.canvas.height/2);const te=ve*ie;if(d.scale(te,-te),d.translate(-re[0],-re[1]),k.forEach(Z=>{if(!Z.visible)return;if(d.strokeStyle=Z.color,d.fillStyle=Z.color,Z.type==="circle"){const I=Z.radius;d.lineWidth=Z.thickness/te,d.beginPath(),d.arc(Z.center[0],Z.center[1],I,0,2*Math.PI),d.stroke()}else if(Z.type==="rectangle"){const I=qt(Z);I&&I.length===4&&(d.lineWidth=Z.thickness/te,d.beginPath(),d.moveTo(I[0][0],I[0][1]),d.lineTo(I[1][0],I[1][1]),d.lineTo(I[2][0],I[2][1]),d.lineTo(I[3][0],I[3][1]),d.closePath(),d.stroke())}else if(Z.type==="path"){if(Z.waypoints.length===0)return;const I=Z.waypoints.map(J=>{try{return{...J,projPos:D.forward(J.geoPosition)}}catch{return{...J,projPos:null}}}).filter(J=>J.projPos!==null);if(I.length>1){d.lineWidth=Z.thickness/te,d.beginPath(),d.moveTo(I[0].projPos[0],I[0].projPos[1]);for(let J=1;J<I.length;J++)d.lineTo(I[J].projPos[0],I[J].projPos[1]);d.stroke()}if(I.forEach(J=>{d.beginPath();const xe=De.waypointDotSize/2/te;d.arc(J.projPos[0],J.projPos[1],xe,0,2*Math.PI),d.fill(),d.save(),d.translate(J.projPos[0],J.projPos[1]),d.scale(1/te,-1/te),d.fillStyle="#ffffff",d.font=`bold ${De.labelFontSize}px sans-serif`,d.textAlign="center",d.textBaseline="bottom",d.strokeStyle="rgba(0,0,0,0.8)",d.lineWidth=2.5,d.strokeText(J.label,0,-(De.waypointDotSize/2+2)),d.fillText(J.label,0,-(De.waypointDotSize/2+2)),d.restore()}),De.showSegmentLengths&&I.length>1)for(let J=0;J<I.length-1;J++){const xe=I[J],Ue=I[J+1],Ge=Ue.projPos[0]-xe.projPos[0],B=Ue.projPos[1]-xe.projPos[1],Te=Math.sqrt(Ge*Ge+B*B),$e=[(xe.projPos[0]+Ue.projPos[0])/2,(xe.projPos[1]+Ue.projPos[1])/2],Ie=`${Te.toFixed(0)} m`;d.save(),d.translate($e[0],$e[1]);let Fe=Math.atan2(Ue.projPos[1]-xe.projPos[1],Ue.projPos[0]-xe.projPos[0]);(Fe<-Math.PI/2||Fe>Math.PI/2)&&(Fe+=Math.PI),d.rotate(Fe),d.scale(1/te,-1/te),d.font=`${De.labelFontSize}px sans-serif`;const ct=d.measureText(Ie),Je=4,et=De.labelFontSize,Ct=et+Je,rt=ct.width+Je*2,Tt=-(et/2+5);d.fillStyle="rgba(26, 32, 44, 0.7)",d.fillRect(-rt/2,Tt-Ct/2,rt,Ct),d.fillStyle="#fafafa",d.textAlign="center",d.textBaseline="middle",d.fillText(Ie,0,Tt),d.restore()}}d.save();const se=Z.type==="path"?Z.waypoints.length>0?D.forward(Z.waypoints[0].geoPosition):null:Z.center;se&&(d.translate(se[0],se[1]),d.scale(1/te,-1/te),d.fillStyle=Z.color,d.font=`bold ${De.labelFontSize}px sans-serif`,d.textAlign="center",d.textBaseline="bottom",d.strokeStyle="rgba(0,0,0,0.7)",d.lineWidth=3,d.strokeText(Z.name,0,-10),d.fillText(Z.name,0,-10)),d.restore()}),Dl&&ol&&pe==="rectangle"&&at&&je&&P){const Z=at(ol);if(Z){const se=je(Dl,Z);if(se){const I={id:"preview",type:"rectangle",name:"Preview",visible:!0,color:"#ff00ff",thickness:2,center:se.center,width:se.width,height:se.height,rotation:se.rotation},J=qt(I);if(J&&J.length===4){d.save(),d.strokeStyle="#ff00ff",d.setLineDash([5/te,5/te]),d.lineWidth=2/te,d.beginPath(),d.moveTo(J[0][0],J[0][1]),d.lineTo(J[1][0],J[1][1]),d.lineTo(J[2][0],J[2][1]),d.lineTo(J[3][0],J[3][1]),d.closePath(),d.stroke(),d.restore(),d.save(),d.fillStyle="#ff00ff";const xe=10/te;[Dl,Z].forEach(Ue=>{d.fillRect(Ue[0]-xe/2,Ue[1]-xe/2,xe,xe)}),d.restore()}}}}if((pe==="path"||Le)&&ol&&D&&L){const Z=k.find(se=>se.id===L&&se.type==="path");if(Z&&Z.waypoints.length>0){const se=Z.waypoints[Z.waypoints.length-1],I=D.forward(se.geoPosition),J=p.defaultMaxSegmentLength;let xe=ol,Ue=null,Ge=0,B=!1;if(J)try{const $e=se.geoPosition;Ue=J;const Ie=ol[0]-I[0],Fe=ol[1]-I[1],ct=Math.sqrt(Ie*Ie+Fe*Fe);B=ct>Ue;const Je=proj4("EPSG:4326",D).inverse(ol);if(Ge=Sy($e,[Je[0],Je[1]]),ct>Ue){const et=Ue/ct;xe=[I[0]+Ie*et,I[1]+Fe*et]}}catch{}d.save(),d.strokeStyle=Z.color,d.setLineDash([10/te,10/te]),d.lineWidth=Z.thickness/te,d.beginPath(),d.moveTo(I[0],I[1]),d.lineTo(xe[0],xe[1]),d.stroke(),d.restore(),d.save(),d.fillStyle=Z.color,d.globalAlpha=.6;const Te=De.waypointDotSize/2/te;if(d.beginPath(),d.arc(xe[0],xe[1],Te,0,2*Math.PI),d.fill(),d.restore(),J&&Ue){d.save(),d.strokeStyle=Z.color,d.setLineDash([15/te,10/te]),d.lineWidth=1/te,d.globalAlpha=.5,d.beginPath(),d.arc(I[0],I[1],Ue,0,2*Math.PI),d.stroke(),d.restore();try{d.save(),d.translate(ol[0],ol[1]),d.scale(1/te,-1/te);const $e=`${Ge.toFixed(0)} m`;d.fillStyle=B?"#ff5555":"#ffffff",d.font="bold 14px sans-serif",d.textAlign="left",d.textBaseline="bottom",d.strokeStyle="rgba(0,0,0,0.8)",d.lineWidth=2.5,d.strokeText($e,10,-10),d.fillText($e,10,-10),d.restore()}catch{}}}}if(Re){const Z=u.find(se=>se.id===Re&&se.type==="image");if(Z&&Z.type==="image"){const se=Z,I=se.originalWidth*se.scaleX,J=se.originalHeight*se.scaleY;d.save(),d.translate(se.position[0],se.position[1]);const xe=se.rotation*Math.PI/180;d.rotate(xe),d.strokeStyle="#00ffff",d.lineWidth=2/te,d.strokeRect(-I/2,-J/2,I,J);const Ue=12/te;d.fillStyle="#00ffff",[[-I/2,-J/2],[I/2,-J/2],[I/2,J/2],[-I/2,J/2]].forEach(Te=>{d.fillRect(Te[0]-Ue/2,Te[1]-Ue/2,Ue,Ue)}),d.fillStyle="#ffff00",[[0,-J/2],[I/2,0],[0,J/2],[-I/2,0]].forEach(Te=>{d.beginPath(),d.arc(Te[0],Te[1],Ue/2,0,2*Math.PI),d.fill()}),d.fillStyle="#ff00ff",d.beginPath(),d.arc(0,0,Ue/2,0,2*Math.PI),d.fill(),d.restore()}}d.restore()},[k,O,D,De,Dl,ol,pe,at,je,qt,P,u,Re,Le,L,p]),b.useEffect(()=>{const X=cl.current;if(!X||!O||!P||!D)return;const ie=window.devicePixelRatio||1,{clientWidth:A,clientHeight:$}=X.parentElement;X.width=A*ie,X.height=$*ie;const d=X.getContext("2d");if(d.clearRect(0,0,X.width,X.height),He.length===0)return;d.save();const{center:re,scale:ve}=O;d.translate(d.canvas.width/2,d.canvas.height/2);const te=ve*ie;d.scale(te,-te),d.translate(-re[0],-re[1]);const[me,Z]=y,[se,I]=T,J=D.forward([me,I]),xe=D.forward([Z,I]),Ue=D.forward([me,se]),{width:Ge,height:B}=P.dimensions,Te=(xe[0]-J[0])/Ge,$e=(xe[1]-J[1])/Ge,Ie=(Ue[0]-J[0])/B,Fe=(Ue[1]-J[1])/B,ct=J[0],Je=J[1];d.strokeStyle=W,d.lineWidth=2/(ve*ie),d.beginPath();for(const et of He){const Ct=et.x,rt=et.y,Tt=[Te*Ct+Ie*rt+ct,$e*Ct+Fe*rt+Je],N=[Te*(Ct+1)+Ie*rt+ct,$e*(Ct+1)+Fe*rt+Je],G=[Te*(Ct+1)+Ie*(rt+1)+ct,$e*(Ct+1)+Fe*(rt+1)+Je],Q=[Te*Ct+Ie*(rt+1)+ct,$e*Ct+Fe*(rt+1)+Je];d.moveTo(Tt[0],Tt[1]),d.lineTo(N[0],N[1]),d.lineTo(G[0],G[1]),d.lineTo(Q[0],Q[1]),d.closePath()}d.stroke(),d.restore()},[He,W,O,P,D,y,T]);const bn=b.useCallback(X=>{if(r(X),!X||!Ze){g(null);return}const ie=Ze(X.lat,X.lon);if(ie){const A=[...u].reverse().find($=>$.visible&&($.type==="data"||$.type==="analysis"||$.type==="dte_comms"||$.type==="lpf_comms"));g(A?{...ie,layerId:A.id}:null)}else g(null)},[Ze,u,r,g]),Sn=b.useCallback((X,ie)=>{if(X)if(pe==="path"){const A=k.find($=>$.id===L&&$.type==="path");if(A){let $=[X.lon,X.lat];const d=p.defaultMaxSegmentLength;if(d&&A.waypoints.length>0){const ve=A.waypoints[A.waypoints.length-1],te=D.forward(ve.geoPosition),me=ie[0]-te[0],Z=ie[1]-te[1],se=Math.sqrt(me*me+Z*Z);if(se>d){const I=d/se,J=[te[0]+me*I,te[1]+Z*I],xe=proj4("EPSG:4326",D).inverse(J);$=[xe[0],xe[1]]}}const re={id:`wp-${Date.now()}`,geoPosition:$,label:`WP${A.waypoints.length+1}`};_(L,{waypoints:[...A.waypoints,re]})}else{const $=`path-${Date.now()}`,d={id:`wp-${Date.now()}`,geoPosition:[X.lon,X.lat],label:"WP1"},re={id:$,type:"path",name:`Path ${k.length+1}`,visible:!0,color:"#ffff00",thickness:2,waypoints:[d]};ee(ve=>[...ve,re]),E($)}}else if(pe){const A=`${pe}-${Date.now()}`;if(pe==="circle"){const $={id:A,type:"circle",name:`Circle ${k.length+1}`,visible:!0,color:"#00ffff",thickness:2,center:ie,radius:500};ee(d=>[...d,$]),E(A),w()}else if(pe==="rectangle")if(Dl){const $=at?at(ie):ie;if(je){const d=je(Dl,$);if(d&&d.width>0&&d.height>0){const re={id:A,type:"rectangle",name:`Rectangle ${k.length+1}`,visible:!0,color:"#ff00ff",thickness:2,center:d.center,width:d.width,height:d.height,rotation:d.rotation};ee(ve=>[...ve,re]),E(A)}}Rl(null),w()}else{const $=at?at(ie):ie;Rl($)}}else if(Le){const A=k.find($=>$.id===L);if(A&&A.type==="path"){let $=[X.lon,X.lat];const d=p.defaultMaxSegmentLength;if(d&&A.waypoints.length>0){const ve=A.waypoints[A.waypoints.length-1],te=D.forward(ve.geoPosition),me=ie[0]-te[0],Z=ie[1]-te[1],se=Math.sqrt(me*me+Z*Z);if(se>d){const I=d/se,J=[te[0]+me*I,te[1]+Z*I],xe=proj4("EPSG:4326",D).inverse(J);$=[xe[0],xe[1]]}}const re={id:`wp-${Date.now()}`,geoPosition:$,label:`WP${A.waypoints.length+1}`};_(L,{waypoints:[...A.waypoints,re]})}}else if(Se==="measurement"){const A=Ze?Ze(X.lat,X.lon):null;A&&le($=>{const d=$.findIndex(re=>re.x===A.x&&re.y===A.y);return d>-1?[...$.slice(0,d),...$.slice(d+1)]:[...$,A]})}else bl?E(bl):Zl||E(null)},[pe,Le,Se,k,L,w,ee,E,_,Ze,le,bl,Zl,Dl,at,je,p,D]),ca=b.useCallback((X,ie)=>{if(Le)return;const A=k.find($=>$.id===X.artifactId);if(!(!A||!D)){if(X.waypointId)F({artifactId:X.artifactId,waypointId:X.waypointId,initialMousePos:ie});else if(A.type==="circle"||A.type==="rectangle")F({artifactId:X.artifactId,initialMousePos:ie,initialCenter:A.center});else if(A.type==="path"){const $=A.waypoints.map(d=>D.forward(d.geoPosition));F({artifactId:X.artifactId,initialMousePos:ie,initialWaypointProjPositions:$})}E(X.artifactId)}},[k,D,Le,F,E]),Rt=b.useCallback(X=>{if(!(!Ae||!D))if(Ae.waypointId)ee(ie=>ie.map(A=>{if(A.id===Ae.artifactId&&A.type==="path")try{const $=D.inverse(X),d=A.waypoints.map(re=>re.id===Ae.waypointId?{...re,geoPosition:$}:re);return{...A,waypoints:d}}catch{return A}return A}));else{const ie=X[0]-Ae.initialMousePos[0],A=X[1]-Ae.initialMousePos[1];ee($=>$.map(d=>{if(d.id===Ae.artifactId){if((d.type==="circle"||d.type==="rectangle")&&Ae.initialCenter){const re=[Ae.initialCenter[0]+ie,Ae.initialCenter[1]+A];if(d.type==="rectangle"&&at&&je){const ve=d.rotation*Math.PI/180,te=Math.cos(ve),me=Math.sin(ve),Z=[-d.width/2,-d.height/2],se=[re[0]+Z[0]*te-Z[1]*me,re[1]+Z[0]*me+Z[1]*te],I=at(se);if(I){const J=[d.width/2,d.height/2],xe=[re[0]+J[0]*te-J[1]*me,re[1]+J[0]*me+J[1]*te],Ue=at(xe);if(Ue){const Ge=je(I,Ue);if(Ge)return{...d,center:Ge.center,width:Ge.width,height:Ge.height,rotation:Ge.rotation}}}}return{...d,center:re}}else if(d.type==="path"&&Ae.initialWaypointProjPositions){const re=d.waypoints.map((ve,te)=>{const me=Ae.initialWaypointProjPositions[te],Z=[me[0]+ie,me[1]+A];try{const se=D.inverse(Z);return{...ve,geoPosition:se}}catch{return ve}});return{...d,waypoints:re}}}return d}))}},[Ae,D,ee,at,je]),ua=b.useCallback(()=>{F(null)},[F]),zt=b.useCallback(X=>{const ie=jt(X.nativeEvent.offsetX,X.nativeEvent.offsetY);xn(ie);try{if(Pt&&ie){const A=Pt,$=u.find(d=>d.id===A.layerId&&d.type==="image");if($&&$.type==="image"){if(A.handleType==="center"){const d=ie[0]-A.initialMouseProj[0],re=ie[1]-A.initialMouseProj[1];We(A.layerId,{position:[A.initialPosition[0]+d,A.initialPosition[1]+re]})}else if(A.handleType==="corner"&&A.handleIndex!==void 0){const d=A.initialRotation*Math.PI/180,re=Math.cos(-d),ve=Math.sin(-d),te=A.initialMouseProj[0]-A.initialPosition[0],me=A.initialMouseProj[1]-A.initialPosition[1],Z=[te*re-me*ve,te*ve+me*re],se=ie[0]-A.initialPosition[0],I=ie[1]-A.initialPosition[1],J=[se*re-I*ve,se*ve+I*re],xe=A.handleIndex,Ue=$.originalWidth*A.initialScaleX,Ge=$.originalHeight*A.initialScaleY;let B=A.initialScaleX,Te=A.initialScaleY;xe===0||xe===3?B=A.initialScaleX*(1-2*(J[0]-Z[0])/Ue):B=A.initialScaleX*(1+2*(J[0]-Z[0])/Ue),xe===0||xe===1?Te=A.initialScaleY*(1-2*(J[1]-Z[1])/Ge):Te=A.initialScaleY*(1+2*(J[1]-Z[1])/Ge),B=Math.max(.1,Math.min(10,B)),Te=Math.max(.1,Math.min(10,Te)),We(A.layerId,{scaleX:B,scaleY:Te})}else if(A.handleType==="edge"&&A.handleIndex!==void 0){const d=ie[0]-A.initialPosition[0],re=ie[1]-A.initialPosition[1],ve=Math.atan2(re,d)*180/Math.PI,te=A.initialMouseProj[0]-A.initialPosition[0],me=A.initialMouseProj[1]-A.initialPosition[1],Z=Math.atan2(me,te)*180/Math.PI;let se=A.initialRotation+(ve-Z);for(;se>180;)se-=360;for(;se<-180;)se+=360;We(A.layerId,{rotation:se})}}return}}catch(A){console.error("Error in image layer transformation:",A)}if(Ae&&ie){Rt(ie);return}if(ll.current&&O){const A=X.clientX-ul.current.x,$=X.clientY-ul.current.y,d=window.devicePixelRatio||1,re=[O.center[0]-A/(O.scale*d),O.center[1]+$/(O.scale*d)];K({...O,center:re}),ul.current={x:X.clientX,y:X.clientY}}if(ie&&D&&O){let A=null,$=null;if(pe===null&&!Le){const d=window.devicePixelRatio||1,re=O.scale*d,te=De.waypointDotSize*.75/re;for(let me=k.length-1;me>=0;me--){const Z=k[me];if(!Z.visible)continue;let se=!1;if(Z.type==="path")for(const J of Z.waypoints)try{const xe=D.forward(J.geoPosition);if(Math.sqrt(Math.pow(ie[0]-xe[0],2)+Math.pow(ie[1]-xe[1],2))<te){A={artifactId:Z.id,waypointId:J.id},se=!0;break}}catch{}if(se)break;let I=!1;if(Z.type==="circle")Math.sqrt(Math.pow(ie[0]-Z.center[0],2)+Math.pow(ie[1]-Z.center[1],2))<=Z.radius&&(I=!0);else if(Z.type==="rectangle"){const J=Z.width,xe=Z.height,Ue=-Z.rotation*Math.PI/180,Ge=ie[0]-Z.center[0],B=ie[1]-Z.center[1],Te=Ge*Math.cos(Ue)-B*Math.sin(Ue),$e=Ge*Math.sin(Ue)+B*Math.cos(Ue);Math.abs(Te)<=J/2&&Math.abs($e)<=xe/2&&(I=!0)}else Z.type;if(I){$=Z.id;break}}}Ta(A),Yt(A?null:$);try{const[d,re]=proj4("EPSG:4326",D).inverse(ie);bn({lat:re,lon:d})}catch{q()}}else q(),Yt(null),Ta(null)},[O,K,jt,D,bn,q,Ae,Rt,k,pe,De,Le,Pt,u,We]),Ql=X=>{ul.current={x:X.clientX,y:X.clientY};const ie=jt(X.nativeEvent.offsetX,X.nativeEvent.offsetY);if(ie&&X.button===0){try{const A=rl(ie);if(A){const $=u.find(d=>d.id===A.layerId&&d.type==="image");if($&&$.type==="image"){Ea({layerId:A.layerId,handleType:A.handleType,handleIndex:A.handleIndex,initialMouseProj:ie,initialPosition:$.position,initialScaleX:$.scaleX,initialScaleY:$.scaleY,initialRotation:$.rotation});return}}}catch(A){console.error("Error checking image layer handle:",A)}Se==="artifacts"?Zl?ca({artifactId:Zl.artifactId,waypointId:Zl.waypointId},ie):bl?ca({artifactId:bl},ie):ll.current=!0:ll.current=!0}},al=X=>{const ie=ll.current&&Math.abs(X.clientX-ul.current.x)<2&&Math.abs(X.clientY-ul.current.y)<2,A=ll.current;if(ll.current=!1,Pt){Ea(null);return}if(Ae){ua();return}if(A&&ie){const $=jt(X.nativeEvent.offsetX,X.nativeEvent.offsetY),d=D&&$?(()=>{try{const[re,ve]=proj4("EPSG:4326",D).inverse($);return{lat:ve,lon:re}}catch{return null}})():null;$&&d&&Sn(d,$)}},oa=()=>{ll.current=!1,q(),Pt&&Ea(null),Ae&&ua()},jn=b.useCallback(X=>{O&&K({...O,scale:O.scale*X})},[O,K]),wn=b.useCallback(()=>{Vl&&K(Vl)},[Vl,K]),Ol=b.useMemo(()=>{if(pe||Le)return"crosshair";if(Pt){if(Pt.handleType==="center")return"move";if(Pt.handleType==="corner")return"nwse-resize";if(Pt.handleType==="edge")return"grab"}return Ae?"grabbing":Zl||bl?"grab":Se==="measurement"?"copy":ll.current?"grabbing":"default"},[pe,Le,Ae,Zl,bl,Se,ll.current,Pt]);return Be?s.jsxs("div",{ref:yt,className:"w-full h-full relative",onMouseDown:Ql,onMouseMove:zt,onMouseUp:al,onMouseLeave:oa,style:{cursor:Ol},children:[Pa&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/50 z-50",children:s.jsx(jy,{})}),s.jsx("canvas",{ref:tl,className:"pixelated absolute inset-0 w-full h-full z-0"}),s.jsx("canvas",{ref:El,className:"pixelated absolute inset-0 w-full h-full z-10"}),s.jsx("canvas",{ref:$l,className:"absolute inset-0 w-full h-full z-20 pointer-events-none"}),s.jsx("canvas",{ref:Al,className:"absolute inset-0 w-full h-full z-30 pointer-events-none"}),s.jsx("canvas",{ref:cl,className:"absolute inset-0 w-full h-full z-40 pointer-events-none"}),s.jsx(gy,{onZoomIn:()=>jn(1.5),onZoomOut:()=>jn(1/1.5),onResetView:wn})]}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-center text-gray-400 bg-gray-900/50 rounded-lg",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold",children:"No Data Loaded"}),s.jsx("p",{className:"mt-2",children:"Use the Layers panel to load a basemap or data file."})]})})},ia={top:10,right:30,bottom:20,left:50},Ny=()=>{const{primaryDataLayer:u,timeSeriesData:f,timeRange:h,currentDateIndex:r,fullTimeDomain:g,timeZoomDomain:w,onZoomToSelection:_,onResetZoom:q,activeLayer:T,nightfallPlotYAxisRange:y}=xl(),x=!!u,j=(f==null?void 0:f.range)??null,D=(T==null?void 0:T.type)==="analysis"&&T.analysisType==="nightfall"?"days":void 0,O=(T==null?void 0:T.type)==="analysis"&&T.analysisType==="nightfall"?y:void 0,K=((T==null?void 0:T.type)==="analysis"||(T==null?void 0:T.type)==="data"||(T==null?void 0:T.type)==="dte_comms"||(T==null?void 0:T.type)==="lpf_comms")&&T.colormap==="Custom"?T.customColormap:void 0,P=b.useRef(null),Ce=b.useRef(null),[de,ge]=b.useState({width:0,height:0});b.useEffect(()=>{const Ae=Ce.current;if(!Ae)return;const F=new ResizeObserver(De=>{if(De[0]){const{width:Le,height:Ze}=De[0].contentRect;ge({width:Le,height:Ze})}});return F.observe(Ae),()=>F.disconnect()},[]);const fe=de.width-ia.left-ia.right,Se=de.height-ia.top-ia.bottom,He=b.useMemo(()=>{if(!(f!=null&&f.data))return[];const Ae=D==="days";return f.data.map((F,De)=>{const Le=Bt(De),Ze=Ae?F/24:F;return{date:Le,value:Ze}})},[f,D]);b.useEffect(()=>{if(!x||!f||!j||!w||fe<=0||Se<=0){d3.select(P.current).selectAll("*").remove();return}const Ae=d3.select(P.current);Ae.selectAll("*").remove();const F=Ae.append("g").attr("transform",`translate(${ia.left},${ia.top})`),De=D==="days";let Le;O?Le=[O.min,O.max]:Le=De?[j.min/24,j.max/24]:[j.min,j.max];const Ze=d3.scaleUtc().domain(w).range([0,fe]),at=d3.scaleLinear().domain(Le).range([Se,0]).nice();if(F.append("clipPath").attr("id","clip").append("rect").attr("width",fe).attr("height",Se),h){const le=Bt(h.start),Re=Bt(h.end);F.append("rect").attr("x",Ze(le)).attr("y",0).attr("width",Ze(Re)-Ze(le)).attr("height",Se).attr("fill","rgba(79, 209, 197, 0.2)")}if(r!==null){const le=Bt(r);F.append("line").attr("x1",Ze(le)).attr("y1",0).attr("x2",Ze(le)).attr("y2",Se).attr("stroke","#EF4444").attr("stroke-width",2)}if(K){const le=[];for(let Re=0;Re<K.length;Re++){const We=K[Re],p=K[Re+1],L=yt=>De?yt/24:yt,ue=L(We.value),he=p?L(p.value):Le[1],Be=Math.min(Le[1],he),Xe=Math.max(Le[0],ue),ke=at(Be),ht=at(Xe)-ke;ht>0&&le.push({y:ke,height:ht,color:We.color})}F.append("g").attr("class","threshold-bands").attr("clip-path","url(#clip)").selectAll("rect").data(le).enter().append("rect").attr("x",0).attr("width",fe).attr("y",Re=>Re.y).attr("height",Re=>Re.height).attr("fill",Re=>Re.color).attr("opacity",.2)}const je=d3.line().x(le=>Ze(le.date)).y(le=>at(le.value));F.append("path").datum(He).attr("clip-path","url(#clip)").attr("fill","none").attr("stroke","#4FD1C5").attr("stroke-width",1.5).attr("d",je);const E=d3.axisBottom(Ze).ticks(fe/80).tickSizeOuter(0),ee=d3.axisLeft(at).ticks(Se/30).tickSize(-fe).tickFormat(le=>De?`${le.valueOf().toFixed(1)} days`:le.valueOf().toString());F.append("g").attr("transform",`translate(0,${Se})`).call(E).call(le=>le.select(".domain").remove()).call(le=>le.selectAll(".tick text").attr("fill","#90CDF4").style("font-size","10px")),F.append("g").call(ee).call(le=>le.select(".domain").remove()).call(le=>le.selectAll(".tick line").attr("stroke-opacity",.1).attr("stroke-dasharray","2,2")).call(le=>le.selectAll(".tick text").attr("x",-4).attr("fill","#90CDF4").style("font-size","10px"))},[x,f,h,r,j,fe,Se,He,w,D,O,K]);const W=b.useMemo(()=>w&&g&&w[0].getTime()===g[0].getTime()&&w[1].getTime()===g[1].getTime(),[w,g]),k=b.useMemo(()=>{if(!h||!g)return null;if(h.start===h.end){const Ae=Bt(h.start),F=720*60*1e3;return[new Date(Math.max(g[0].getTime(),Ae.getTime()-F)),new Date(Math.min(g[1].getTime(),Ae.getTime()+F))]}else return[Bt(h.start),Bt(h.end)]},[h,g]),pe=b.useMemo(()=>w&&k&&w[0].getTime()===k[0].getTime()&&w[1].getTime()===k[1].getTime(),[w,k]);return s.jsxs("section",{className:"bg-gray-800/70 border-t border-gray-700 h-32 flex-shrink-0 relative group",children:[x&&s.jsxs("div",{className:"absolute top-2 right-4 z-10 flex gap-2",children:[s.jsx("button",{onClick:_,disabled:pe,className:"text-xs bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed text-cyan-300 px-2 py-1 rounded-md transition-colors shadow-md",title:"Fit selected time range to view",children:"Zoom to Selection"}),s.jsx("button",{onClick:q,disabled:W,className:"text-xs bg-gray-700 hover:bg-gray-600 disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed text-cyan-300 px-2 py-1 rounded-md transition-colors shadow-md",title:"Reset zoom to full time range",children:"Reset Zoom"})]}),s.jsx("div",{ref:Ce,className:"w-full h-full",children:x&&f?s.jsx("svg",{ref:P,width:de.width,height:de.height}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-500 text-sm",children:x?"Hover over the map to see a time series plot":"Load data to view plots"})})]})},My=()=>{const{primaryDataLayer:u,timeRange:f,currentDateIndex:h,setCurrentDateIndex:r,handleManualTimeRangeChange:g,timeZoomDomain:w}=xl(),_=!!u,q=u?u.dimensions.time-1:0,T=b.useRef(null),y=b.useRef(null),x=b.useRef(null),[j,D]=b.useState(0),[O,K]=b.useState(null);b.useEffect(()=>{const He=y.current;if(!He)return;const W=new ResizeObserver(k=>{k[0]&&D(k[0].contentRect.width)});return W.observe(He),()=>W.disconnect()},[]);const P=b.useMemo(()=>j===0||!w?d3.scaleUtc():d3.scaleUtc().domain(w).range([ia.left,j-ia.right]),[w,j]),Ce=b.useMemo(()=>{if(!_||j<100||!w)return[];const[He,W]=w,k=(W.getTime()-He.getTime())/(1e3*60*60);let pe,Ae;return k<=48?(pe=P.ticks(d3.utcHour.every(3)),Ae=d3.utcFormat("%H:%M")):k<=720?(pe=P.ticks(d3.utcDay.every(1)),Ae=d3.utcFormat("%d")):(pe=P.ticks(d3.utcMonth.every(1)),Ae=d3.utcFormat("%b")),pe.map(F=>({date:F,label:Ae(F),isMajor:F.getUTCHours()===0&&F.getUTCMinutes()===0}))},[j,w,_,P]),de=b.useCallback((He,W=!1)=>{if(!_||!f||h===null)return;const k=T.current;if(!k)return;const pe=k.getBoundingClientRect(),Ae=He.clientX-pe.left,F=P.invert(Ae),De=Math.max(0,Math.min(q,Fh(F)));if(W){const Le=P(Bt(f.start)),Ze=P(Bt(f.end)),at=P(Bt(h)),je=Math.abs(Ae-Le),E=Math.abs(Ae-Ze),ee=Math.abs(Ae-at),le=20;if(ee<le&&ee<je&&ee<E)K("current");else if(je<E&&je<le)K("start");else if(E<le)K("end");else{const Re=Math.min(je,E,ee);K(Re===ee?"current":Re===je?"start":"end")}}else O&&(x.current!==null&&cancelAnimationFrame(x.current),x.current=requestAnimationFrame(()=>{if(O==="start")g({...f,start:Math.min(De,f.end)});else if(O==="end")g({...f,end:Math.max(De,f.start)});else if(O==="current"){const Le=Math.max(f.start,Math.min(De,f.end));r(Le)}x.current=null}))},[P,g,r,q,_,f,h,O]);b.useEffect(()=>{const He=()=>{K(null),x.current!==null&&(cancelAnimationFrame(x.current),x.current=null)},W=k=>{O&&de(k,!1)};return O&&(window.addEventListener("mousemove",W),window.addEventListener("mouseup",He)),()=>{window.removeEventListener("mousemove",W),window.removeEventListener("mouseup",He),x.current!==null&&(cancelAnimationFrame(x.current),x.current=null)}},[O,de]),b.useEffect(()=>{const He=W=>{if(!(!_||!f||h===null)){if(W.key==="ArrowLeft"){W.preventDefault();const k=Math.max(f.start,h-1);k!==h&&r(k)}else if(W.key==="ArrowRight"){W.preventDefault();const k=Math.min(f.end,h+1);k!==h&&r(k)}}};return window.addEventListener("keydown",He),()=>{window.removeEventListener("keydown",He)}},[_,f,h,r]);const ge=f?P(Bt(f.start)):0,fe=f?P(Bt(f.end)):0,Se=h!==null?P(Bt(h)):0;return s.jsx("section",{className:"bg-gray-800/70 backdrop-blur-sm border-t border-gray-700 w-full flex-shrink-0 z-40 h-[50px]",children:s.jsx("div",{ref:y,className:"w-full h-full relative",children:s.jsxs("svg",{ref:T,width:j,height:50,className:`absolute inset-0 ${_?"cursor-ew-resize":"opacity-50"}`,onMouseDown:He=>de(He,!0),children:[s.jsx("line",{x1:ia.left,y1:25,x2:j-ia.right,y2:25,stroke:"#4A5568",strokeWidth:"2"}),_&&Ce.map(({date:He,label:W,isMajor:k})=>{const pe=P(He);return s.jsxs("g",{children:[s.jsx("line",{x1:pe,y1:k?15:20,x2:pe,y2:35,stroke:"#A0AEC0",strokeWidth:"1"}),W&&s.jsx("text",{x:pe,y:12,fill:"#90CDF4",fontSize:"10",textAnchor:"middle",children:W})]},He.toISOString())}),_&&f&&j>0&&s.jsxs("g",{children:[s.jsx("rect",{x:ge,y:"21",width:fe-ge,height:"8",fill:"rgba(79, 209, 197, 0.5)"}),s.jsx("line",{x1:ge,y1:10,x2:ge,y2:40,stroke:"#4FD1C5",strokeWidth:"2"}),s.jsx("circle",{cx:ge,cy:25,r:"6",fill:"#4FD1C5",stroke:"#1A202C",strokeWidth:"2"}),s.jsx("line",{x1:fe,y1:10,x2:fe,y2:40,stroke:"#4FD1C5",strokeWidth:"2"}),s.jsx("circle",{cx:fe,cy:25,r:"6",fill:"#4FD1C5",stroke:"#1A202C",strokeWidth:"2"})]}),_&&h!==null&&j>0&&s.jsxs("g",{children:[s.jsx("line",{x1:Se,y1:10,x2:Se,y2:40,stroke:"#EF4444",strokeWidth:"2"}),s.jsx("circle",{cx:Se,cy:25,r:"6",fill:"#EF4444",stroke:"#1A202C",strokeWidth:"2"})]})]})})})},Cy=({requiredFiles:u,onCancel:f,onConfirm:h})=>{const[r,g]=b.useState(null);return s.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-lg text-gray-200 border border-gray-700",children:[s.jsx("h2",{className:"text-xl font-bold text-cyan-300 mb-4",children:"Restore Session"}),s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"To continue, please provide the following data file(s) from your original session:"}),s.jsx("ul",{className:"list-disc list-inside bg-gray-900/50 p-3 rounded-md mb-4 text-sm font-mono",children:u.map(w=>s.jsx("li",{children:w},w))}),s.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Select all required files below."}),s.jsx("div",{children:s.jsx("input",{type:"file",multiple:!0,accept:".npy,.png,.vrt",onChange:w=>g(w.target.files),className:"w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-cyan-600 file:text-white hover:file:bg-cyan-500"})}),s.jsxs("div",{className:"flex justify-end gap-4 mt-6",children:[s.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded-md text-sm font-semibold",children:"Cancel"}),s.jsx("button",{onClick:()=>r&&h(r),disabled:!r||r.length===0,className:"px-4 py-2 bg-teal-600 hover:bg-teal-500 disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed rounded-md text-sm font-semibold",children:"Load Session"})]})]})})},na=({label:u,value:f})=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-gray-400 text-xs",children:[u,":"]}),s.jsx("span",{className:"font-mono text-cyan-300 text-xs",children:f})]}),Ty=()=>{const{hoveredCoords:u,timeRange:f,currentDateIndex:h,primaryDataLayer:r}=xl();return r?s.jsxs("section",{className:"bg-gray-800/70 border-y border-gray-700 w-full flex-shrink-0 z-40 px-4 py-1 flex items-center justify-between flex-wrap gap-x-6 gap-y-1",children:[s.jsxs("div",{className:"flex items-center gap-x-4",children:[s.jsx(na,{label:"Lat",value:u?u.lat.toFixed(4):"---"}),s.jsx(na,{label:"Lon",value:u?u.lon.toFixed(4):"---"})]}),f?s.jsxs("div",{className:"flex items-center gap-x-4",children:[s.jsx(na,{label:"Current",value:h!==null?So(h):"---"}),s.jsx(na,{label:"Start",value:So(f.start)}),s.jsx(na,{label:"End",value:So(f.end)}),s.jsx(na,{label:"Duration",value:`${f.end-f.start+1} hrs`})]}):s.jsxs("div",{className:"flex items-center gap-x-4",children:[s.jsx(na,{label:"Current",value:"---"}),s.jsx(na,{label:"Start",value:"---"}),s.jsx(na,{label:"End",value:"---"}),s.jsx(na,{label:"Duration",value:"---"})]})]}):null};class Ki extends b.Component{constructor(f){super(f),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.handleReload=()=>{window.location.reload()},this.handleClearStorage=()=>{confirm("This will clear all saved data and reload the page. Continue?")&&(localStorage.clear(),sessionStorage.clear(),window.location.reload())},this.state={hasError:!1,error:null,errorInfo:null,copied:!1}}static getDerivedStateFromError(f){return{hasError:!0,error:f}}componentDidCatch(f,h){console.error("Error Boundary caught an error:",f,h),this.setState({error:f,errorInfo:h}),this.props.onError&&this.props.onError(f,h)}render(){var f;return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"h-screen w-screen bg-gray-900 text-gray-200 flex items-center justify-center p-8",children:s.jsxs("div",{className:"max-w-2xl w-full bg-gray-800 rounded-lg shadow-2xl p-8 border border-red-500/30",children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx("svg",{className:"w-12 h-12 text-red-500 mr-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),s.jsx("h1",{className:"text-3xl font-bold text-red-500",children:"Something Went Wrong"})]}),s.jsx("p",{className:"text-gray-300 mb-6 text-lg",children:"The application encountered an unexpected error. Don't worry, your work may still be recoverable."}),s.jsxs("details",{className:"mb-6 bg-gray-900/50 rounded p-4 border border-gray-700",children:[s.jsx("summary",{className:"cursor-pointer text-gray-400 hover:text-gray-200 font-medium mb-2",children:"View Technical Details"}),s.jsxs("div",{className:"mt-3 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-red-400 mb-1",children:"Error:"}),s.jsx("pre",{className:"text-xs bg-black/30 p-3 rounded overflow-x-auto text-red-300",children:(f=this.state.error)==null?void 0:f.toString()})]}),this.state.errorInfo&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-yellow-400 mb-1",children:"Component Stack:"}),s.jsx("pre",{className:"text-xs bg-black/30 p-3 rounded overflow-x-auto text-yellow-300",children:this.state.errorInfo.componentStack})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 bg-cyan-600 hover:bg-cyan-500 text-white rounded font-medium transition-colors",children:"Try Again"}),s.jsx("button",{onClick:this.handleReload,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded font-medium transition-colors",children:"Reload Page"}),s.jsx("button",{onClick:this.handleClearStorage,className:"px-6 py-3 bg-red-600 hover:bg-red-500 text-white rounded font-medium transition-colors",children:"Clear Data & Reset"}),s.jsx("button",{onClick:()=>{var r,g;const h=`Error: ${(r=this.state.error)==null?void 0:r.toString()}

Stack: ${(g=this.state.errorInfo)==null?void 0:g.componentStack}`;navigator.clipboard.writeText(h),this.setState({copied:!0}),setTimeout(()=>this.setState({copied:!1}),2e3)},className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded font-medium transition-colors",children:this.state.copied?" Copied!":"Copy Error Details"})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-900/20 border border-blue-500/30 rounded",children:s.jsxs("p",{className:"text-sm text-blue-300",children:[s.jsx("strong",{children:"Tip:"}),' If this error persists, try clearing your browser cache or using "Clear Data & Reset" above.']})})]})}):this.props.children}}const Ey=({message:u,progress:f,onCancel:h,show:r})=>{if(!r)return null;const g=f===void 0;return s.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl p-8 max-w-md w-full mx-4 border border-gray-700",children:[g&&s.jsx("div",{className:"flex justify-center mb-6",children:s.jsxs("svg",{className:"animate-spin h-12 w-12 text-cyan-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),s.jsx("p",{className:"text-lg text-gray-200 text-center mb-4",children:u}),!g&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 mb-2 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 h-full transition-all duration-300 ease-out rounded-full",style:{width:`${Math.min(100,Math.max(0,f))}%`}})}),s.jsxs("p",{className:"text-sm text-gray-400 text-center",children:[Math.round(f),"%"]})]}),h&&s.jsx("button",{onClick:h,className:"mt-6 w-full px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-200 rounded transition-colors",children:"Cancel"})]})})};function Ay(u,f=!0){const h=b.useCallback(r=>{if(!f)return;const g=r.target;if(!(g.tagName==="INPUT"||g.tagName==="TEXTAREA"||g.contentEditable==="true"))for(const w of u){const _=r.key.toLowerCase()===w.key.toLowerCase(),q=w.ctrl===void 0||r.ctrlKey===w.ctrl,T=w.shift===void 0||r.shiftKey===w.shift,y=w.alt===void 0||r.altKey===w.alt;if(_&&q&&T&&y){r.preventDefault(),w.action();break}}},[u,f]);b.useEffect(()=>{if(f)return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[h,f])}const zy=()=>{const{importRequest:u,handleRestoreSession:f,setImportRequest:h,activeTool:r,onToolSelect:g,primaryDataLayer:w,isLoading:_,onTogglePlay:q,handleManualTimeRangeChange:T,timeRange:y}=xl(),x=fc.useMemo(()=>{if(!_)return;const j=_.match(/(\d+)%/);return j?parseInt(j[1],10):void 0},[_]);return Ay([{key:" ",description:"Play/Pause time animation",action:()=>{w&&y&&q()}},{key:"ArrowLeft",description:"Previous time step",action:()=>{y&&y.start>0&&T({start:y.start-1,end:y.start-1})}},{key:"ArrowRight",description:"Next time step",action:()=>{y&&w&&y.start<w.dimensions.time-1&&T({start:y.start+1,end:y.start+1})}},{key:"1",description:"Switch to Layers tool",action:()=>g("layers")},{key:"2",description:"Switch to Pan tool",action:()=>g("pan")},{key:"3",description:"Switch to Zoom tool",action:()=>g("zoom")},{key:"4",description:"Switch to Cell Select tool",action:()=>g("cellSelect")},{key:"5",description:"Switch to Multi-Cell Select tool",action:()=>g("multiCellSelect")}],!_),s.jsxs("div",{className:"h-screen bg-gray-900 text-gray-200 flex flex-row font-sans overflow-hidden",children:[u&&s.jsx(Cy,{requiredFiles:u.requiredFiles,onCancel:()=>h(null),onConfirm:j=>f(u.config,j)}),s.jsx(Ey,{show:!!_,message:_||"",progress:x}),s.jsx(Vh,{activeTool:r,onToolSelect:g}),s.jsx(yy,{}),s.jsxs("main",{className:"flex-grow flex flex-col min-w-0",children:[s.jsx("section",{className:"flex-grow flex items-center justify-center bg-black/20 p-4 sm:p-6 lg:p-8 relative",children:s.jsx(Ki,{fallback:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("p",{className:"text-red-500 text-xl mb-4",children:"Canvas Error"}),s.jsx("p",{className:"text-gray-400",children:"The map canvas encountered an error. Try reloading the page."})]}),children:s.jsx(wy,{})})}),w&&s.jsxs(s.Fragment,{children:[s.jsx(Ki,{fallback:s.jsx("div",{className:"h-8 bg-gray-800"}),children:s.jsx(Ty,{})}),s.jsx(Ki,{fallback:s.jsx("div",{className:"h-48 bg-gray-800"}),children:s.jsx(Ny,{})}),s.jsx(Ki,{fallback:s.jsx("div",{className:"h-20 bg-gray-800"}),children:s.jsx(My,{})})]})]})]})},M0=document.getElementById("root");if(!M0)throw new Error("Could not find root element to mount to");const Dy=Bh.createRoot(M0);Dy.render(s.jsx(fc.StrictMode,{children:s.jsx(Ki,{children:s.jsx(Ih,{children:s.jsx(ty,{children:s.jsx(zy,{})})})})}));
